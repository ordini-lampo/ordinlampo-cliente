(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function i_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xm={exports:{}},yl={},Jm={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ho=Symbol.for("react.element"),o_=Symbol.for("react.portal"),a_=Symbol.for("react.fragment"),l_=Symbol.for("react.strict_mode"),c_=Symbol.for("react.profiler"),u_=Symbol.for("react.provider"),d_=Symbol.for("react.context"),f_=Symbol.for("react.forward_ref"),p_=Symbol.for("react.suspense"),h_=Symbol.for("react.memo"),m_=Symbol.for("react.lazy"),dp=Symbol.iterator;function g_(e){return e===null||typeof e!="object"?null:(e=dp&&e[dp]||e["@@iterator"],typeof e=="function"?e:null)}var Qm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zm=Object.assign,eg={};function Vs(e,t,n){this.props=e,this.context=t,this.refs=eg,this.updater=n||Qm}Vs.prototype.isReactComponent={};Vs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tg(){}tg.prototype=Vs.prototype;function ud(e,t,n){this.props=e,this.context=t,this.refs=eg,this.updater=n||Qm}var dd=ud.prototype=new tg;dd.constructor=ud;Zm(dd,Vs.prototype);dd.isPureReactComponent=!0;var fp=Array.isArray,ng=Object.prototype.hasOwnProperty,fd={current:null},rg={key:!0,ref:!0,__self:!0,__source:!0};function sg(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)ng.call(t,r)&&!rg.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ho,type:e,key:i,ref:o,props:s,_owner:fd.current}}function y_(e,t){return{$$typeof:ho,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pd(e){return typeof e=="object"&&e!==null&&e.$$typeof===ho}function v_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var pp=/\/+/g;function Yl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?v_(""+e.key):t.toString(36)}function ca(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ho:case o_:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Yl(o,0):r,fp(s)?(n="",e!=null&&(n=e.replace(pp,"$&/")+"/"),ca(s,t,n,"",function(u){return u})):s!=null&&(pd(s)&&(s=y_(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(pp,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",fp(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+Yl(i,l);o+=ca(i,t,n,a,s)}else if(a=g_(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+Yl(i,l++),o+=ca(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Oo(e,t,n){if(e==null)return e;var r=[],s=0;return ca(e,r,"","",function(i){return t.call(n,i,s++)}),r}function x_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lt={current:null},ua={transition:null},__={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:ua,ReactCurrentOwner:fd};function ig(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Oo,forEach:function(e,t,n){Oo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Oo(e,function(){t++}),t},toArray:function(e){return Oo(e,function(t){return t})||[]},only:function(e){if(!pd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=Vs;re.Fragment=a_;re.Profiler=c_;re.PureComponent=ud;re.StrictMode=l_;re.Suspense=p_;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=__;re.act=ig;re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Zm({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=fd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)ng.call(t,a)&&!rg.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ho,type:e.type,key:s,ref:i,props:r,_owner:o}};re.createContext=function(e){return e={$$typeof:d_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:u_,_context:e},e.Consumer=e};re.createElement=sg;re.createFactory=function(e){var t=sg.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:f_,render:e}};re.isValidElement=pd;re.lazy=function(e){return{$$typeof:m_,_payload:{_status:-1,_result:e},_init:x_}};re.memo=function(e,t){return{$$typeof:h_,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=ua.transition;ua.transition={};try{e()}finally{ua.transition=t}};re.unstable_act=ig;re.useCallback=function(e,t){return lt.current.useCallback(e,t)};re.useContext=function(e){return lt.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return lt.current.useDeferredValue(e)};re.useEffect=function(e,t){return lt.current.useEffect(e,t)};re.useId=function(){return lt.current.useId()};re.useImperativeHandle=function(e,t,n){return lt.current.useImperativeHandle(e,t,n)};re.useInsertionEffect=function(e,t){return lt.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return lt.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return lt.current.useMemo(e,t)};re.useReducer=function(e,t,n){return lt.current.useReducer(e,t,n)};re.useRef=function(e){return lt.current.useRef(e)};re.useState=function(e){return lt.current.useState(e)};re.useSyncExternalStore=function(e,t,n){return lt.current.useSyncExternalStore(e,t,n)};re.useTransition=function(){return lt.current.useTransition()};re.version="18.3.1";Jm.exports=re;var C=Jm.exports;const S_=i_(C);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_=C,b_=Symbol.for("react.element"),E_=Symbol.for("react.fragment"),k_=Object.prototype.hasOwnProperty,N_=w_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T_={key:!0,ref:!0,__self:!0,__source:!0};function og(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)k_.call(t,r)&&!T_.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:b_,type:e,key:i,ref:o,props:s,_owner:N_.current}}yl.Fragment=E_;yl.jsx=og;yl.jsxs=og;Xm.exports=yl;var c=Xm.exports,zc={},ag={exports:{}},Pt={},lg={exports:{}},cg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,j){var I=b.length;b.push(j);e:for(;0<I;){var $=I-1>>>1,L=b[$];if(0<s(L,j))b[$]=j,b[I]=L,I=$;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var j=b[0],I=b.pop();if(I!==j){b[0]=I;e:for(var $=0,L=b.length,ne=L>>>1;$<ne;){var de=2*($+1)-1,X=b[de],W=de+1,se=b[W];if(0>s(X,I))W<L&&0>s(se,X)?(b[$]=se,b[W]=I,$=W):(b[$]=X,b[de]=I,$=de);else if(W<L&&0>s(se,I))b[$]=se,b[W]=I,$=W;else break e}}return j}function s(b,j){var I=b.sortIndex-j.sortIndex;return I!==0?I:b.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],f=1,d=null,p=3,h=!1,m=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(b){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=b)r(u),j.sortIndex=j.expirationTime,t(a,j);else break;j=n(u)}}function w(b){if(x=!1,v(b),!m)if(n(a)!==null)m=!0,q(N);else{var j=n(u);j!==null&&Z(w,j.startTime-b)}}function N(b,j){m=!1,x&&(x=!1,y(E),E=-1),h=!0;var I=p;try{for(v(j),d=n(a);d!==null&&(!(d.expirationTime>j)||b&&!M());){var $=d.callback;if(typeof $=="function"){d.callback=null,p=d.priorityLevel;var L=$(d.expirationTime<=j);j=e.unstable_now(),typeof L=="function"?d.callback=L:d===n(a)&&r(a),v(j)}else r(a);d=n(a)}if(d!==null)var ne=!0;else{var de=n(u);de!==null&&Z(w,de.startTime-j),ne=!1}return ne}finally{d=null,p=I,h=!1}}var T=!1,_=null,E=-1,O=5,k=-1;function M(){return!(e.unstable_now()-k<O)}function D(){if(_!==null){var b=e.unstable_now();k=b;var j=!0;try{j=_(!0,b)}finally{j?H():(T=!1,_=null)}}else T=!1}var H;if(typeof g=="function")H=function(){g(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,pe=B.port2;B.port1.onmessage=D,H=function(){pe.postMessage(null)}}else H=function(){S(D,0)};function q(b){_=b,T||(T=!0,H())}function Z(b,j){E=S(function(){b(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,q(N))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(b){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var I=p;p=j;try{return b()}finally{p=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,j){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var I=p;p=b;try{return j()}finally{p=I}},e.unstable_scheduleCallback=function(b,j,I){var $=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?$+I:$):I=$,b){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=I+L,b={id:f++,callback:j,priorityLevel:b,startTime:I,expirationTime:L,sortIndex:-1},I>$?(b.sortIndex=I,t(u,b),n(a)===null&&b===n(u)&&(x?(y(E),E=-1):x=!0,Z(w,I-$))):(b.sortIndex=L,t(a,b),m||h||(m=!0,q(N))),b},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(b){var j=p;return function(){var I=p;p=j;try{return b.apply(this,arguments)}finally{p=I}}}})(cg);lg.exports=cg;var I_=lg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_=C,jt=I_;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ug=new Set,Bi={};function Gr(e,t){Cs(e,t),Cs(e+"Capture",t)}function Cs(e,t){for(Bi[e]=t,e=0;e<t.length;e++)ug.add(t[e])}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bc=Object.prototype.hasOwnProperty,R_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hp={},mp={};function j_(e){return Bc.call(mp,e)?!0:Bc.call(hp,e)?!1:R_.test(e)?mp[e]=!0:(hp[e]=!0,!1)}function M_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function P_(e,t,n,r){if(t===null||typeof t>"u"||M_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ct(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qe[e]=new ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qe[t]=new ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qe[e]=new ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qe[e]=new ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qe[e]=new ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qe[e]=new ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qe[e]=new ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qe[e]=new ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qe[e]=new ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var hd=/[\-:]([a-z])/g;function md(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hd,md);Qe[t]=new ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hd,md);Qe[t]=new ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hd,md);Qe[t]=new ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qe[e]=new ct(e,1,!1,e.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qe[e]=new ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function gd(e,t,n,r){var s=Qe.hasOwnProperty(t)?Qe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(P_(t,n,s,r)&&(n=null),r||s===null?j_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Bn=C_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lo=Symbol.for("react.element"),is=Symbol.for("react.portal"),os=Symbol.for("react.fragment"),yd=Symbol.for("react.strict_mode"),Uc=Symbol.for("react.profiler"),dg=Symbol.for("react.provider"),fg=Symbol.for("react.context"),vd=Symbol.for("react.forward_ref"),Hc=Symbol.for("react.suspense"),Wc=Symbol.for("react.suspense_list"),xd=Symbol.for("react.memo"),Kn=Symbol.for("react.lazy"),pg=Symbol.for("react.offscreen"),gp=Symbol.iterator;function mi(e){return e===null||typeof e!="object"?null:(e=gp&&e[gp]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Object.assign,Xl;function Ei(e){if(Xl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xl=t&&t[1]||""}return`
`+Xl+e}var Jl=!1;function Ql(e,t){if(!e||Jl)return"";Jl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{Jl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ei(e):""}function O_(e){switch(e.tag){case 5:return Ei(e.type);case 16:return Ei("Lazy");case 13:return Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 2:case 15:return e=Ql(e.type,!1),e;case 11:return e=Ql(e.type.render,!1),e;case 1:return e=Ql(e.type,!0),e;default:return""}}function Vc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case os:return"Fragment";case is:return"Portal";case Uc:return"Profiler";case yd:return"StrictMode";case Hc:return"Suspense";case Wc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fg:return(e.displayName||"Context")+".Consumer";case dg:return(e._context.displayName||"Context")+".Provider";case vd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xd:return t=e.displayName||null,t!==null?t:Vc(e.type)||"Memo";case Kn:t=e._payload,e=e._init;try{return Vc(e(t))}catch{}}return null}function L_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vc(t);case 8:return t===yd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ur(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function A_(e){var t=hg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ao(e){e._valueTracker||(e._valueTracker=A_(e))}function mg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=hg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ja(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qc(e,t){var n=t.checked;return Ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function yp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ur(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gg(e,t){t=t.checked,t!=null&&gd(e,"checked",t,!1)}function Kc(e,t){gg(e,t);var n=ur(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gc(e,t.type,n):t.hasOwnProperty("defaultValue")&&Gc(e,t.type,ur(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Gc(e,t,n){(t!=="number"||ja(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ki=Array.isArray;function ws(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ur(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Yc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return Ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(ki(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ur(n)}}function yg(e,t){var n=ur(t.value),r=ur(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function _p(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Do,xg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Do=Do||document.createElement("div"),Do.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Do.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ui(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D_=["Webkit","ms","Moz","O"];Object.keys(Ii).forEach(function(e){D_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ii[t]=Ii[e]})});function _g(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ii.hasOwnProperty(e)&&Ii[e]?(""+t).trim():t+"px"}function Sg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=_g(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var F_=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jc(e,t){if(t){if(F_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Qc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zc=null;function _d(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var eu=null,bs=null,Es=null;function Sp(e){if(e=yo(e)){if(typeof eu!="function")throw Error(R(280));var t=e.stateNode;t&&(t=wl(t),eu(e.stateNode,e.type,t))}}function wg(e){bs?Es?Es.push(e):Es=[e]:bs=e}function bg(){if(bs){var e=bs,t=Es;if(Es=bs=null,Sp(e),t)for(e=0;e<t.length;e++)Sp(t[e])}}function Eg(e,t){return e(t)}function kg(){}var Zl=!1;function Ng(e,t,n){if(Zl)return e(t,n);Zl=!0;try{return Eg(e,t,n)}finally{Zl=!1,(bs!==null||Es!==null)&&(kg(),bg())}}function Hi(e,t){var n=e.stateNode;if(n===null)return null;var r=wl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var tu=!1;if(Mn)try{var gi={};Object.defineProperty(gi,"passive",{get:function(){tu=!0}}),window.addEventListener("test",gi,gi),window.removeEventListener("test",gi,gi)}catch{tu=!1}function $_(e,t,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var Ci=!1,Ma=null,Pa=!1,nu=null,z_={onError:function(e){Ci=!0,Ma=e}};function B_(e,t,n,r,s,i,o,l,a){Ci=!1,Ma=null,$_.apply(z_,arguments)}function U_(e,t,n,r,s,i,o,l,a){if(B_.apply(this,arguments),Ci){if(Ci){var u=Ma;Ci=!1,Ma=null}else throw Error(R(198));Pa||(Pa=!0,nu=u)}}function Yr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Tg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wp(e){if(Yr(e)!==e)throw Error(R(188))}function H_(e){var t=e.alternate;if(!t){if(t=Yr(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return wp(s),e;if(i===r)return wp(s),t;i=i.sibling}throw Error(R(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function Ig(e){return e=H_(e),e!==null?Cg(e):null}function Cg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cg(e);if(t!==null)return t;e=e.sibling}return null}var Rg=jt.unstable_scheduleCallback,bp=jt.unstable_cancelCallback,W_=jt.unstable_shouldYield,V_=jt.unstable_requestPaint,Pe=jt.unstable_now,q_=jt.unstable_getCurrentPriorityLevel,Sd=jt.unstable_ImmediatePriority,jg=jt.unstable_UserBlockingPriority,Oa=jt.unstable_NormalPriority,K_=jt.unstable_LowPriority,Mg=jt.unstable_IdlePriority,vl=null,mn=null;function G_(e){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(vl,e,void 0,(e.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:J_,Y_=Math.log,X_=Math.LN2;function J_(e){return e>>>=0,e===0?32:31-(Y_(e)/X_|0)|0}var Fo=64,$o=4194304;function Ni(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function La(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Ni(l):(i&=o,i!==0&&(r=Ni(i)))}else o=n&~s,o!==0?r=Ni(o):i!==0&&(r=Ni(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-rn(t),s=1<<n,r|=e[n],t&=~s;return r}function Q_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-rn(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=Q_(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function ru(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pg(){var e=Fo;return Fo<<=1,!(Fo&4194240)&&(Fo=64),e}function ec(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rn(t),e[t]=n}function eS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-rn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function wd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var me=0;function Og(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Lg,bd,Ag,Dg,Fg,su=!1,zo=[],tr=null,nr=null,rr=null,Wi=new Map,Vi=new Map,Jn=[],tS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ep(e,t){switch(e){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":Wi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vi.delete(t.pointerId)}}function yi(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=yo(t),t!==null&&bd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function nS(e,t,n,r,s){switch(t){case"focusin":return tr=yi(tr,e,t,n,r,s),!0;case"dragenter":return nr=yi(nr,e,t,n,r,s),!0;case"mouseover":return rr=yi(rr,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Wi.set(i,yi(Wi.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Vi.set(i,yi(Vi.get(i)||null,e,t,n,r,s)),!0}return!1}function $g(e){var t=Tr(e.target);if(t!==null){var n=Yr(t);if(n!==null){if(t=n.tag,t===13){if(t=Tg(n),t!==null){e.blockedOn=t,Fg(e.priority,function(){Ag(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function da(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=iu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Zc=r,n.target.dispatchEvent(r),Zc=null}else return t=yo(n),t!==null&&bd(t),e.blockedOn=n,!1;t.shift()}return!0}function kp(e,t,n){da(e)&&n.delete(t)}function rS(){su=!1,tr!==null&&da(tr)&&(tr=null),nr!==null&&da(nr)&&(nr=null),rr!==null&&da(rr)&&(rr=null),Wi.forEach(kp),Vi.forEach(kp)}function vi(e,t){e.blockedOn===t&&(e.blockedOn=null,su||(su=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,rS)))}function qi(e){function t(s){return vi(s,e)}if(0<zo.length){vi(zo[0],e);for(var n=1;n<zo.length;n++){var r=zo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(tr!==null&&vi(tr,e),nr!==null&&vi(nr,e),rr!==null&&vi(rr,e),Wi.forEach(t),Vi.forEach(t),n=0;n<Jn.length;n++)r=Jn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Jn.length&&(n=Jn[0],n.blockedOn===null);)$g(n),n.blockedOn===null&&Jn.shift()}var ks=Bn.ReactCurrentBatchConfig,Aa=!0;function sS(e,t,n,r){var s=me,i=ks.transition;ks.transition=null;try{me=1,Ed(e,t,n,r)}finally{me=s,ks.transition=i}}function iS(e,t,n,r){var s=me,i=ks.transition;ks.transition=null;try{me=4,Ed(e,t,n,r)}finally{me=s,ks.transition=i}}function Ed(e,t,n,r){if(Aa){var s=iu(e,t,n,r);if(s===null)uc(e,t,r,Da,n),Ep(e,r);else if(nS(s,e,t,n,r))r.stopPropagation();else if(Ep(e,r),t&4&&-1<tS.indexOf(e)){for(;s!==null;){var i=yo(s);if(i!==null&&Lg(i),i=iu(e,t,n,r),i===null&&uc(e,t,r,Da,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else uc(e,t,r,null,n)}}var Da=null;function iu(e,t,n,r){if(Da=null,e=_d(r),e=Tr(e),e!==null)if(t=Yr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Tg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Da=e,null}function zg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(q_()){case Sd:return 1;case jg:return 4;case Oa:case K_:return 16;case Mg:return 536870912;default:return 16}default:return 16}}var Zn=null,kd=null,fa=null;function Bg(){if(fa)return fa;var e,t=kd,n=t.length,r,s="value"in Zn?Zn.value:Zn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return fa=s.slice(e,1<r?1-r:void 0)}function pa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bo(){return!0}function Np(){return!1}function Ot(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Bo:Np,this.isPropagationStopped=Np,this}return Ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bo)},persist:function(){},isPersistent:Bo}),t}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nd=Ot(qs),go=Ce({},qs,{view:0,detail:0}),oS=Ot(go),tc,nc,xi,xl=Ce({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Td,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xi&&(xi&&e.type==="mousemove"?(tc=e.screenX-xi.screenX,nc=e.screenY-xi.screenY):nc=tc=0,xi=e),tc)},movementY:function(e){return"movementY"in e?e.movementY:nc}}),Tp=Ot(xl),aS=Ce({},xl,{dataTransfer:0}),lS=Ot(aS),cS=Ce({},go,{relatedTarget:0}),rc=Ot(cS),uS=Ce({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),dS=Ot(uS),fS=Ce({},qs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pS=Ot(fS),hS=Ce({},qs,{data:0}),Ip=Ot(hS),mS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yS[e])?!!t[e]:!1}function Td(){return vS}var xS=Ce({},go,{key:function(e){if(e.key){var t=mS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Td,charCode:function(e){return e.type==="keypress"?pa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_S=Ot(xS),SS=Ce({},xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cp=Ot(SS),wS=Ce({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Td}),bS=Ot(wS),ES=Ce({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),kS=Ot(ES),NS=Ce({},xl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TS=Ot(NS),IS=[9,13,27,32],Id=Mn&&"CompositionEvent"in window,Ri=null;Mn&&"documentMode"in document&&(Ri=document.documentMode);var CS=Mn&&"TextEvent"in window&&!Ri,Ug=Mn&&(!Id||Ri&&8<Ri&&11>=Ri),Rp=" ",jp=!1;function Hg(e,t){switch(e){case"keyup":return IS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var as=!1;function RS(e,t){switch(e){case"compositionend":return Wg(t);case"keypress":return t.which!==32?null:(jp=!0,Rp);case"textInput":return e=t.data,e===Rp&&jp?null:e;default:return null}}function jS(e,t){if(as)return e==="compositionend"||!Id&&Hg(e,t)?(e=Bg(),fa=kd=Zn=null,as=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ug&&t.locale!=="ko"?null:t.data;default:return null}}var MS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!MS[e.type]:t==="textarea"}function Vg(e,t,n,r){wg(r),t=Fa(t,"onChange"),0<t.length&&(n=new Nd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ji=null,Ki=null;function PS(e){ny(e,0)}function _l(e){var t=us(e);if(mg(t))return e}function OS(e,t){if(e==="change")return t}var qg=!1;if(Mn){var sc;if(Mn){var ic="oninput"in document;if(!ic){var Pp=document.createElement("div");Pp.setAttribute("oninput","return;"),ic=typeof Pp.oninput=="function"}sc=ic}else sc=!1;qg=sc&&(!document.documentMode||9<document.documentMode)}function Op(){ji&&(ji.detachEvent("onpropertychange",Kg),Ki=ji=null)}function Kg(e){if(e.propertyName==="value"&&_l(Ki)){var t=[];Vg(t,Ki,e,_d(e)),Ng(PS,t)}}function LS(e,t,n){e==="focusin"?(Op(),ji=t,Ki=n,ji.attachEvent("onpropertychange",Kg)):e==="focusout"&&Op()}function AS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _l(Ki)}function DS(e,t){if(e==="click")return _l(t)}function FS(e,t){if(e==="input"||e==="change")return _l(t)}function $S(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var an=typeof Object.is=="function"?Object.is:$S;function Gi(e,t){if(an(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Bc.call(t,s)||!an(e[s],t[s]))return!1}return!0}function Lp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ap(e,t){var n=Lp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lp(n)}}function Gg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yg(){for(var e=window,t=ja();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ja(e.document)}return t}function Cd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zS(e){var t=Yg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Gg(n.ownerDocument.documentElement,n)){if(r!==null&&Cd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Ap(n,i);var o=Ap(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var BS=Mn&&"documentMode"in document&&11>=document.documentMode,ls=null,ou=null,Mi=null,au=!1;function Dp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;au||ls==null||ls!==ja(r)||(r=ls,"selectionStart"in r&&Cd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mi&&Gi(Mi,r)||(Mi=r,r=Fa(ou,"onSelect"),0<r.length&&(t=new Nd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ls)))}function Uo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cs={animationend:Uo("Animation","AnimationEnd"),animationiteration:Uo("Animation","AnimationIteration"),animationstart:Uo("Animation","AnimationStart"),transitionend:Uo("Transition","TransitionEnd")},oc={},Xg={};Mn&&(Xg=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function Sl(e){if(oc[e])return oc[e];if(!cs[e])return e;var t=cs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Xg)return oc[e]=t[n];return e}var Jg=Sl("animationend"),Qg=Sl("animationiteration"),Zg=Sl("animationstart"),ey=Sl("transitionend"),ty=new Map,Fp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mr(e,t){ty.set(e,t),Gr(t,[e])}for(var ac=0;ac<Fp.length;ac++){var lc=Fp[ac],US=lc.toLowerCase(),HS=lc[0].toUpperCase()+lc.slice(1);mr(US,"on"+HS)}mr(Jg,"onAnimationEnd");mr(Qg,"onAnimationIteration");mr(Zg,"onAnimationStart");mr("dblclick","onDoubleClick");mr("focusin","onFocus");mr("focusout","onBlur");mr(ey,"onTransitionEnd");Cs("onMouseEnter",["mouseout","mouseover"]);Cs("onMouseLeave",["mouseout","mouseover"]);Cs("onPointerEnter",["pointerout","pointerover"]);Cs("onPointerLeave",["pointerout","pointerover"]);Gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ti="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ti));function $p(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,U_(r,t,void 0,e),e.currentTarget=null}function ny(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;$p(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;$p(s,l,u),i=a}}}if(Pa)throw e=nu,Pa=!1,nu=null,e}function Ee(e,t){var n=t[fu];n===void 0&&(n=t[fu]=new Set);var r=e+"__bubble";n.has(r)||(ry(t,e,2,!1),n.add(r))}function cc(e,t,n){var r=0;t&&(r|=4),ry(n,e,r,t)}var Ho="_reactListening"+Math.random().toString(36).slice(2);function Yi(e){if(!e[Ho]){e[Ho]=!0,ug.forEach(function(n){n!=="selectionchange"&&(WS.has(n)||cc(n,!1,e),cc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ho]||(t[Ho]=!0,cc("selectionchange",!1,t))}}function ry(e,t,n,r){switch(zg(t)){case 1:var s=sS;break;case 4:s=iS;break;default:s=Ed}n=s.bind(null,t,n,e),s=void 0,!tu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function uc(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Tr(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Ng(function(){var u=i,f=_d(n),d=[];e:{var p=ty.get(e);if(p!==void 0){var h=Nd,m=e;switch(e){case"keypress":if(pa(n)===0)break e;case"keydown":case"keyup":h=_S;break;case"focusin":m="focus",h=rc;break;case"focusout":m="blur",h=rc;break;case"beforeblur":case"afterblur":h=rc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Tp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=lS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=bS;break;case Jg:case Qg:case Zg:h=dS;break;case ey:h=kS;break;case"scroll":h=oS;break;case"wheel":h=TS;break;case"copy":case"cut":case"paste":h=pS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Cp}var x=(t&4)!==0,S=!x&&e==="scroll",y=x?p!==null?p+"Capture":null:p;x=[];for(var g=u,v;g!==null;){v=g;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,y!==null&&(w=Hi(g,y),w!=null&&x.push(Xi(g,w,v)))),S)break;g=g.return}0<x.length&&(p=new h(p,m,null,n,f),d.push({event:p,listeners:x}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==Zc&&(m=n.relatedTarget||n.fromElement)&&(Tr(m)||m[Pn]))break e;if((h||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=u,m=m?Tr(m):null,m!==null&&(S=Yr(m),m!==S||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=u),h!==m)){if(x=Tp,w="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=Cp,w="onPointerLeave",y="onPointerEnter",g="pointer"),S=h==null?p:us(h),v=m==null?p:us(m),p=new x(w,g+"leave",h,n,f),p.target=S,p.relatedTarget=v,w=null,Tr(f)===u&&(x=new x(y,g+"enter",m,n,f),x.target=v,x.relatedTarget=S,w=x),S=w,h&&m)t:{for(x=h,y=m,g=0,v=x;v;v=Zr(v))g++;for(v=0,w=y;w;w=Zr(w))v++;for(;0<g-v;)x=Zr(x),g--;for(;0<v-g;)y=Zr(y),v--;for(;g--;){if(x===y||y!==null&&x===y.alternate)break t;x=Zr(x),y=Zr(y)}x=null}else x=null;h!==null&&zp(d,p,h,x,!1),m!==null&&S!==null&&zp(d,S,m,x,!0)}}e:{if(p=u?us(u):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var N=OS;else if(Mp(p))if(qg)N=FS;else{N=AS;var T=LS}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=DS);if(N&&(N=N(e,u))){Vg(d,N,n,f);break e}T&&T(e,p,u),e==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&Gc(p,"number",p.value)}switch(T=u?us(u):window,e){case"focusin":(Mp(T)||T.contentEditable==="true")&&(ls=T,ou=u,Mi=null);break;case"focusout":Mi=ou=ls=null;break;case"mousedown":au=!0;break;case"contextmenu":case"mouseup":case"dragend":au=!1,Dp(d,n,f);break;case"selectionchange":if(BS)break;case"keydown":case"keyup":Dp(d,n,f)}var _;if(Id)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else as?Hg(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Ug&&n.locale!=="ko"&&(as||E!=="onCompositionStart"?E==="onCompositionEnd"&&as&&(_=Bg()):(Zn=f,kd="value"in Zn?Zn.value:Zn.textContent,as=!0)),T=Fa(u,E),0<T.length&&(E=new Ip(E,e,null,n,f),d.push({event:E,listeners:T}),_?E.data=_:(_=Wg(n),_!==null&&(E.data=_)))),(_=CS?RS(e,n):jS(e,n))&&(u=Fa(u,"onBeforeInput"),0<u.length&&(f=new Ip("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=_))}ny(d,t)})}function Xi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fa(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Hi(e,n),i!=null&&r.unshift(Xi(e,i,s)),i=Hi(e,t),i!=null&&r.push(Xi(e,i,s))),e=e.return}return r}function Zr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zp(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=Hi(n,i),a!=null&&o.unshift(Xi(n,a,l))):s||(a=Hi(n,i),a!=null&&o.push(Xi(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var VS=/\r\n?/g,qS=/\u0000|\uFFFD/g;function Bp(e){return(typeof e=="string"?e:""+e).replace(VS,`
`).replace(qS,"")}function Wo(e,t,n){if(t=Bp(t),Bp(e)!==t&&n)throw Error(R(425))}function $a(){}var lu=null,cu=null;function uu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var du=typeof setTimeout=="function"?setTimeout:void 0,KS=typeof clearTimeout=="function"?clearTimeout:void 0,Up=typeof Promise=="function"?Promise:void 0,GS=typeof queueMicrotask=="function"?queueMicrotask:typeof Up<"u"?function(e){return Up.resolve(null).then(e).catch(YS)}:du;function YS(e){setTimeout(function(){throw e})}function dc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),qi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);qi(t)}function sr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ks=Math.random().toString(36).slice(2),pn="__reactFiber$"+Ks,Ji="__reactProps$"+Ks,Pn="__reactContainer$"+Ks,fu="__reactEvents$"+Ks,XS="__reactListeners$"+Ks,JS="__reactHandles$"+Ks;function Tr(e){var t=e[pn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pn]||n[pn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hp(e);e!==null;){if(n=e[pn])return n;e=Hp(e)}return t}e=n,n=e.parentNode}return null}function yo(e){return e=e[pn]||e[Pn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function us(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function wl(e){return e[Ji]||null}var pu=[],ds=-1;function gr(e){return{current:e}}function ke(e){0>ds||(e.current=pu[ds],pu[ds]=null,ds--)}function we(e,t){ds++,pu[ds]=e.current,e.current=t}var dr={},rt=gr(dr),vt=gr(!1),$r=dr;function Rs(e,t){var n=e.type.contextTypes;if(!n)return dr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function xt(e){return e=e.childContextTypes,e!=null}function za(){ke(vt),ke(rt)}function Wp(e,t,n){if(rt.current!==dr)throw Error(R(168));we(rt,t),we(vt,n)}function sy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(R(108,L_(e)||"Unknown",s));return Ce({},n,r)}function Ba(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dr,$r=rt.current,we(rt,e),we(vt,vt.current),!0}function Vp(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=sy(e,t,$r),r.__reactInternalMemoizedMergedChildContext=e,ke(vt),ke(rt),we(rt,e)):ke(vt),we(vt,n)}var En=null,bl=!1,fc=!1;function iy(e){En===null?En=[e]:En.push(e)}function QS(e){bl=!0,iy(e)}function yr(){if(!fc&&En!==null){fc=!0;var e=0,t=me;try{var n=En;for(me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}En=null,bl=!1}catch(s){throw En!==null&&(En=En.slice(e+1)),Rg(Sd,yr),s}finally{me=t,fc=!1}}return null}var fs=[],ps=0,Ua=null,Ha=0,$t=[],zt=0,zr=null,kn=1,Nn="";function Er(e,t){fs[ps++]=Ha,fs[ps++]=Ua,Ua=e,Ha=t}function oy(e,t,n){$t[zt++]=kn,$t[zt++]=Nn,$t[zt++]=zr,zr=e;var r=kn;e=Nn;var s=32-rn(r)-1;r&=~(1<<s),n+=1;var i=32-rn(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,kn=1<<32-rn(t)+s|n<<s|r,Nn=i+e}else kn=1<<i|n<<s|r,Nn=e}function Rd(e){e.return!==null&&(Er(e,1),oy(e,1,0))}function jd(e){for(;e===Ua;)Ua=fs[--ps],fs[ps]=null,Ha=fs[--ps],fs[ps]=null;for(;e===zr;)zr=$t[--zt],$t[zt]=null,Nn=$t[--zt],$t[zt]=null,kn=$t[--zt],$t[zt]=null}var Ct=null,It=null,Ne=!1,tn=null;function ay(e,t){var n=Bt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function qp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ct=e,It=sr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ct=e,It=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zr!==null?{id:kn,overflow:Nn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Bt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ct=e,It=null,!0):!1;default:return!1}}function hu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mu(e){if(Ne){var t=It;if(t){var n=t;if(!qp(e,t)){if(hu(e))throw Error(R(418));t=sr(n.nextSibling);var r=Ct;t&&qp(e,t)?ay(r,n):(e.flags=e.flags&-4097|2,Ne=!1,Ct=e)}}else{if(hu(e))throw Error(R(418));e.flags=e.flags&-4097|2,Ne=!1,Ct=e}}}function Kp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ct=e}function Vo(e){if(e!==Ct)return!1;if(!Ne)return Kp(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!uu(e.type,e.memoizedProps)),t&&(t=It)){if(hu(e))throw ly(),Error(R(418));for(;t;)ay(e,t),t=sr(t.nextSibling)}if(Kp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){It=sr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}It=null}}else It=Ct?sr(e.stateNode.nextSibling):null;return!0}function ly(){for(var e=It;e;)e=sr(e.nextSibling)}function js(){It=Ct=null,Ne=!1}function Md(e){tn===null?tn=[e]:tn.push(e)}var ZS=Bn.ReactCurrentBatchConfig;function _i(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function qo(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gp(e){var t=e._init;return t(e._payload)}function cy(e){function t(y,g){if(e){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function n(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=lr(y,g),y.index=0,y.sibling=null,y}function i(y,g,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,g,v,w){return g===null||g.tag!==6?(g=xc(v,y.mode,w),g.return=y,g):(g=s(g,v),g.return=y,g)}function a(y,g,v,w){var N=v.type;return N===os?f(y,g,v.props.children,w,v.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Kn&&Gp(N)===g.type)?(w=s(g,v.props),w.ref=_i(y,g,v),w.return=y,w):(w=_a(v.type,v.key,v.props,null,y.mode,w),w.ref=_i(y,g,v),w.return=y,w)}function u(y,g,v,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=_c(v,y.mode,w),g.return=y,g):(g=s(g,v.children||[]),g.return=y,g)}function f(y,g,v,w,N){return g===null||g.tag!==7?(g=Pr(v,y.mode,w,N),g.return=y,g):(g=s(g,v),g.return=y,g)}function d(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=xc(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Lo:return v=_a(g.type,g.key,g.props,null,y.mode,v),v.ref=_i(y,null,g),v.return=y,v;case is:return g=_c(g,y.mode,v),g.return=y,g;case Kn:var w=g._init;return d(y,w(g._payload),v)}if(ki(g)||mi(g))return g=Pr(g,y.mode,v,null),g.return=y,g;qo(y,g)}return null}function p(y,g,v,w){var N=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return N!==null?null:l(y,g,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Lo:return v.key===N?a(y,g,v,w):null;case is:return v.key===N?u(y,g,v,w):null;case Kn:return N=v._init,p(y,g,N(v._payload),w)}if(ki(v)||mi(v))return N!==null?null:f(y,g,v,w,null);qo(y,v)}return null}function h(y,g,v,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(v)||null,l(g,y,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Lo:return y=y.get(w.key===null?v:w.key)||null,a(g,y,w,N);case is:return y=y.get(w.key===null?v:w.key)||null,u(g,y,w,N);case Kn:var T=w._init;return h(y,g,v,T(w._payload),N)}if(ki(w)||mi(w))return y=y.get(v)||null,f(g,y,w,N,null);qo(g,w)}return null}function m(y,g,v,w){for(var N=null,T=null,_=g,E=g=0,O=null;_!==null&&E<v.length;E++){_.index>E?(O=_,_=null):O=_.sibling;var k=p(y,_,v[E],w);if(k===null){_===null&&(_=O);break}e&&_&&k.alternate===null&&t(y,_),g=i(k,g,E),T===null?N=k:T.sibling=k,T=k,_=O}if(E===v.length)return n(y,_),Ne&&Er(y,E),N;if(_===null){for(;E<v.length;E++)_=d(y,v[E],w),_!==null&&(g=i(_,g,E),T===null?N=_:T.sibling=_,T=_);return Ne&&Er(y,E),N}for(_=r(y,_);E<v.length;E++)O=h(_,y,E,v[E],w),O!==null&&(e&&O.alternate!==null&&_.delete(O.key===null?E:O.key),g=i(O,g,E),T===null?N=O:T.sibling=O,T=O);return e&&_.forEach(function(M){return t(y,M)}),Ne&&Er(y,E),N}function x(y,g,v,w){var N=mi(v);if(typeof N!="function")throw Error(R(150));if(v=N.call(v),v==null)throw Error(R(151));for(var T=N=null,_=g,E=g=0,O=null,k=v.next();_!==null&&!k.done;E++,k=v.next()){_.index>E?(O=_,_=null):O=_.sibling;var M=p(y,_,k.value,w);if(M===null){_===null&&(_=O);break}e&&_&&M.alternate===null&&t(y,_),g=i(M,g,E),T===null?N=M:T.sibling=M,T=M,_=O}if(k.done)return n(y,_),Ne&&Er(y,E),N;if(_===null){for(;!k.done;E++,k=v.next())k=d(y,k.value,w),k!==null&&(g=i(k,g,E),T===null?N=k:T.sibling=k,T=k);return Ne&&Er(y,E),N}for(_=r(y,_);!k.done;E++,k=v.next())k=h(_,y,E,k.value,w),k!==null&&(e&&k.alternate!==null&&_.delete(k.key===null?E:k.key),g=i(k,g,E),T===null?N=k:T.sibling=k,T=k);return e&&_.forEach(function(D){return t(y,D)}),Ne&&Er(y,E),N}function S(y,g,v,w){if(typeof v=="object"&&v!==null&&v.type===os&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Lo:e:{for(var N=v.key,T=g;T!==null;){if(T.key===N){if(N=v.type,N===os){if(T.tag===7){n(y,T.sibling),g=s(T,v.props.children),g.return=y,y=g;break e}}else if(T.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Kn&&Gp(N)===T.type){n(y,T.sibling),g=s(T,v.props),g.ref=_i(y,T,v),g.return=y,y=g;break e}n(y,T);break}else t(y,T);T=T.sibling}v.type===os?(g=Pr(v.props.children,y.mode,w,v.key),g.return=y,y=g):(w=_a(v.type,v.key,v.props,null,y.mode,w),w.ref=_i(y,g,v),w.return=y,y=w)}return o(y);case is:e:{for(T=v.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(y,g.sibling),g=s(g,v.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else t(y,g);g=g.sibling}g=_c(v,y.mode,w),g.return=y,y=g}return o(y);case Kn:return T=v._init,S(y,g,T(v._payload),w)}if(ki(v))return m(y,g,v,w);if(mi(v))return x(y,g,v,w);qo(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(y,g.sibling),g=s(g,v),g.return=y,y=g):(n(y,g),g=xc(v,y.mode,w),g.return=y,y=g),o(y)):n(y,g)}return S}var Ms=cy(!0),uy=cy(!1),Wa=gr(null),Va=null,hs=null,Pd=null;function Od(){Pd=hs=Va=null}function Ld(e){var t=Wa.current;ke(Wa),e._currentValue=t}function gu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t){Va=e,Pd=hs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gt=!0),e.firstContext=null)}function Wt(e){var t=e._currentValue;if(Pd!==e)if(e={context:e,memoizedValue:t,next:null},hs===null){if(Va===null)throw Error(R(308));hs=e,Va.dependencies={lanes:0,firstContext:e}}else hs=hs.next=e;return t}var Ir=null;function Ad(e){Ir===null?Ir=[e]:Ir.push(e)}function dy(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Ad(t)):(n.next=s.next,s.next=n),t.interleaved=n,On(e,r)}function On(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Gn=!1;function Dd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ir(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,On(e,n)}return s=r.interleaved,s===null?(t.next=t,Ad(r)):(t.next=s.next,s.next=t),r.interleaved=t,On(e,n)}function ha(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wd(e,n)}}function Yp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qa(e,t,n,r){var s=e.updateQueue;Gn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=a))}if(i!==null){var d=s.baseState;o=0,f=u=a=null,l=i;do{var p=l.lane,h=l.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,x=l;switch(p=t,h=n,x.tag){case 1:if(m=x.payload,typeof m=="function"){d=m.call(h,d,p);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=x.payload,p=typeof m=="function"?m.call(h,d,p):m,p==null)break e;d=Ce({},d,p);break e;case 2:Gn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else h={eventTime:h,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=h,a=d):f=f.next=h,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(f===null&&(a=d),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ur|=o,e.lanes=o,e.memoizedState=d}}function Xp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(R(191,s));s.call(r)}}}var vo={},gn=gr(vo),Qi=gr(vo),Zi=gr(vo);function Cr(e){if(e===vo)throw Error(R(174));return e}function Fd(e,t){switch(we(Zi,t),we(Qi,e),we(gn,vo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xc(t,e)}ke(gn),we(gn,t)}function Ps(){ke(gn),ke(Qi),ke(Zi)}function py(e){Cr(Zi.current);var t=Cr(gn.current),n=Xc(t,e.type);t!==n&&(we(Qi,e),we(gn,n))}function $d(e){Qi.current===e&&(ke(gn),ke(Qi))}var Te=gr(0);function Ka(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pc=[];function zd(){for(var e=0;e<pc.length;e++)pc[e]._workInProgressVersionPrimary=null;pc.length=0}var ma=Bn.ReactCurrentDispatcher,hc=Bn.ReactCurrentBatchConfig,Br=0,Ie=null,Fe=null,He=null,Ga=!1,Pi=!1,eo=0,ew=0;function Ze(){throw Error(R(321))}function Bd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!an(e[n],t[n]))return!1;return!0}function Ud(e,t,n,r,s,i){if(Br=i,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ma.current=e===null||e.memoizedState===null?sw:iw,e=n(r,s),Pi){i=0;do{if(Pi=!1,eo=0,25<=i)throw Error(R(301));i+=1,He=Fe=null,t.updateQueue=null,ma.current=ow,e=n(r,s)}while(Pi)}if(ma.current=Ya,t=Fe!==null&&Fe.next!==null,Br=0,He=Fe=Ie=null,Ga=!1,t)throw Error(R(300));return e}function Hd(){var e=eo!==0;return eo=0,e}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Ie.memoizedState=He=e:He=He.next=e,He}function Vt(){if(Fe===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var t=He===null?Ie.memoizedState:He.next;if(t!==null)He=t,Fe=e;else{if(e===null)throw Error(R(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},He===null?Ie.memoizedState=He=e:He=He.next=e}return He}function to(e,t){return typeof t=="function"?t(e):t}function mc(e){var t=Vt(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=Fe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var f=u.lane;if((Br&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,Ie.lanes|=f,Ur|=f}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,an(r,t.memoizedState)||(gt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ie.lanes|=i,Ur|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gc(e){var t=Vt(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);an(i,t.memoizedState)||(gt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function hy(){}function my(e,t){var n=Ie,r=Vt(),s=t(),i=!an(r.memoizedState,s);if(i&&(r.memoizedState=s,gt=!0),r=r.queue,Wd(vy.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,no(9,yy.bind(null,n,r,s,t),void 0,null),We===null)throw Error(R(349));Br&30||gy(n,t,s)}return s}function gy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yy(e,t,n,r){t.value=n,t.getSnapshot=r,xy(t)&&_y(e)}function vy(e,t,n){return n(function(){xy(t)&&_y(e)})}function xy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!an(e,n)}catch{return!0}}function _y(e){var t=On(e,1);t!==null&&sn(t,e,1,-1)}function Jp(e){var t=fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:to,lastRenderedState:e},t.queue=e,e=e.dispatch=rw.bind(null,Ie,e),[t.memoizedState,e]}function no(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Sy(){return Vt().memoizedState}function ga(e,t,n,r){var s=fn();Ie.flags|=e,s.memoizedState=no(1|t,n,void 0,r===void 0?null:r)}function El(e,t,n,r){var s=Vt();r=r===void 0?null:r;var i=void 0;if(Fe!==null){var o=Fe.memoizedState;if(i=o.destroy,r!==null&&Bd(r,o.deps)){s.memoizedState=no(t,n,i,r);return}}Ie.flags|=e,s.memoizedState=no(1|t,n,i,r)}function Qp(e,t){return ga(8390656,8,e,t)}function Wd(e,t){return El(2048,8,e,t)}function wy(e,t){return El(4,2,e,t)}function by(e,t){return El(4,4,e,t)}function Ey(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ky(e,t,n){return n=n!=null?n.concat([e]):null,El(4,4,Ey.bind(null,t,e),n)}function Vd(){}function Ny(e,t){var n=Vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ty(e,t){var n=Vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Iy(e,t,n){return Br&21?(an(n,t)||(n=Pg(),Ie.lanes|=n,Ur|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gt=!0),e.memoizedState=n)}function tw(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var r=hc.transition;hc.transition={};try{e(!1),t()}finally{me=n,hc.transition=r}}function Cy(){return Vt().memoizedState}function nw(e,t,n){var r=ar(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ry(e))jy(t,n);else if(n=dy(e,t,n,r),n!==null){var s=at();sn(n,e,r,s),My(n,t,r)}}function rw(e,t,n){var r=ar(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ry(e))jy(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,an(l,o)){var a=t.interleaved;a===null?(s.next=s,Ad(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=dy(e,t,s,r),n!==null&&(s=at(),sn(n,e,r,s),My(n,t,r))}}function Ry(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function jy(e,t){Pi=Ga=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function My(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wd(e,n)}}var Ya={readContext:Wt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},sw={readContext:Wt,useCallback:function(e,t){return fn().memoizedState=[e,t===void 0?null:t],e},useContext:Wt,useEffect:Qp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ga(4194308,4,Ey.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ga(4194308,4,e,t)},useInsertionEffect:function(e,t){return ga(4,2,e,t)},useMemo:function(e,t){var n=fn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=fn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=nw.bind(null,Ie,e),[r.memoizedState,e]},useRef:function(e){var t=fn();return e={current:e},t.memoizedState=e},useState:Jp,useDebugValue:Vd,useDeferredValue:function(e){return fn().memoizedState=e},useTransition:function(){var e=Jp(!1),t=e[0];return e=tw.bind(null,e[1]),fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ie,s=fn();if(Ne){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),We===null)throw Error(R(349));Br&30||gy(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Qp(vy.bind(null,r,i,e),[e]),r.flags|=2048,no(9,yy.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=fn(),t=We.identifierPrefix;if(Ne){var n=Nn,r=kn;n=(r&~(1<<32-rn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=eo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ew++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iw={readContext:Wt,useCallback:Ny,useContext:Wt,useEffect:Wd,useImperativeHandle:ky,useInsertionEffect:wy,useLayoutEffect:by,useMemo:Ty,useReducer:mc,useRef:Sy,useState:function(){return mc(to)},useDebugValue:Vd,useDeferredValue:function(e){var t=Vt();return Iy(t,Fe.memoizedState,e)},useTransition:function(){var e=mc(to)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:hy,useSyncExternalStore:my,useId:Cy,unstable_isNewReconciler:!1},ow={readContext:Wt,useCallback:Ny,useContext:Wt,useEffect:Wd,useImperativeHandle:ky,useInsertionEffect:wy,useLayoutEffect:by,useMemo:Ty,useReducer:gc,useRef:Sy,useState:function(){return gc(to)},useDebugValue:Vd,useDeferredValue:function(e){var t=Vt();return Fe===null?t.memoizedState=e:Iy(t,Fe.memoizedState,e)},useTransition:function(){var e=gc(to)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:hy,useSyncExternalStore:my,useId:Cy,unstable_isNewReconciler:!1};function Jt(e,t){if(e&&e.defaultProps){t=Ce({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function yu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var kl={isMounted:function(e){return(e=e._reactInternals)?Yr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=at(),s=ar(e),i=Tn(r,s);i.payload=t,n!=null&&(i.callback=n),t=ir(e,i,s),t!==null&&(sn(t,e,s,r),ha(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=at(),s=ar(e),i=Tn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ir(e,i,s),t!==null&&(sn(t,e,s,r),ha(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=at(),r=ar(e),s=Tn(n,r);s.tag=2,t!=null&&(s.callback=t),t=ir(e,s,r),t!==null&&(sn(t,e,r,n),ha(t,e,r))}};function Zp(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Gi(n,r)||!Gi(s,i):!0}function Py(e,t,n){var r=!1,s=dr,i=t.contextType;return typeof i=="object"&&i!==null?i=Wt(i):(s=xt(t)?$r:rt.current,r=t.contextTypes,i=(r=r!=null)?Rs(e,s):dr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=kl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function eh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&kl.enqueueReplaceState(t,t.state,null)}function vu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Dd(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Wt(i):(i=xt(t)?$r:rt.current,s.context=Rs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(yu(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&kl.enqueueReplaceState(s,s.state,null),qa(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Os(e,t){try{var n="",r=t;do n+=O_(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function yc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var aw=typeof WeakMap=="function"?WeakMap:Map;function Oy(e,t,n){n=Tn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ja||(Ja=!0,Cu=r),xu(e,t)},n}function Ly(e,t,n){n=Tn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){xu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){xu(e,t),typeof r!="function"&&(or===null?or=new Set([this]):or.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function th(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new aw;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Sw.bind(null,e,t,n),t.then(e,e))}function nh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rh(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Tn(-1,1),t.tag=2,ir(n,t,1))),n.lanes|=1),e)}var lw=Bn.ReactCurrentOwner,gt=!1;function it(e,t,n,r){t.child=e===null?uy(t,null,n,r):Ms(t,e.child,n,r)}function sh(e,t,n,r,s){n=n.render;var i=t.ref;return Ns(t,s),r=Ud(e,t,n,r,i,s),n=Hd(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ln(e,t,s)):(Ne&&n&&Rd(t),t.flags|=1,it(e,t,r,s),t.child)}function ih(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Zd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Ay(e,t,i,r,s)):(e=_a(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Gi,n(o,r)&&e.ref===t.ref)return Ln(e,t,s)}return t.flags|=1,e=lr(i,r),e.ref=t.ref,e.return=t,t.child=e}function Ay(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Gi(i,r)&&e.ref===t.ref)if(gt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(gt=!0);else return t.lanes=e.lanes,Ln(e,t,s)}return _u(e,t,n,r,s)}function Dy(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(gs,Nt),Nt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,we(gs,Nt),Nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,we(gs,Nt),Nt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,we(gs,Nt),Nt|=r;return it(e,t,s,n),t.child}function Fy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _u(e,t,n,r,s){var i=xt(n)?$r:rt.current;return i=Rs(t,i),Ns(t,s),n=Ud(e,t,n,r,i,s),r=Hd(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ln(e,t,s)):(Ne&&r&&Rd(t),t.flags|=1,it(e,t,n,s),t.child)}function oh(e,t,n,r,s){if(xt(n)){var i=!0;Ba(t)}else i=!1;if(Ns(t,s),t.stateNode===null)ya(e,t),Py(t,n,r),vu(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wt(u):(u=xt(n)?$r:rt.current,u=Rs(t,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&eh(t,o,r,u),Gn=!1;var p=t.memoizedState;o.state=p,qa(t,r,o,s),a=t.memoizedState,l!==r||p!==a||vt.current||Gn?(typeof f=="function"&&(yu(t,n,f,r),a=t.memoizedState),(l=Gn||Zp(t,n,l,r,p,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,fy(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Jt(t.type,l),o.props=u,d=t.pendingProps,p=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Wt(a):(a=xt(n)?$r:rt.current,a=Rs(t,a));var h=n.getDerivedStateFromProps;(f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||p!==a)&&eh(t,o,r,a),Gn=!1,p=t.memoizedState,o.state=p,qa(t,r,o,s);var m=t.memoizedState;l!==d||p!==m||vt.current||Gn?(typeof h=="function"&&(yu(t,n,h,r),m=t.memoizedState),(u=Gn||Zp(t,n,u,r,p,m,a)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Su(e,t,n,r,i,s)}function Su(e,t,n,r,s,i){Fy(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Vp(t,n,!1),Ln(e,t,i);r=t.stateNode,lw.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ms(t,e.child,null,i),t.child=Ms(t,null,l,i)):it(e,t,l,i),t.memoizedState=r.state,s&&Vp(t,n,!0),t.child}function $y(e){var t=e.stateNode;t.pendingContext?Wp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wp(e,t.context,!1),Fd(e,t.containerInfo)}function ah(e,t,n,r,s){return js(),Md(s),t.flags|=256,it(e,t,n,r),t.child}var wu={dehydrated:null,treeContext:null,retryLane:0};function bu(e){return{baseLanes:e,cachePool:null,transitions:null}}function zy(e,t,n){var r=t.pendingProps,s=Te.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),we(Te,s&1),e===null)return mu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Il(o,r,0,null),e=Pr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=bu(n),t.memoizedState=wu,e):qd(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return cw(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=lr(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=lr(l,i):(i=Pr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?bu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=wu,r}return i=e.child,e=i.sibling,r=lr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function qd(e,t){return t=Il({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ko(e,t,n,r){return r!==null&&Md(r),Ms(t,e.child,null,n),e=qd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cw(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=yc(Error(R(422))),Ko(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Il({mode:"visible",children:r.children},s,0,null),i=Pr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ms(t,e.child,null,o),t.child.memoizedState=bu(o),t.memoizedState=wu,i);if(!(t.mode&1))return Ko(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(R(419)),r=yc(i,r,void 0),Ko(e,t,o,r)}if(l=(o&e.childLanes)!==0,gt||l){if(r=We,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,On(e,s),sn(r,e,s,-1))}return Qd(),r=yc(Error(R(421))),Ko(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ww.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,It=sr(s.nextSibling),Ct=t,Ne=!0,tn=null,e!==null&&($t[zt++]=kn,$t[zt++]=Nn,$t[zt++]=zr,kn=e.id,Nn=e.overflow,zr=t),t=qd(t,r.children),t.flags|=4096,t)}function lh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),gu(e.return,t,n)}function vc(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function By(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(it(e,t,r.children,n),r=Te.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lh(e,n,t);else if(e.tag===19)lh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(we(Te,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ka(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),vc(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ka(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}vc(t,!0,n,null,i);break;case"together":vc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ya(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ln(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ur|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=lr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=lr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function uw(e,t,n){switch(t.tag){case 3:$y(t),js();break;case 5:py(t);break;case 1:xt(t.type)&&Ba(t);break;case 4:Fd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;we(Wa,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(we(Te,Te.current&1),t.flags|=128,null):n&t.child.childLanes?zy(e,t,n):(we(Te,Te.current&1),e=Ln(e,t,n),e!==null?e.sibling:null);we(Te,Te.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return By(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),we(Te,Te.current),r)break;return null;case 22:case 23:return t.lanes=0,Dy(e,t,n)}return Ln(e,t,n)}var Uy,Eu,Hy,Wy;Uy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Eu=function(){};Hy=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Cr(gn.current);var i=null;switch(n){case"input":s=qc(e,s),r=qc(e,r),i=[];break;case"select":s=Ce({},s,{value:void 0}),r=Ce({},r,{value:void 0}),i=[];break;case"textarea":s=Yc(e,s),r=Yc(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=$a)}Jc(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bi.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&Ee("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Wy=function(e,t,n,r){n!==r&&(t.flags|=4)};function Si(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function dw(e,t,n){var r=t.pendingProps;switch(jd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return xt(t.type)&&za(),et(t),null;case 3:return r=t.stateNode,Ps(),ke(vt),ke(rt),zd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Vo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tn!==null&&(Mu(tn),tn=null))),Eu(e,t),et(t),null;case 5:$d(t);var s=Cr(Zi.current);if(n=t.type,e!==null&&t.stateNode!=null)Hy(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return et(t),null}if(e=Cr(gn.current),Vo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[pn]=t,r[Ji]=i,e=(t.mode&1)!==0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(s=0;s<Ti.length;s++)Ee(Ti[s],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":yp(r,i),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ee("invalid",r);break;case"textarea":xp(r,i),Ee("invalid",r)}Jc(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Wo(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Wo(r.textContent,l,e),s=["children",""+l]):Bi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ee("scroll",r)}switch(n){case"input":Ao(r),vp(r,i,!0);break;case"textarea":Ao(r),_p(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=$a)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[pn]=t,e[Ji]=r,Uy(e,t,!1,!1),t.stateNode=e;e:{switch(o=Qc(n,r),n){case"dialog":Ee("cancel",e),Ee("close",e),s=r;break;case"iframe":case"object":case"embed":Ee("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ti.length;s++)Ee(Ti[s],e);s=r;break;case"source":Ee("error",e),s=r;break;case"img":case"image":case"link":Ee("error",e),Ee("load",e),s=r;break;case"details":Ee("toggle",e),s=r;break;case"input":yp(e,r),s=qc(e,r),Ee("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ce({},r,{value:void 0}),Ee("invalid",e);break;case"textarea":xp(e,r),s=Yc(e,r),Ee("invalid",e);break;default:s=r}Jc(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Sg(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&xg(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ui(e,a):typeof a=="number"&&Ui(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Bi.hasOwnProperty(i)?a!=null&&i==="onScroll"&&Ee("scroll",e):a!=null&&gd(e,i,a,o))}switch(n){case"input":Ao(e),vp(e,r,!1);break;case"textarea":Ao(e),_p(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ur(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ws(e,!!r.multiple,i,!1):r.defaultValue!=null&&ws(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=$a)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)Wy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=Cr(Zi.current),Cr(gn.current),Vo(t)){if(r=t.stateNode,n=t.memoizedProps,r[pn]=t,(i=r.nodeValue!==n)&&(e=Ct,e!==null))switch(e.tag){case 3:Wo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wo(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pn]=t,t.stateNode=r}return et(t),null;case 13:if(ke(Te),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&It!==null&&t.mode&1&&!(t.flags&128))ly(),js(),t.flags|=98560,i=!1;else if(i=Vo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(R(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[pn]=t}else js(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;et(t),i=!1}else tn!==null&&(Mu(tn),tn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Te.current&1?$e===0&&($e=3):Qd())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return Ps(),Eu(e,t),e===null&&Yi(t.stateNode.containerInfo),et(t),null;case 10:return Ld(t.type._context),et(t),null;case 17:return xt(t.type)&&za(),et(t),null;case 19:if(ke(Te),i=t.memoizedState,i===null)return et(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Si(i,!1);else{if($e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ka(e),o!==null){for(t.flags|=128,Si(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return we(Te,Te.current&1|2),t.child}e=e.sibling}i.tail!==null&&Pe()>Ls&&(t.flags|=128,r=!0,Si(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ka(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Si(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ne)return et(t),null}else 2*Pe()-i.renderingStartTime>Ls&&n!==1073741824&&(t.flags|=128,r=!0,Si(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Pe(),t.sibling=null,n=Te.current,we(Te,r?n&1|2:n&1),t):(et(t),null);case 22:case 23:return Jd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Nt&1073741824&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function fw(e,t){switch(jd(t),t.tag){case 1:return xt(t.type)&&za(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ps(),ke(vt),ke(rt),zd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $d(t),null;case 13:if(ke(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));js()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Te),null;case 4:return Ps(),null;case 10:return Ld(t.type._context),null;case 22:case 23:return Jd(),null;case 24:return null;default:return null}}var Go=!1,tt=!1,pw=typeof WeakSet=="function"?WeakSet:Set,A=null;function ms(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(e,t,r)}else n.current=null}function ku(e,t,n){try{n()}catch(r){je(e,t,r)}}var ch=!1;function hw(e,t){if(lu=Aa,e=Yg(),Cd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,f=0,d=e,p=null;t:for(;;){for(var h;d!==n||s!==0&&d.nodeType!==3||(l=o+s),d!==i||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)p=d,d=h;for(;;){if(d===e)break t;if(p===n&&++u===s&&(l=o),p===i&&++f===r&&(a=o),(h=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=h}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(cu={focusedElem:e,selectionRange:n},Aa=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var x=m.memoizedProps,S=m.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:Jt(t.type,x),S);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(w){je(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return m=ch,ch=!1,m}function Oi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ku(t,n,i)}s=s.next}while(s!==r)}}function Nl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Nu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Vy(e){var t=e.alternate;t!==null&&(e.alternate=null,Vy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pn],delete t[Ji],delete t[fu],delete t[XS],delete t[JS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qy(e){return e.tag===5||e.tag===3||e.tag===4}function uh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=$a));else if(r!==4&&(e=e.child,e!==null))for(Tu(e,t,n),e=e.sibling;e!==null;)Tu(e,t,n),e=e.sibling}function Iu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Iu(e,t,n),e=e.sibling;e!==null;)Iu(e,t,n),e=e.sibling}var Xe=null,Qt=!1;function Vn(e,t,n){for(n=n.child;n!==null;)Ky(e,t,n),n=n.sibling}function Ky(e,t,n){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(vl,n)}catch{}switch(n.tag){case 5:tt||ms(n,t);case 6:var r=Xe,s=Qt;Xe=null,Vn(e,t,n),Xe=r,Qt=s,Xe!==null&&(Qt?(e=Xe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(Qt?(e=Xe,n=n.stateNode,e.nodeType===8?dc(e.parentNode,n):e.nodeType===1&&dc(e,n),qi(e)):dc(Xe,n.stateNode));break;case 4:r=Xe,s=Qt,Xe=n.stateNode.containerInfo,Qt=!0,Vn(e,t,n),Xe=r,Qt=s;break;case 0:case 11:case 14:case 15:if(!tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ku(n,t,o),s=s.next}while(s!==r)}Vn(e,t,n);break;case 1:if(!tt&&(ms(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){je(n,t,l)}Vn(e,t,n);break;case 21:Vn(e,t,n);break;case 22:n.mode&1?(tt=(r=tt)||n.memoizedState!==null,Vn(e,t,n),tt=r):Vn(e,t,n);break;default:Vn(e,t,n)}}function dh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new pw),t.forEach(function(r){var s=bw.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Yt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Xe=l.stateNode,Qt=!1;break e;case 3:Xe=l.stateNode.containerInfo,Qt=!0;break e;case 4:Xe=l.stateNode.containerInfo,Qt=!0;break e}l=l.return}if(Xe===null)throw Error(R(160));Ky(i,o,s),Xe=null,Qt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){je(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Gy(t,e),t=t.sibling}function Gy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yt(t,e),dn(e),r&4){try{Oi(3,e,e.return),Nl(3,e)}catch(x){je(e,e.return,x)}try{Oi(5,e,e.return)}catch(x){je(e,e.return,x)}}break;case 1:Yt(t,e),dn(e),r&512&&n!==null&&ms(n,n.return);break;case 5:if(Yt(t,e),dn(e),r&512&&n!==null&&ms(n,n.return),e.flags&32){var s=e.stateNode;try{Ui(s,"")}catch(x){je(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&gg(s,i),Qc(l,o);var u=Qc(l,i);for(o=0;o<a.length;o+=2){var f=a[o],d=a[o+1];f==="style"?Sg(s,d):f==="dangerouslySetInnerHTML"?xg(s,d):f==="children"?Ui(s,d):gd(s,f,d,u)}switch(l){case"input":Kc(s,i);break;case"textarea":yg(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?ws(s,!!i.multiple,h,!1):p!==!!i.multiple&&(i.defaultValue!=null?ws(s,!!i.multiple,i.defaultValue,!0):ws(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ji]=i}catch(x){je(e,e.return,x)}}break;case 6:if(Yt(t,e),dn(e),r&4){if(e.stateNode===null)throw Error(R(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){je(e,e.return,x)}}break;case 3:if(Yt(t,e),dn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qi(t.containerInfo)}catch(x){je(e,e.return,x)}break;case 4:Yt(t,e),dn(e);break;case 13:Yt(t,e),dn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Yd=Pe())),r&4&&dh(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(tt=(u=tt)||f,Yt(t,e),tt=u):Yt(t,e),dn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(A=e,f=e.child;f!==null;){for(d=A=f;A!==null;){switch(p=A,h=p.child,p.tag){case 0:case 11:case 14:case 15:Oi(4,p,p.return);break;case 1:ms(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(x){je(r,n,x)}}break;case 5:ms(p,p.return);break;case 22:if(p.memoizedState!==null){ph(d);continue}}h!==null?(h.return=p,A=h):ph(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=_g("display",o))}catch(x){je(e,e.return,x)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){je(e,e.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Yt(t,e),dn(e),r&4&&dh(e);break;case 21:break;default:Yt(t,e),dn(e)}}function dn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(qy(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ui(s,""),r.flags&=-33);var i=uh(e);Iu(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=uh(e);Tu(e,l,o);break;default:throw Error(R(161))}}catch(a){je(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mw(e,t,n){A=e,Yy(e)}function Yy(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var s=A,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Go;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||tt;l=Go;var u=tt;if(Go=o,(tt=a)&&!u)for(A=s;A!==null;)o=A,a=o.child,o.tag===22&&o.memoizedState!==null?hh(s):a!==null?(a.return=o,A=a):hh(s);for(;i!==null;)A=i,Yy(i),i=i.sibling;A=s,Go=l,tt=u}fh(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,A=i):fh(e)}}function fh(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tt||Nl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!tt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Jt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Xp(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Xp(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&qi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}tt||t.flags&512&&Nu(t)}catch(p){je(t,t.return,p)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function ph(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function hh(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Nl(4,t)}catch(a){je(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){je(t,s,a)}}var i=t.return;try{Nu(t)}catch(a){je(t,i,a)}break;case 5:var o=t.return;try{Nu(t)}catch(a){je(t,o,a)}}}catch(a){je(t,t.return,a)}if(t===e){A=null;break}var l=t.sibling;if(l!==null){l.return=t.return,A=l;break}A=t.return}}var gw=Math.ceil,Xa=Bn.ReactCurrentDispatcher,Kd=Bn.ReactCurrentOwner,Ut=Bn.ReactCurrentBatchConfig,le=0,We=null,Le=null,Je=0,Nt=0,gs=gr(0),$e=0,ro=null,Ur=0,Tl=0,Gd=0,Li=null,mt=null,Yd=0,Ls=1/0,bn=null,Ja=!1,Cu=null,or=null,Yo=!1,er=null,Qa=0,Ai=0,Ru=null,va=-1,xa=0;function at(){return le&6?Pe():va!==-1?va:va=Pe()}function ar(e){return e.mode&1?le&2&&Je!==0?Je&-Je:ZS.transition!==null?(xa===0&&(xa=Pg()),xa):(e=me,e!==0||(e=window.event,e=e===void 0?16:zg(e.type)),e):1}function sn(e,t,n,r){if(50<Ai)throw Ai=0,Ru=null,Error(R(185));mo(e,n,r),(!(le&2)||e!==We)&&(e===We&&(!(le&2)&&(Tl|=n),$e===4&&Qn(e,Je)),_t(e,r),n===1&&le===0&&!(t.mode&1)&&(Ls=Pe()+500,bl&&yr()))}function _t(e,t){var n=e.callbackNode;Z_(e,t);var r=La(e,e===We?Je:0);if(r===0)n!==null&&bp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&bp(n),t===1)e.tag===0?QS(mh.bind(null,e)):iy(mh.bind(null,e)),GS(function(){!(le&6)&&yr()}),n=null;else{switch(Og(r)){case 1:n=Sd;break;case 4:n=jg;break;case 16:n=Oa;break;case 536870912:n=Mg;break;default:n=Oa}n=r0(n,Xy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Xy(e,t){if(va=-1,xa=0,le&6)throw Error(R(327));var n=e.callbackNode;if(Ts()&&e.callbackNode!==n)return null;var r=La(e,e===We?Je:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Za(e,r);else{t=r;var s=le;le|=2;var i=Qy();(We!==e||Je!==t)&&(bn=null,Ls=Pe()+500,Mr(e,t));do try{xw();break}catch(l){Jy(e,l)}while(!0);Od(),Xa.current=i,le=s,Le!==null?t=0:(We=null,Je=0,t=$e)}if(t!==0){if(t===2&&(s=ru(e),s!==0&&(r=s,t=ju(e,s))),t===1)throw n=ro,Mr(e,0),Qn(e,r),_t(e,Pe()),n;if(t===6)Qn(e,r);else{if(s=e.current.alternate,!(r&30)&&!yw(s)&&(t=Za(e,r),t===2&&(i=ru(e),i!==0&&(r=i,t=ju(e,i))),t===1))throw n=ro,Mr(e,0),Qn(e,r),_t(e,Pe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:kr(e,mt,bn);break;case 3:if(Qn(e,r),(r&130023424)===r&&(t=Yd+500-Pe(),10<t)){if(La(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){at(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=du(kr.bind(null,e,mt,bn),t);break}kr(e,mt,bn);break;case 4:if(Qn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-rn(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gw(r/1960))-r,10<r){e.timeoutHandle=du(kr.bind(null,e,mt,bn),r);break}kr(e,mt,bn);break;case 5:kr(e,mt,bn);break;default:throw Error(R(329))}}}return _t(e,Pe()),e.callbackNode===n?Xy.bind(null,e):null}function ju(e,t){var n=Li;return e.current.memoizedState.isDehydrated&&(Mr(e,t).flags|=256),e=Za(e,t),e!==2&&(t=mt,mt=n,t!==null&&Mu(t)),e}function Mu(e){mt===null?mt=e:mt.push.apply(mt,e)}function yw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!an(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qn(e,t){for(t&=~Gd,t&=~Tl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rn(t),r=1<<n;e[n]=-1,t&=~r}}function mh(e){if(le&6)throw Error(R(327));Ts();var t=La(e,0);if(!(t&1))return _t(e,Pe()),null;var n=Za(e,t);if(e.tag!==0&&n===2){var r=ru(e);r!==0&&(t=r,n=ju(e,r))}if(n===1)throw n=ro,Mr(e,0),Qn(e,t),_t(e,Pe()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kr(e,mt,bn),_t(e,Pe()),null}function Xd(e,t){var n=le;le|=1;try{return e(t)}finally{le=n,le===0&&(Ls=Pe()+500,bl&&yr())}}function Hr(e){er!==null&&er.tag===0&&!(le&6)&&Ts();var t=le;le|=1;var n=Ut.transition,r=me;try{if(Ut.transition=null,me=1,e)return e()}finally{me=r,Ut.transition=n,le=t,!(le&6)&&yr()}}function Jd(){Nt=gs.current,ke(gs)}function Mr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,KS(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(jd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&za();break;case 3:Ps(),ke(vt),ke(rt),zd();break;case 5:$d(r);break;case 4:Ps();break;case 13:ke(Te);break;case 19:ke(Te);break;case 10:Ld(r.type._context);break;case 22:case 23:Jd()}n=n.return}if(We=e,Le=e=lr(e.current,null),Je=Nt=t,$e=0,ro=null,Gd=Tl=Ur=0,mt=Li=null,Ir!==null){for(t=0;t<Ir.length;t++)if(n=Ir[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ir=null}return e}function Jy(e,t){do{var n=Le;try{if(Od(),ma.current=Ya,Ga){for(var r=Ie.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ga=!1}if(Br=0,He=Fe=Ie=null,Pi=!1,eo=0,Kd.current=null,n===null||n.return===null){$e=1,ro=t,Le=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=Je,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=nh(o);if(h!==null){h.flags&=-257,rh(h,o,l,i,t),h.mode&1&&th(i,u,t),t=h,a=u;var m=t.updateQueue;if(m===null){var x=new Set;x.add(a),t.updateQueue=x}else m.add(a);break e}else{if(!(t&1)){th(i,u,t),Qd();break e}a=Error(R(426))}}else if(Ne&&l.mode&1){var S=nh(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),rh(S,o,l,i,t),Md(Os(a,l));break e}}i=a=Os(a,l),$e!==4&&($e=2),Li===null?Li=[i]:Li.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=Oy(i,a,t);Yp(i,y);break e;case 1:l=a;var g=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(or===null||!or.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=Ly(i,l,t);Yp(i,w);break e}}i=i.return}while(i!==null)}e0(n)}catch(N){t=N,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function Qy(){var e=Xa.current;return Xa.current=Ya,e===null?Ya:e}function Qd(){($e===0||$e===3||$e===2)&&($e=4),We===null||!(Ur&268435455)&&!(Tl&268435455)||Qn(We,Je)}function Za(e,t){var n=le;le|=2;var r=Qy();(We!==e||Je!==t)&&(bn=null,Mr(e,t));do try{vw();break}catch(s){Jy(e,s)}while(!0);if(Od(),le=n,Xa.current=r,Le!==null)throw Error(R(261));return We=null,Je=0,$e}function vw(){for(;Le!==null;)Zy(Le)}function xw(){for(;Le!==null&&!W_();)Zy(Le)}function Zy(e){var t=n0(e.alternate,e,Nt);e.memoizedProps=e.pendingProps,t===null?e0(e):Le=t,Kd.current=null}function e0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=fw(n,t),n!==null){n.flags&=32767,Le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Le=null;return}}else if(n=dw(n,t,Nt),n!==null){Le=n;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);$e===0&&($e=5)}function kr(e,t,n){var r=me,s=Ut.transition;try{Ut.transition=null,me=1,_w(e,t,n,r)}finally{Ut.transition=s,me=r}return null}function _w(e,t,n,r){do Ts();while(er!==null);if(le&6)throw Error(R(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(eS(e,i),e===We&&(Le=We=null,Je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yo||(Yo=!0,r0(Oa,function(){return Ts(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ut.transition,Ut.transition=null;var o=me;me=1;var l=le;le|=4,Kd.current=null,hw(e,n),Gy(n,e),zS(cu),Aa=!!lu,cu=lu=null,e.current=n,mw(n),V_(),le=l,me=o,Ut.transition=i}else e.current=n;if(Yo&&(Yo=!1,er=e,Qa=s),i=e.pendingLanes,i===0&&(or=null),G_(n.stateNode),_t(e,Pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ja)throw Ja=!1,e=Cu,Cu=null,e;return Qa&1&&e.tag!==0&&Ts(),i=e.pendingLanes,i&1?e===Ru?Ai++:(Ai=0,Ru=e):Ai=0,yr(),null}function Ts(){if(er!==null){var e=Og(Qa),t=Ut.transition,n=me;try{if(Ut.transition=null,me=16>e?16:e,er===null)var r=!1;else{if(e=er,er=null,Qa=0,le&6)throw Error(R(331));var s=le;for(le|=4,A=e.current;A!==null;){var i=A,o=i.child;if(A.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(A=u;A!==null;){var f=A;switch(f.tag){case 0:case 11:case 15:Oi(8,f,i)}var d=f.child;if(d!==null)d.return=f,A=d;else for(;A!==null;){f=A;var p=f.sibling,h=f.return;if(Vy(f),f===u){A=null;break}if(p!==null){p.return=h,A=p;break}A=h}}}var m=i.alternate;if(m!==null){var x=m.child;if(x!==null){m.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}A=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,A=o;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Oi(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,A=y;break e}A=i.return}}var g=e.current;for(A=g;A!==null;){o=A;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,A=v;else e:for(o=g;A!==null;){if(l=A,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Nl(9,l)}}catch(N){je(l,l.return,N)}if(l===o){A=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,A=w;break e}A=l.return}}if(le=s,yr(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(vl,e)}catch{}r=!0}return r}finally{me=n,Ut.transition=t}}return!1}function gh(e,t,n){t=Os(n,t),t=Oy(e,t,1),e=ir(e,t,1),t=at(),e!==null&&(mo(e,1,t),_t(e,t))}function je(e,t,n){if(e.tag===3)gh(e,e,n);else for(;t!==null;){if(t.tag===3){gh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(or===null||!or.has(r))){e=Os(n,e),e=Ly(t,e,1),t=ir(t,e,1),e=at(),t!==null&&(mo(t,1,e),_t(t,e));break}}t=t.return}}function Sw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=at(),e.pingedLanes|=e.suspendedLanes&n,We===e&&(Je&n)===n&&($e===4||$e===3&&(Je&130023424)===Je&&500>Pe()-Yd?Mr(e,0):Gd|=n),_t(e,t)}function t0(e,t){t===0&&(e.mode&1?(t=$o,$o<<=1,!($o&130023424)&&($o=4194304)):t=1);var n=at();e=On(e,t),e!==null&&(mo(e,t,n),_t(e,n))}function ww(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),t0(e,n)}function bw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),t0(e,n)}var n0;n0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||vt.current)gt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return gt=!1,uw(e,t,n);gt=!!(e.flags&131072)}else gt=!1,Ne&&t.flags&1048576&&oy(t,Ha,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ya(e,t),e=t.pendingProps;var s=Rs(t,rt.current);Ns(t,n),s=Ud(null,t,r,e,s,n);var i=Hd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xt(r)?(i=!0,Ba(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Dd(t),s.updater=kl,t.stateNode=s,s._reactInternals=t,vu(t,r,e,n),t=Su(null,t,r,!0,i,n)):(t.tag=0,Ne&&i&&Rd(t),it(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ya(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=kw(r),e=Jt(r,e),s){case 0:t=_u(null,t,r,e,n);break e;case 1:t=oh(null,t,r,e,n);break e;case 11:t=sh(null,t,r,e,n);break e;case 14:t=ih(null,t,r,Jt(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jt(r,s),_u(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jt(r,s),oh(e,t,r,s,n);case 3:e:{if($y(t),e===null)throw Error(R(387));r=t.pendingProps,i=t.memoizedState,s=i.element,fy(e,t),qa(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Os(Error(R(423)),t),t=ah(e,t,r,n,s);break e}else if(r!==s){s=Os(Error(R(424)),t),t=ah(e,t,r,n,s);break e}else for(It=sr(t.stateNode.containerInfo.firstChild),Ct=t,Ne=!0,tn=null,n=uy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(js(),r===s){t=Ln(e,t,n);break e}it(e,t,r,n)}t=t.child}return t;case 5:return py(t),e===null&&mu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,uu(r,s)?o=null:i!==null&&uu(r,i)&&(t.flags|=32),Fy(e,t),it(e,t,o,n),t.child;case 6:return e===null&&mu(t),null;case 13:return zy(e,t,n);case 4:return Fd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ms(t,null,r,n):it(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jt(r,s),sh(e,t,r,s,n);case 7:return it(e,t,t.pendingProps,n),t.child;case 8:return it(e,t,t.pendingProps.children,n),t.child;case 12:return it(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,we(Wa,r._currentValue),r._currentValue=o,i!==null)if(an(i.value,o)){if(i.children===s.children&&!vt.current){t=Ln(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Tn(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),gu(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(R(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),gu(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}it(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ns(t,n),s=Wt(s),r=r(s),t.flags|=1,it(e,t,r,n),t.child;case 14:return r=t.type,s=Jt(r,t.pendingProps),s=Jt(r.type,s),ih(e,t,r,s,n);case 15:return Ay(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Jt(r,s),ya(e,t),t.tag=1,xt(r)?(e=!0,Ba(t)):e=!1,Ns(t,n),Py(t,r,s),vu(t,r,s,n),Su(null,t,r,!0,e,n);case 19:return By(e,t,n);case 22:return Dy(e,t,n)}throw Error(R(156,t.tag))};function r0(e,t){return Rg(e,t)}function Ew(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(e,t,n,r){return new Ew(e,t,n,r)}function Zd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kw(e){if(typeof e=="function")return Zd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vd)return 11;if(e===xd)return 14}return 2}function lr(e,t){var n=e.alternate;return n===null?(n=Bt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _a(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Zd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case os:return Pr(n.children,s,i,t);case yd:o=8,s|=8;break;case Uc:return e=Bt(12,n,t,s|2),e.elementType=Uc,e.lanes=i,e;case Hc:return e=Bt(13,n,t,s),e.elementType=Hc,e.lanes=i,e;case Wc:return e=Bt(19,n,t,s),e.elementType=Wc,e.lanes=i,e;case pg:return Il(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dg:o=10;break e;case fg:o=9;break e;case vd:o=11;break e;case xd:o=14;break e;case Kn:o=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=Bt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Pr(e,t,n,r){return e=Bt(7,e,r,t),e.lanes=n,e}function Il(e,t,n,r){return e=Bt(22,e,r,t),e.elementType=pg,e.lanes=n,e.stateNode={isHidden:!1},e}function xc(e,t,n){return e=Bt(6,e,null,t),e.lanes=n,e}function _c(e,t,n){return t=Bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nw(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ec(0),this.expirationTimes=ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ec(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ef(e,t,n,r,s,i,o,l,a){return e=new Nw(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Bt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dd(i),e}function Tw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:is,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function s0(e){if(!e)return dr;e=e._reactInternals;e:{if(Yr(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(xt(n))return sy(e,n,t)}return t}function i0(e,t,n,r,s,i,o,l,a){return e=ef(n,r,!0,e,s,i,o,l,a),e.context=s0(null),n=e.current,r=at(),s=ar(n),i=Tn(r,s),i.callback=t??null,ir(n,i,s),e.current.lanes=s,mo(e,s,r),_t(e,r),e}function Cl(e,t,n,r){var s=t.current,i=at(),o=ar(s);return n=s0(n),t.context===null?t.context=n:t.pendingContext=n,t=Tn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ir(s,t,o),e!==null&&(sn(e,s,o,i),ha(e,s,o)),o}function el(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function tf(e,t){yh(e,t),(e=e.alternate)&&yh(e,t)}function Iw(){return null}var o0=typeof reportError=="function"?reportError:function(e){console.error(e)};function nf(e){this._internalRoot=e}Rl.prototype.render=nf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Cl(e,t,null,null)};Rl.prototype.unmount=nf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hr(function(){Cl(null,e,null,null)}),t[Pn]=null}};function Rl(e){this._internalRoot=e}Rl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jn.length&&t!==0&&t<Jn[n].priority;n++);Jn.splice(n,0,e),n===0&&$g(e)}};function rf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vh(){}function Cw(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=el(o);i.call(u)}}var o=i0(t,r,e,0,null,!1,!1,"",vh);return e._reactRootContainer=o,e[Pn]=o.current,Yi(e.nodeType===8?e.parentNode:e),Hr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=el(a);l.call(u)}}var a=ef(e,0,!1,null,null,!1,!1,"",vh);return e._reactRootContainer=a,e[Pn]=a.current,Yi(e.nodeType===8?e.parentNode:e),Hr(function(){Cl(t,a,n,r)}),a}function Ml(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=el(o);l.call(a)}}Cl(t,o,e,s)}else o=Cw(n,t,e,s,r);return el(o)}Lg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ni(t.pendingLanes);n!==0&&(wd(t,n|1),_t(t,Pe()),!(le&6)&&(Ls=Pe()+500,yr()))}break;case 13:Hr(function(){var r=On(e,1);if(r!==null){var s=at();sn(r,e,1,s)}}),tf(e,1)}};bd=function(e){if(e.tag===13){var t=On(e,134217728);if(t!==null){var n=at();sn(t,e,134217728,n)}tf(e,134217728)}};Ag=function(e){if(e.tag===13){var t=ar(e),n=On(e,t);if(n!==null){var r=at();sn(n,e,t,r)}tf(e,t)}};Dg=function(){return me};Fg=function(e,t){var n=me;try{return me=e,t()}finally{me=n}};eu=function(e,t,n){switch(t){case"input":if(Kc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=wl(r);if(!s)throw Error(R(90));mg(r),Kc(r,s)}}}break;case"textarea":yg(e,n);break;case"select":t=n.value,t!=null&&ws(e,!!n.multiple,t,!1)}};Eg=Xd;kg=Hr;var Rw={usingClientEntryPoint:!1,Events:[yo,us,wl,wg,bg,Xd]},wi={findFiberByHostInstance:Tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jw={bundleType:wi.bundleType,version:wi.version,rendererPackageName:wi.rendererPackageName,rendererConfig:wi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ig(e),e===null?null:e.stateNode},findFiberByHostInstance:wi.findFiberByHostInstance||Iw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xo.isDisabled&&Xo.supportsFiber)try{vl=Xo.inject(jw),mn=Xo}catch{}}Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rw;Pt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rf(t))throw Error(R(200));return Tw(e,t,null,n)};Pt.createRoot=function(e,t){if(!rf(e))throw Error(R(299));var n=!1,r="",s=o0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ef(e,1,!1,null,null,n,!1,r,s),e[Pn]=t.current,Yi(e.nodeType===8?e.parentNode:e),new nf(t)};Pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=Ig(t),e=e===null?null:e.stateNode,e};Pt.flushSync=function(e){return Hr(e)};Pt.hydrate=function(e,t,n){if(!jl(t))throw Error(R(200));return Ml(null,e,t,!0,n)};Pt.hydrateRoot=function(e,t,n){if(!rf(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=o0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=i0(t,null,e,1,n??null,s,!1,i,o),e[Pn]=t.current,Yi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Rl(t)};Pt.render=function(e,t,n){if(!jl(t))throw Error(R(200));return Ml(null,e,t,!1,n)};Pt.unmountComponentAtNode=function(e){if(!jl(e))throw Error(R(40));return e._reactRootContainer?(Hr(function(){Ml(null,null,e,!1,function(){e._reactRootContainer=null,e[Pn]=null})}),!0):!1};Pt.unstable_batchedUpdates=Xd;Pt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!jl(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Ml(e,t,n,!1,r)};Pt.version="18.3.1-next-f1338f8080-20240426";function a0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a0)}catch(e){console.error(e)}}a0(),ag.exports=Pt;var Mw=ag.exports,xh=Mw;zc.createRoot=xh.createRoot,zc.hydrateRoot=xh.hydrateRoot;const z=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ae=globalThis,Or="10.27.0";function Xr(){return Pl(ae),ae}function Pl(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Or,t[Or]=t[Or]||{}}function Gs(e,t,n=ae){const r=n.__SENTRY__=n.__SENTRY__||{},s=r[Or]=r[Or]||{};return s[e]||(s[e]=t())}const Pw=["debug","info","warn","error","log","assert","trace"],Ow="Sentry Logger ",tl={};function Jr(e){if(!("console"in ae))return e();const t=ae.console,n={},r=Object.keys(tl);r.forEach(s=>{const i=tl[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function Lw(){of().enabled=!0}function Aw(){of().enabled=!1}function l0(){return of().enabled}function Dw(...e){sf("log",...e)}function Fw(...e){sf("warn",...e)}function $w(...e){sf("error",...e)}function sf(e,...t){z&&l0()&&Jr(()=>{ae.console[e](`${Ow}[${e}]:`,...t)})}function of(){return z?Gs("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const P={enable:Lw,disable:Aw,isEnabled:l0,log:Dw,warn:Fw,error:$w},c0=50,Wr="?",_h=/\(error: (.*)\)/,Sh=/captureMessage|captureException/;function u0(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const i=[],o=n.split(`
`);for(let l=r;l<o.length;l++){let a=o[l];a.length>1024&&(a=a.slice(0,1024));const u=_h.test(a)?a.replace(_h,"$1"):a;if(!u.match(/\S*Error: /)){for(const f of t){const d=f(u);if(d){i.push(d);break}}if(i.length>=c0+s)break}}return Bw(i.slice(s))}}function zw(e){return Array.isArray(e)?u0(...e):e}function Bw(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(Jo(t).function||"")&&t.pop(),t.reverse(),Sh.test(Jo(t).function||"")&&(t.pop(),Sh.test(Jo(t).function||"")&&t.pop()),t.slice(0,c0).map(n=>({...n,filename:n.filename||Jo(t).filename,function:n.function||Wr}))}function Jo(e){return e[e.length-1]||{}}const Sc="<anonymous>";function An(e){try{return!e||typeof e!="function"?Sc:e.name||Sc}catch{return Sc}}function wh(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}function d0(e){return"__v_isVNode"in e&&e.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const Sa={},bh={};function vr(e,t){Sa[e]=Sa[e]||[],Sa[e].push(t)}function xr(e,t){if(!bh[e]){bh[e]=!0;try{t()}catch(n){z&&P.error(`Error while instrumenting ${e}`,n)}}}function Ht(e,t){const n=e&&Sa[e];if(n)for(const r of n)try{r(t)}catch(s){z&&P.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${An(r)}
Error:`,s)}}let wc=null;function f0(e){const t="error";vr(t,e),xr(t,Uw)}function Uw(){wc=ae.onerror,ae.onerror=function(e,t,n,r,s){return Ht("error",{column:r,error:s,line:n,msg:e,url:t}),wc?wc.apply(this,arguments):!1},ae.onerror.__SENTRY_INSTRUMENTED__=!0}let bc=null;function p0(e){const t="unhandledrejection";vr(t,e),xr(t,Hw)}function Hw(){bc=ae.onunhandledrejection,ae.onunhandledrejection=function(e){return Ht("unhandledrejection",e),bc?bc.apply(this,arguments):!0},ae.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const h0=Object.prototype.toString;function af(e){switch(h0.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Dn(e,Error)}}function Ys(e,t){return h0.call(e)===`[object ${t}]`}function m0(e){return Ys(e,"ErrorEvent")}function Eh(e){return Ys(e,"DOMError")}function Ww(e){return Ys(e,"DOMException")}function In(e){return Ys(e,"String")}function lf(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function As(e){return e===null||lf(e)||typeof e!="object"&&typeof e!="function"}function so(e){return Ys(e,"Object")}function Ol(e){return typeof Event<"u"&&Dn(e,Event)}function Vw(e){return typeof Element<"u"&&Dn(e,Element)}function qw(e){return Ys(e,"RegExp")}function Xs(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function Kw(e){return so(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Dn(e,t){try{return e instanceof t}catch{return!1}}function g0(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue||e.__v_isVNode))}function y0(e){return typeof Request<"u"&&Dn(e,Request)}const cf=ae,Gw=80;function St(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const l=" > ",a=l.length;let u;const f=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||Gw;for(;n&&i++<r&&(u=Yw(n,f),!(u==="html"||i>1&&o+s.length*a+u.length>=d));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(l)}catch{return"<unknown>"}}function Yw(e,t){const n=e,r=[];if(!(n!=null&&n.tagName))return"";if(cf.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t!=null&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(s!=null&&s.length)s.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&In(o)){const l=o.split(/\s+/);for(const a of l)r.push(`.${a}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const l=n.getAttribute(o);l&&r.push(`[${o}="${l}"]`)}return r.join("")}function Js(){try{return cf.document.location.href}catch{return""}}function v0(e){if(!cf.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function yt(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const s=n(r);typeof s=="function"&&x0(s,r);try{e[t]=s}catch{z&&P.log(`Failed to replace method "${t}" in object`,e)}}function Mt(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{z&&P.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function x0(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Mt(e,"__sentry_original__",t)}catch{}}function uf(e){return e.__sentry_original__}function _0(e){if(af(e))return{message:e.message,name:e.name,stack:e.stack,...Nh(e)};if(Ol(e)){const t={type:e.type,target:kh(e.target),currentTarget:kh(e.currentTarget),...Nh(e)};return typeof CustomEvent<"u"&&Dn(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function kh(e){try{return Vw(e)?St(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Nh(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Xw(e){const t=Object.keys(_0(e));return t.sort(),t[0]?t.join(", "):"[object has no keys]"}function Pu(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Th(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{g0(s)?n.push(d0(s)):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function wa(e,t,n=!1){return In(e)?qw(t)?t.test(e):In(t)?n?e===t:e.includes(t):!1:!1}function Cn(e,t=[],n=!1){return t.some(r=>wa(e,r,n))}function Jw(){const e=ae;return e.crypto||e.msCrypto}let Ec;function Qw(){return Math.random()*16}function Rt(e=Jw()){try{if(e!=null&&e.randomUUID)return e.randomUUID().replace(/-/g,"")}catch{}return Ec||(Ec="10000000100040008000"+1e11),Ec.replace(/[018]/g,t=>(t^(Qw()&15)>>t/4).toString(16))}function S0(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}function Nr(e){const{message:t,event_id:n}=e;if(t)return t;const r=S0(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Ou(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function Ds(e,t){const n=S0(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const i={...s==null?void 0:s.data,...t.data};n.mechanism.data=i}}function Ih(e){if(Zw(e))return!0;try{Mt(e,"__sentry_captured__",!0)}catch{}return!1}function Zw(e){try{return e.__sentry_captured__}catch{}}const w0=1e3;function Qr(){return Date.now()/w0}function eb(){const{performance:e}=ae;if(!(e!=null&&e.now)||!e.timeOrigin)return Qr;const t=e.timeOrigin;return()=>(t+e.now())/w0}let Ch;function Ve(){return(Ch??(Ch=eb()))()}let kc;function tb(){var f;const{performance:e}=ae;if(!(e!=null&&e.now))return[void 0,"none"];const t=3600*1e3,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,o=(f=e.timing)==null?void 0:f.navigationStart,a=typeof o=="number"?Math.abs(o+n-r):t,u=a<t;return i||u?s<=a?[e.timeOrigin,"timeOrigin"]:[o,"navigationStart"]:[r,"dateNow"]}function wt(){return kc||(kc=tb()),kc[0]}function nb(e){const t=Ve(),n={sid:Rt(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>sb(n)};return e&&Fs(n,e),n}function Fs(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Ve(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Rt()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function rb(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),Fs(e,n)}function sb(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function xo(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=xo(r[s],t[s],n-1));return r}function Fn(){return Rt()}function Rn(){return Rt().substring(16)}const Lu="_sentrySpan";function $s(e,t){t?Mt(e,Lu,t):delete e[Lu]}function nl(e){return e[Lu]}const ib=100;class yn{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Fn(),sampleRand:Math.random()}}clone(){const t=new yn;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._attributes={...this._attributes},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,$s(t,nl(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Fs(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this.setTags({[t]:n})}setAttributes(t){return this._attributes={...this._attributes,...t},this._notifyScopeListeners(),this}setAttribute(t,n){return this.setAttributes({[t]:n})}removeAttribute(t){return t in this._attributes&&(delete this._attributes[t],this._notifyScopeListeners()),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof yn?n.getScopeData():so(n)?t:void 0,{tags:s,attributes:i,extra:o,user:l,contexts:a,level:u,fingerprint:f=[],propagationContext:d}=r||{};return this._tags={...this._tags,...s},this._attributes={...this._attributes,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...a},l&&Object.keys(l).length&&(this._user=l),u&&(this._level=u),f.length&&(this._fingerprint=f),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,$s(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Fn(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){var i;const r=typeof n=="number"?n:ib;if(r<=0)return this;const s={timestamp:Qr(),...t,message:t.message?Pu(t.message,2048):t.message};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),(i=this._client)==null||i.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:nl(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=xo(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=(n==null?void 0:n.event_id)||Rt();if(!this._client)return z&&P.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=(r==null?void 0:r.event_id)||Rt();if(!this._client)return z&&P.warn("No client configured on scope - will not capture message!"),s;const i=(r==null?void 0:r.syntheticException)??new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},this),s}captureEvent(t,n){const r=(n==null?void 0:n.event_id)||Rt();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(z&&P.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function ob(){return Gs("defaultCurrentScope",()=>new yn)}function ab(){return Gs("defaultIsolationScope",()=>new yn)}class lb{constructor(t,n){let r;t?r=t:r=new yn;let s;n?s=n:s=new yn,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return Xs(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function zs(){const e=Xr(),t=Pl(e);return t.stack=t.stack||new lb(ob(),ab())}function cb(e){return zs().withScope(e)}function ub(e,t){const n=zs();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Rh(e){return zs().withScope(()=>e(zs().getIsolationScope()))}function db(){return{withIsolationScope:Rh,withScope:cb,withSetScope:ub,withSetIsolationScope:(e,t)=>Rh(t),getCurrentScope:()=>zs().getScope(),getIsolationScope:()=>zs().getIsolationScope()}}function Qs(e){const t=Pl(e);return t.acs?t.acs:db()}function ge(){const e=Xr();return Qs(e).getCurrentScope()}function vn(){const e=Xr();return Qs(e).getIsolationScope()}function fb(){return Gs("globalScope",()=>new yn)}function Ll(...e){const t=Xr(),n=Qs(t);if(e.length===2){const[r,s]=e;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(e[0])}function ie(){return ge().getClient()}function pb(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:s}=t,i={trace_id:n,span_id:s||Rn()};return r&&(i.parent_span_id=r),i}const nn="sentry.source",df="sentry.sample_rate",b0="sentry.previous_trace_sample_rate",$n="sentry.op",ze="sentry.origin",io="sentry.idle_span_finish_reason",_o="sentry.measurement_unit",So="sentry.measurement_value",jh="sentry.custom_span_name",ff="sentry.profile_id",Zs="sentry.exclusive_time",hb="sentry.link.type",mb=0,pf=1,De=2;function gb(e){if(e<400&&e>=100)return{code:pf};if(e>=400&&e<500)switch(e){case 401:return{code:De,message:"unauthenticated"};case 403:return{code:De,message:"permission_denied"};case 404:return{code:De,message:"not_found"};case 409:return{code:De,message:"already_exists"};case 413:return{code:De,message:"failed_precondition"};case 429:return{code:De,message:"resource_exhausted"};case 499:return{code:De,message:"cancelled"};default:return{code:De,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:De,message:"unimplemented"};case 503:return{code:De,message:"unavailable"};case 504:return{code:De,message:"deadline_exceeded"};default:return{code:De,message:"internal_error"}}return{code:De,message:"internal_error"}}function E0(e,t){e.setAttribute("http.response.status_code",t);const n=gb(t);n.message!=="unknown_error"&&e.setStatus(n)}const k0="_sentryScope",N0="_sentryIsolationScope";function yb(e){try{const t=ae.WeakRef;if(typeof t=="function")return new t(e)}catch{}return e}function vb(e){if(e){if(typeof e=="object"&&"deref"in e&&typeof e.deref=="function")try{return e.deref()}catch{return}return e}}function xb(e,t,n){e&&(Mt(e,N0,yb(n)),Mt(e,k0,t))}function rl(e){const t=e;return{scope:t[k0],isolationScope:vb(t[N0])}}const hf="sentry-",_b=/^sentry-/,Sb=8192;function T0(e){const t=bb(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,i])=>{if(s.match(_b)){const o=s.slice(hf.length);r[o]=i}return r},{});if(Object.keys(n).length>0)return n}function wb(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${hf}${r}`]=s),n),{});return Eb(t)}function bb(e){if(!(!e||!In(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=Mh(n);return Object.entries(r).forEach(([s,i])=>{t[s]=i}),t},{}):Mh(e)}function Mh(e){return e.split(",").map(t=>{const n=t.indexOf("=");if(n===-1)return[];const r=t.slice(0,n),s=t.slice(n+1);return[r,s].map(i=>{try{return decodeURIComponent(i.trim())}catch{return}})}).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function Eb(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=s===0?i:`${t},${i}`;return o.length>Sb?(z&&P.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const kb=/^o(\d+)\./,Nb=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Tb(e){return e==="http"||e==="https"}function ei(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:l,publicKey:a}=e;return`${l}://${a}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function Ib(e){const t=Nb.exec(e);if(!t){Jr(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,s="",i="",o="",l=""]=t.slice(1);let a="",u=l;const f=u.split("/");if(f.length>1&&(a=f.slice(0,-1).join("/"),u=f.pop()),u){const d=u.match(/^\d+/);d&&(u=d[0])}return I0({host:i,pass:s,path:a,projectId:u,port:o,protocol:n,publicKey:r})}function I0(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Cb(e){if(!z)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(P.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?Tb(r)?t&&isNaN(parseInt(t,10))?(P.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(P.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(P.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Rb(e){const t=e.match(kb);return t==null?void 0:t[1]}function jb(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=Rb(n)),r}function Mb(e){const t=typeof e=="string"?Ib(e):I0(e);if(!(!t||!Cb(t)))return t}function Vr(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const C0=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Pb(e){if(!e)return;const t=e.match(C0);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Ob(e,t){const n=Pb(e),r=T0(t);if(!(n!=null&&n.traceId))return{traceId:Fn(),sampleRand:Math.random()};const s=Lb(n,r);r&&(r.sample_rand=s.toString());const{traceId:i,parentSpanId:o,parentSampled:l}=n;return{traceId:i,parentSpanId:o,sampled:l,dsc:r||{},sampleRand:s}}function R0(e=Fn(),t=Rn(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function j0(e=Fn(),t=Rn(),n){return`00-${e}-${t}-${n?"01":"00"}`}function Lb(e,t){const n=Vr(t==null?void 0:t.sample_rand);if(n!==void 0)return n;const r=Vr(t==null?void 0:t.sample_rate);return r&&(e==null?void 0:e.parentSampled)!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}const M0=0,mf=1;let Ph=!1;function Ab(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:i,status:o,origin:l,links:a}=ce(e);return{parent_span_id:i,span_id:t,trace_id:n,data:r,op:s,status:o,origin:l,links:a}}function Db(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),s=r?t:ce(e).parent_span_id,i=rl(e).scope,o=r?(i==null?void 0:i.getPropagationContext().propagationSpanId)||Rn():t;return{parent_span_id:s,span_id:o,trace_id:n}}function Fb(e){const{traceId:t,spanId:n}=e.spanContext(),r=_r(e);return R0(t,n,r)}function $b(e){const{traceId:t,spanId:n}=e.spanContext(),r=_r(e);return j0(t,n,r)}function P0(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...s},attributes:i})=>({span_id:t,trace_id:n,sampled:r===mf,attributes:i,...s}))}function Lr(e){return typeof e=="number"?Oh(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Oh(e.getTime()):Ve()}function Oh(e){return e>9999999999?e/1e3:e}function ce(e){var r;if(Bb(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(zb(e)){const{attributes:s,startTime:i,name:o,endTime:l,status:a,links:u}=e,f="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?(r=e.parentSpanContext)==null?void 0:r.spanId:void 0;return{span_id:t,trace_id:n,data:s,description:o,parent_span_id:f,start_timestamp:Lr(i),timestamp:Lr(l)||void 0,status:O0(a),op:s[$n],origin:s[ze],links:P0(u)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function zb(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function Bb(e){return typeof e.getSpanJSON=="function"}function _r(e){const{traceFlags:t}=e.spanContext();return t===mf}function O0(e){if(!(!e||e.code===mb))return e.code===pf?"ok":e.message||"internal_error"}const Ar="_sentryChildSpans",Au="_sentryRootSpan";function L0(e,t){const n=e[Au]||e;Mt(t,Au,n),e[Ar]?e[Ar].add(t):Mt(e,Ar,new Set([t]))}function Ub(e,t){e[Ar]&&e[Ar].delete(t)}function ba(e){const t=new Set;function n(r){if(!t.has(r)&&_r(r)){t.add(r);const s=r[Ar]?Array.from(r[Ar]):[];for(const i of s)n(i)}}return n(e),Array.from(t)}function nt(e){return e[Au]||e}function ut(){const e=Xr(),t=Qs(e);return t.getActiveSpan?t.getActiveSpan():nl(ge())}function Du(){Ph||(Jr(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),Ph=!0)}let Lh=!1;function Hb(){if(Lh)return;function e(){const t=ut(),n=t&&nt(t);if(n){const r="internal_error";z&&P.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:De,message:r})}}e.tag="sentry_tracingErrorCallback",Lh=!0,f0(e),p0(e)}function on(e){var n;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||((n=ie())==null?void 0:n.getOptions());return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}function Ah(e){P.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function sl(e,t){if(!(t!=null&&t.length)||!e.description)return!1;for(const n of t){if(Vb(n)){if(wa(e.description,n))return z&&Ah(e),!0;continue}if(!n.name&&!n.op)continue;const r=n.name?wa(e.description,n.name):!0,s=n.op?e.op&&wa(e.op,n.op):!0;if(r&&s)return z&&Ah(e),!0}return!1}function Wb(e,t){const n=t.parent_span_id,r=t.span_id;if(n)for(const s of e)s.parent_span_id===r&&(s.parent_span_id=n)}function Vb(e){return typeof e=="string"||e instanceof RegExp}const gf="production",A0="_frozenDsc";function Ea(e,t){Mt(e,A0,t)}function D0(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s={environment:n.environment||gf,release:n.release,public_key:r,trace_id:e,org_id:jb(t)};return t.emit("createDsc",s),s}function F0(e,t){const n=t.getPropagationContext();return n.dsc||D0(n.traceId,e)}function zn(e){var m;const t=ie();if(!t)return{};const n=nt(e),r=ce(n),s=r.data,i=n.spanContext().traceState,o=(i==null?void 0:i.get("sentry.sample_rate"))??s[df]??s[b0];function l(x){return(typeof o=="number"||typeof o=="string")&&(x.sample_rate=`${o}`),x}const a=n[A0];if(a)return l(a);const u=i==null?void 0:i.get("sentry.dsc"),f=u&&T0(u);if(f)return l(f);const d=D0(e.spanContext().traceId,t),p=s[nn],h=r.description;return p!=="url"&&h&&(d.transaction=h),on()&&(d.sampled=String(_r(n)),d.sample_rand=(i==null?void 0:i.get("sentry.sample_rand"))??((m=rl(n).scope)==null?void 0:m.getPropagationContext().sampleRand.toString())),l(d),t.emit("createDsc",d,n),d}class fr{constructor(t={}){this._traceId=t.traceId||Fn(),this._spanId=t.spanId||Rn()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:M0}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function Zt(e,t=100,n=1/0){try{return Fu("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function $0(e,t=3,n=100*1024){const r=Zt(e,t);return Yb(r)>n?$0(e,t-1,n):r}function Fu(e,t,n=1/0,r=1/0,s=Xb()){const[i,o]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const l=qb(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const a=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(a===0)return l.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const h=u.toJSON();return Fu("",h,a-1,r,s)}catch{}const f=Array.isArray(t)?[]:{};let d=0;const p=_0(t);for(const h in p){if(!Object.prototype.hasOwnProperty.call(p,h))continue;if(d>=r){f[h]="[MaxProperties ~]";break}const m=p[h];f[h]=Fu(h,m,a-1,r,s),d++}return o(t),f}function qb(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(g0(t))return d0(t);if(Kw(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${An(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=Kb(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function Kb(e){const t=Object.getPrototypeOf(e);return t!=null&&t.constructor?t.constructor.name:"null prototype"}function Gb(e){return~-encodeURI(e).split(/%..|./).length}function Yb(e){return Gb(JSON.stringify(e))}function Xb(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function Sr(e,t=[]){return[e,t]}function Jb(e,t){const[n,r]=e;return[n,[...r,t]]}function Dh(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function $u(e){const t=Pl(ae);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function Qb(e){const[t,n]=e;let r=JSON.stringify(t);function s(i){typeof r=="string"?r=typeof i=="string"?r+i:[$u(r),i]:r.push(typeof i=="string"?$u(i):i)}for(const i of n){const[o,l]=i;if(s(`
${JSON.stringify(o)}
`),typeof l=="string"||l instanceof Uint8Array)s(l);else{let a;try{a=JSON.stringify(l)}catch{a=JSON.stringify(Zt(l))}s(a)}}return typeof r=="string"?r:Zb(r)}function Zb(e){const t=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function eE(e){return[{type:"span"},e]}function tE(e){const t=typeof e.data=="string"?$u(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const nE={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function Fh(e){return nE[e]}function yf(e){if(!(e!=null&&e.sdk))return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function z0(e,t,n,r){var i;const s=(i=e.sdkProcessingMetadata)==null?void 0:i.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:ei(r)},...s&&{trace:s}}}function rE(e,t){var r,s,i,o;if(!t)return e;const n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...((r=e.sdk)==null?void 0:r.integrations)||[],...t.integrations||[]],packages:[...((s=e.sdk)==null?void 0:s.packages)||[],...t.packages||[]],settings:(i=e.sdk)!=null&&i.settings||t.settings?{...(o=e.sdk)==null?void 0:o.settings,...t.settings}:void 0},e}function sE(e,t,n,r){const s=yf(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:ei(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Sr(i,[o])}function iE(e,t,n,r){const s=yf(n),i=e.type&&e.type!=="replay_event"?e.type:"event";rE(e,n==null?void 0:n.sdk);const o=z0(e,s,r,t);return delete e.sdkProcessingMetadata,Sr(o,[[{type:i},e]])}function oE(e,t){function n(h){return!!h.trace_id&&!!h.public_key}const r=zn(e[0]),s=t==null?void 0:t.getDsn(),i=t==null?void 0:t.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&s&&{dsn:ei(s)}},{beforeSendSpan:l,ignoreSpans:a}=(t==null?void 0:t.getOptions())||{},u=a!=null&&a.length?e.filter(h=>!sl(ce(h),a)):e,f=e.length-u.length;f&&(t==null||t.recordDroppedEvent("before_send","span",f));const d=l?h=>{const m=ce(h),x=l(m);return x||(Du(),m)}:ce,p=[];for(const h of u){const m=d(h);m&&p.push(eE(m))}return Sr(o,p)}function aE(e){if(!z)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=ce(e),{spanId:s}=e.spanContext(),i=_r(e),o=nt(e),l=o===e,a=`[Tracing] Starting ${i?"sampled":"unsampled"} ${l?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(r&&u.push(`parent ID: ${r}`),!l){const{op:f,description:d}=ce(o);u.push(`root ID: ${o.spanContext().spanId}`),f&&u.push(`root op: ${f}`),d&&u.push(`root description: ${d}`)}P.log(`${a}
  ${u.join(`
  `)}`)}function lE(e){if(!z)return;const{description:t="< unknown name >",op:n="< unknown op >"}=ce(e),{spanId:r}=e.spanContext(),i=nt(e)===e,o=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;P.log(o)}function cE(e,t,n,r=ut()){const s=r&&nt(r);s&&(z&&P.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),s.addEvent(e,{[So]:t,[_o]:n}))}function $h(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},s=r[_o],i=r[So];typeof s=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:s})}),t}const zh=1e3;class Al{constructor(t={}){this._traceId=t.traceId||Fn(),this._spanId=t.spanId||Rn(),this._startTime=t.startTimestamp||Ve(),this._links=t.links,this._attributes={},this.setAttributes({[ze]:"manual",[$n]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?mf:M0}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Lr(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(nn,"custom"),this}end(t){this._endTime||(this._endTime=Lr(t),lE(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[$n],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:O0(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[ze],profile_id:this._attributes[ff],exclusive_time:this._attributes[Zs],measurements:$h(this._events),is_segment:this._isStandaloneSpan&&nt(this)===this||void 0,segment_id:this._isStandaloneSpan?nt(this).spanContext().spanId:void 0,links:P0(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){z&&P.log("[Tracing] Adding an event to span:",t);const s=Bh(n)?n:r||Ve(),i=Bh(n)?{}:n||{},o={name:t,time:Lr(s),attributes:i};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=ie();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===nt(this)))return;if(this._isStandaloneSpan){this._sampled?dE(oE([this],t)):(z&&P.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(rl(this).scope||ge()).captureEvent(r)}_convertSpanToTransaction(){var f;if(!Uh(ce(this)))return;this._name||(z&&P.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=rl(this),r=(f=t==null?void 0:t.getScopeData().sdkProcessingMetadata)==null?void 0:f.normalizedRequest;if(this._sampled!==!0)return;const i=ba(this).filter(d=>d!==this&&!uE(d)).map(d=>ce(d)).filter(Uh),o=this._attributes[nn];delete this._attributes[jh],i.forEach(d=>{delete d.data[jh]});const l={contexts:{trace:Ab(this)},spans:i.length>zh?i.sort((d,p)=>d.start_timestamp-p.start_timestamp).slice(0,zh):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:zn(this)},request:r,...o&&{transaction_info:{source:o}}},a=$h(this._events);return a&&Object.keys(a).length&&(z&&P.log("[Measurements] Adding measurements to transaction event",JSON.stringify(a,void 0,2)),l.measurements=a),l}}function Bh(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Uh(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function uE(e){return e instanceof Al&&e.isStandaloneSpan()}function dE(e){const t=ie();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function fE(e,t,n=()=>{},r=()=>{}){let s;try{s=e()}catch(i){throw t(i),n(),i}return pE(s,t,n,r)}function pE(e,t,n,r){return Xs(e)?e.then(s=>(n(),r(s),s),s=>{throw t(s),n(),s}):(n(),r(e),e)}function hE(e,t,n){if(!on(e))return[!1];let r,s;typeof e.tracesSampler=="function"?(s=e.tracesSampler({...t,inheritOrSampleWith:l=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):l}),r=!0):t.parentSampled!==void 0?s=t.parentSampled:typeof e.tracesSampleRate<"u"&&(s=e.tracesSampleRate,r=!0);const i=Vr(s);if(i===void 0)return z&&P.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),[!1];if(!i)return z&&P.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i,r];const o=n<i;return o||z&&P.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[o,i,r]}const B0="__SENTRY_SUPPRESS_TRACING__";function mE(e,t){const n=xf();if(n.startSpan)return n.startSpan(e,t);const r=H0(e),{forceTransaction:s,parentSpan:i,scope:o}=e,l=o==null?void 0:o.clone();return Ll(l,()=>yE(i)(()=>{const u=ge(),f=W0(u,i),p=e.onlyIfParent&&!f?new fr:U0({parentSpan:f,spanArguments:r,forceTransaction:s,scope:u});return $s(u,p),fE(()=>t(p),()=>{const{status:h}=ce(p);p.isRecording()&&(!h||h==="ok")&&p.setStatus({code:De,message:"internal_error"})},()=>{p.end()})}))}function ti(e){const t=xf();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=H0(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?o=>Ll(e.scope,o):s!==void 0?o=>vf(s,o):o=>o())(()=>{const o=ge(),l=W0(o,s);return e.onlyIfParent&&!l?new fr:U0({parentSpan:l,spanArguments:n,forceTransaction:r,scope:o})})}function vf(e,t){const n=xf();return n.withActiveSpan?n.withActiveSpan(e,t):Ll(r=>($s(r,e||void 0),t(r)))}function U0({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!on()){const o=new fr;if(n||!e){const l={sampled:"false",sample_rate:"0",transaction:t.name,...zn(o)};Ea(o,l)}return o}const s=vn();let i;if(e&&!n)i=gE(e,r,t),L0(e,i);else if(e){const o=zn(e),{traceId:l,spanId:a}=e.spanContext(),u=_r(e);i=Hh({traceId:l,parentSpanId:a,...t},r,u),Ea(i,o)}else{const{traceId:o,dsc:l,parentSpanId:a,sampled:u}={...s.getPropagationContext(),...r.getPropagationContext()};i=Hh({traceId:o,parentSpanId:a,...t},r,u),l&&Ea(i,l)}return aE(i),xb(i,r,s),i}function H0(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=Lr(e.startTime),delete r.startTime,r}return n}function xf(){const e=Xr();return Qs(e)}function Hh(e,t,n){var m;const r=ie(),s=(r==null?void 0:r.getOptions())||{},{name:i=""}=e,o={spanAttributes:{...e.attributes},spanName:i,parentSampled:n};r==null||r.emit("beforeSampling",o,{decision:!1});const l=o.parentSampled??n,a=o.spanAttributes,u=t.getPropagationContext(),[f,d,p]=t.getScopeData().sdkProcessingMetadata[B0]?[!1]:hE(s,{name:i,parentSampled:l,attributes:a,parentSampleRate:Vr((m=u.dsc)==null?void 0:m.sample_rate)},u.sampleRand),h=new Al({...e,attributes:{[nn]:"custom",[df]:d!==void 0&&p?d:void 0,...a},sampled:f});return!f&&r&&(z&&P.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",h),h}function gE(e,t,n){const{spanId:r,traceId:s}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[B0]?!1:_r(e),o=i?new Al({...n,parentSpanId:r,traceId:s,sampled:i}):new fr({traceId:s});L0(e,o);const l=ie();return l&&(l.emit("spanStart",o),n.endTimestamp&&l.emit("spanEnd",o)),o}function W0(e,t){if(t)return t;if(t===null)return;const n=nl(e);if(!n)return;const r=ie();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?nt(n):n}function yE(e){return e!==void 0?t=>vf(e,t):t=>t()}const ka={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},vE="heartbeatFailed",xE="idleTimeout",_E="finalTimeout",SE="externalFinish";function V0(e,t={}){const n=new Map;let r=!1,s,i=SE,o=!t.disableAutoFinish;const l=[],{idleTimeout:a=ka.idleTimeout,finalTimeout:u=ka.finalTimeout,childSpanTimeout:f=ka.childSpanTimeout,beforeSpanEnd:d,trimIdleSpanEndTimestamp:p=!0}=t,h=ie();if(!h||!on()){const _=new fr,E={sample_rate:"0",sampled:"false",...zn(_)};return Ea(_,E),_}const m=ge(),x=ut(),S=wE(e);S.end=new Proxy(S.end,{apply(_,E,O){if(d&&d(S),E instanceof fr)return;const[k,...M]=O,D=k||Ve(),H=Lr(D),B=ba(S).filter(I=>I!==S),pe=ce(S);if(!B.length||!p)return T(H),Reflect.apply(_,E,[H,...M]);const q=h.getOptions().ignoreSpans,Z=B==null?void 0:B.reduce((I,$)=>{const L=ce($);return!L.timestamp||q&&sl(L,q)?I:I?Math.max(I,L.timestamp):L.timestamp},void 0),b=pe.start_timestamp,j=Math.min(b?b+u/1e3:1/0,Math.max(b||-1/0,Math.min(H,Z||1/0)));return T(j),Reflect.apply(_,E,[j,...M])}});function y(){s&&(clearTimeout(s),s=void 0)}function g(_){y(),s=setTimeout(()=>{!r&&n.size===0&&o&&(i=xE,S.end(_))},a)}function v(_){s=setTimeout(()=>{!r&&o&&(i=vE,S.end(_))},f)}function w(_){y(),n.set(_,!0);const E=Ve();v(E+f/1e3)}function N(_){if(n.has(_)&&n.delete(_),n.size===0){const E=Ve();g(E+a/1e3)}}function T(_){r=!0,n.clear(),l.forEach(B=>B()),$s(m,x);const E=ce(S),{start_timestamp:O}=E;if(!O)return;E.data[io]||S.setAttribute(io,i);const M=E.status;(!M||M==="unknown")&&S.setStatus({code:pf}),P.log(`[Tracing] Idle span "${E.op}" finished`);const D=ba(S).filter(B=>B!==S);let H=0;D.forEach(B=>{B.isRecording()&&(B.setStatus({code:De,message:"cancelled"}),B.end(_),z&&P.log("[Tracing] Cancelling span since span ended early",JSON.stringify(B,void 0,2)));const pe=ce(B),{timestamp:q=0,start_timestamp:Z=0}=pe,b=Z<=_,j=(u+a)/1e3,I=q-Z<=j;if(z){const $=JSON.stringify(B,void 0,2);b?I||P.log("[Tracing] Discarding span since it finished after idle span final timeout",$):P.log("[Tracing] Discarding span since it happened after idle span was finished",$)}(!I||!b)&&(Ub(S,B),H++)}),H>0&&S.setAttribute("sentry.idle_span_discarded_spans",H)}return l.push(h.on("spanStart",_=>{if(r||_===S||ce(_).timestamp||_ instanceof Al&&_.isStandaloneSpan())return;ba(S).includes(_)&&w(_.spanContext().spanId)})),l.push(h.on("spanEnd",_=>{r||N(_.spanContext().spanId)})),l.push(h.on("idleSpanEnableAutoFinish",_=>{_===S&&(o=!0,g(),n.size&&v())})),t.disableAutoFinish||g(),setTimeout(()=>{r||(S.setStatus({code:De,message:"deadline_exceeded"}),i=_E,S.end())},u),S}function wE(e){const t=ti(e);return $s(ge(),t),z&&P.log("[Tracing] Started span is an idle span"),t}const Nc=0,Wh=1,Vh=2;function Dl(e){return new oo(t=>{t(e)})}function _f(e){return new oo((t,n)=>{n(e)})}class oo{constructor(t){this._state=Nc,this._handlers=[],this._runExecutor(t)}then(t,n){return new oo((r,s)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(o){s(o)}},i=>{if(!n)s(i);else try{r(n(i))}catch(o){s(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new oo((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,t&&t()},o=>{i=!0,s=o,t&&t()}).then(()=>{if(i){r(s);return}n(s)})})}_executeHandlers(){if(this._state===Nc)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Wh&&n[1](this._value),this._state===Vh&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(i,o)=>{if(this._state===Nc){if(Xs(o)){o.then(r,s);return}this._state=i,this._value=o,this._executeHandlers()}},r=i=>{n(Wh,i)},s=i=>{n(Vh,i)};try{t(r,s)}catch(i){s(i)}}}function bE(e,t,n,r=0){try{const s=zu(t,n,e,r);return Xs(s)?s:Dl(s)}catch(s){return _f(s)}}function zu(e,t,n,r){const s=n[r];if(!e||!s)return e;const i=s({...e},t);return z&&i===null&&P.log(`Event processor "${s.id||"?"}" dropped event`),Xs(i)?i.then(o=>zu(o,t,n,r+1)):zu(i,t,n,r+1)}function EE(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;kE(e,t),r&&IE(e,r),CE(e,n),NE(e,s),TE(e,i)}function qh(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:l,breadcrumbs:a,fingerprint:u,eventProcessors:f,attachments:d,propagationContext:p,transactionName:h,span:m}=t;Qo(e,"extra",n),Qo(e,"tags",r),Qo(e,"user",s),Qo(e,"contexts",i),e.sdkProcessingMetadata=xo(e.sdkProcessingMetadata,l,2),o&&(e.level=o),h&&(e.transactionName=h),m&&(e.span=m),a.length&&(e.breadcrumbs=[...e.breadcrumbs,...a]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),f.length&&(e.eventProcessors=[...e.eventProcessors,...f]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...p}}function Qo(e,t,n){e[t]=xo(e[t],n,1)}function kE(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:l}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(s).length&&(e.user={...s,...e.user}),Object.keys(i).length&&(e.contexts={...i,...e.contexts}),o&&(e.level=o),l&&e.type!=="transaction"&&(e.transaction=l)}function NE(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function TE(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function IE(e,t){e.contexts={trace:Db(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:zn(t),...e.sdkProcessingMetadata};const n=nt(t),r=ce(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function CE(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}let Sn,Kh,Gh,qn;function RE(e){const t=ae._sentryDebugIds,n=ae._debugIds;if(!t&&!n)return{};const r=t?Object.keys(t):[],s=n?Object.keys(n):[];if(qn&&r.length===Kh&&s.length===Gh)return qn;Kh=r.length,Gh=s.length,qn={},Sn||(Sn={});const i=(o,l)=>{for(const a of o){const u=l[a],f=Sn==null?void 0:Sn[a];if(f&&qn&&u)qn[f[0]]=u,Sn&&(Sn[a]=[f[0],u]);else if(u){const d=e(a);for(let p=d.length-1;p>=0;p--){const h=d[p],m=h==null?void 0:h.filename;if(m&&qn&&Sn){qn[m]=u,Sn[a]=[m,u];break}}}}};return t&&i(r,t),n&&i(s,n),qn}function q0(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:l=1e3}=e,a={...t,event_id:t.event_id||n.event_id||Rt(),timestamp:t.timestamp||Qr()},u=n.integrations||e.integrations.map(S=>S.name);jE(a,e),OE(a,u),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&ME(a,e.stackParser);const f=AE(r,n.captureContext);n.mechanism&&Ds(a,n.mechanism);const d=s?s.getEventProcessors():[],p=fb().getScopeData();if(i){const S=i.getScopeData();qh(p,S)}if(f){const S=f.getScopeData();qh(p,S)}const h=[...n.attachments||[],...p.attachments];h.length&&(n.attachments=h),EE(a,p);const m=[...d,...p.eventProcessors];return bE(m,a,n).then(S=>(S&&PE(S),typeof o=="number"&&o>0?LE(S,o,l):S))}function jE(e,t){var l,a;const{environment:n,release:r,dist:s,maxValueLength:i}=t;e.environment=e.environment||n||gf,!e.release&&r&&(e.release=r),!e.dist&&s&&(e.dist=s);const o=e.request;o!=null&&o.url&&i&&(o.url=Pu(o.url,i)),i&&((a=(l=e.exception)==null?void 0:l.values)==null||a.forEach(u=>{u.value&&(u.value=Pu(u.value,i))}))}function ME(e,t){var r,s;const n=RE(t);(s=(r=e.exception)==null?void 0:r.values)==null||s.forEach(i=>{var o,l;(l=(o=i.stacktrace)==null?void 0:o.frames)==null||l.forEach(a=>{a.filename&&(a.debug_id=n[a.filename])})})}function PE(e){var r,s;const t={};if((s=(r=e.exception)==null?void 0:r.values)==null||s.forEach(i=>{var o,l;(l=(o=i.stacktrace)==null?void 0:o.frames)==null||l.forEach(a=>{a.debug_id&&(a.abs_path?t[a.abs_path]=a.debug_id:a.filename&&(t[a.filename]=a.debug_id),delete a.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([i,o])=>{n.push({type:"sourcemap",code_file:i,debug_id:o})})}function OE(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function LE(e,t,n){var s,i;if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:Zt(o.data,t,n)}}))},...e.user&&{user:Zt(e.user,t,n)},...e.contexts&&{contexts:Zt(e.contexts,t,n)},...e.extra&&{extra:Zt(e.extra,t,n)}};return(s=e.contexts)!=null&&s.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Zt(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>({...o,...o.data&&{data:Zt(o.data,t,n)}}))),(i=e.contexts)!=null&&i.flags&&r.contexts&&(r.contexts.flags=Zt(e.contexts.flags,3,n)),r}function AE(e,t){if(!t)return e;const n=e?e.clone():new yn;return n.update(t),n}function DE(e){if(e)return FE(e)?{captureContext:e}:zE(e)?{captureContext:e}:e}function FE(e){return e instanceof yn||typeof e=="function"}const $E=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function zE(e){return Object.keys(e).some(t=>$E.includes(t))}function K0(e,t){return ge().captureException(e,DE(t))}function G0(e,t){return ge().captureEvent(e,t)}function Y0(e,t){vn().setContext(e,t)}function BE(){const e=ie();return(e==null?void 0:e.getOptions().enabled)!==!1&&!!(e!=null&&e.getTransport())}function UE(e){vn().addEventProcessor(e)}function Yh(e){const t=vn(),n=ge(),{userAgent:r}=ae.navigator||{},s=nb({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),i=t.getSession();return(i==null?void 0:i.status)==="ok"&&Fs(i,{status:"exited"}),X0(),t.setSession(s),s}function X0(){const e=vn(),n=ge().getSession()||e.getSession();n&&rb(n),J0(),e.setSession()}function J0(){const e=vn(),t=ie(),n=e.getSession();n&&t&&t.captureSession(n)}function Xh(e=!1){if(e){X0();return}J0()}const HE="7";function WE(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function VE(e){return`${WE(e)}${e.projectId}/envelope/`}function qE(e,t){const n={sentry_version:HE};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function KE(e,t,n){return t||`${VE(e)}?${qE(e,n)}`}const Jh=[];function GE(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function YE(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const s=n(t);r=Array.isArray(s)?s:[s]}else r=t;return GE(r)}function XE(e,t){const n={};return t.forEach(r=>{r&&Q0(e,r,n)}),n}function Qh(e,t){for(const n of t)n!=null&&n.afterAllSetup&&n.afterAllSetup(e)}function Q0(e,t,n){if(n[t.name]){z&&P.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,!Jh.includes(t.name)&&typeof t.setupOnce=="function"&&(t.setupOnce(),Jh.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(s)}z&&P.log(`Integration installed: ${t.name}`)}function JE(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function QE(e,t,n,r){const s={};return t!=null&&t.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=ei(r)),Sr(s,[JE(e)])}function Z0(e,t){const n=t??ZE(e)??[];if(n.length===0)return;const r=e.getOptions(),s=QE(n,r._metadata,r.tunnel,e.getDsn());ev().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(s)}function ZE(e){return ev().get(e)}function ev(){return Gs("clientToLogBufferMap",()=>new WeakMap)}function ek(e){return[{type:"trace_metric",item_count:e.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:e}]}function tk(e,t,n,r){const s={};return t!=null&&t.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=ei(r)),Sr(s,[ek(e)])}function tv(e,t){const n=t??nk(e)??[];if(n.length===0)return;const r=e.getOptions(),s=tk(n,r._metadata,r.tunnel,e.getDsn());nv().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(s)}function nk(e){return nv().get(e)}function nv(){return Gs("clientToMetricBufferMap",()=>new WeakMap)}const Sf=Symbol.for("SentryBufferFullError");function wf(e=100){const t=new Set;function n(){return t.size<e}function r(o){t.delete(o)}function s(o){if(!n())return _f(Sf);const l=o();return t.add(l),l.then(()=>r(l),()=>r(l)),l}function i(o){if(!t.size)return Dl(!0);const l=Promise.allSettled(Array.from(t)).then(()=>!0);if(!o)return l;const a=[l,new Promise(u=>setTimeout(()=>u(!1),o))];return Promise.race(a)}return{get $(){return Array.from(t)},add:s,drain:i}}const rk=60*1e3;function sk(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?rk:r-t}function ik(e,t){return e[t]||e.all||0}function rv(e,t,n=Date.now()){return ik(e,t)>n}function sv(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},i=n==null?void 0:n["x-sentry-rate-limits"],o=n==null?void 0:n["retry-after"];if(i)for(const l of i.trim().split(",")){const[a,u,,,f]=l.split(":",5),d=parseInt(a,10),p=(isNaN(d)?60:d)*1e3;if(!u)s.all=r+p;else for(const h of u.split(";"))h==="metric_bucket"?(!f||f.split(";").includes("custom"))&&(s[h]=r+p):s[h]=r+p}else o?s.all=r+sk(o,r):t===429&&(s.all=r+60*1e3);return s}const iv=64;function ok(e,t,n=wf(e.bufferSize||iv)){let r={};const s=o=>n.drain(o);function i(o){const l=[];if(Dh(o,(d,p)=>{const h=Fh(p);rv(r,h)?e.recordDroppedEvent("ratelimit_backoff",h):l.push(d)}),l.length===0)return Promise.resolve({});const a=Sr(o[0],l),u=d=>{Dh(a,(p,h)=>{e.recordDroppedEvent(d,Fh(h))})},f=()=>t({body:Qb(a)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&z&&P.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=sv(r,d),d),d=>{throw u("network_error"),z&&P.error("Encountered error running transport request:",d),d});return n.add(f).then(d=>d,d=>{if(d===Sf)return z&&P.error("Skipped sending event because buffer is full."),u("queue_overflow"),Promise.resolve({});throw d})}return{send:i,flush:s}}function ak(e,t,n){const r=[{type:"client_report"},{timestamp:Qr(),discarded_events:e}];return Sr(t?{dsn:t}:{},[r])}function ov(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n!=null&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function lk(e){var a;const{trace_id:t,parent_span_id:n,span_id:r,status:s,origin:i,data:o,op:l}=((a=e.contexts)==null?void 0:a.trace)??{};return{data:o??{},description:e.transaction,op:l,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:s,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:o==null?void 0:o[ff],exclusive_time:o==null?void 0:o[Zs],measurements:e.measurements,is_segment:!0}}function ck(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[ff]:e.profile_id},...e.exclusive_time&&{[Zs]:e.exclusive_time}}}},measurements:e.measurements}}const Zh="Not capturing exception because it's already been captured.",em="Discarded session because of missing or non-string release",av=Symbol.for("SentryInternalError"),lv=Symbol.for("SentryDoNotSendEventError"),uk=5e3;function Na(e){return{message:e,[av]:!0}}function Tc(e){return{message:e,[lv]:!0}}function tm(e){return!!e&&typeof e=="object"&&av in e}function nm(e){return!!e&&typeof e=="object"&&lv in e}function rm(e,t,n,r,s){let i=0,o,l=!1;e.on(n,()=>{i=0,clearTimeout(o),l=!1}),e.on(t,a=>{i+=r(a),i>=8e5?s(e):l||(l=!0,o=setTimeout(()=>{s(e)},uk))}),e.on("flush",()=>{s(e)})}class dk{constructor(t){var r,s,i;if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=wf(((r=t.transportOptions)==null?void 0:r.bufferSize)??iv),t.dsn?this._dsn=Mb(t.dsn):z&&P.warn("No DSN provided, client will not send events."),this._dsn){const o=KE(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:o})}this._options.enableLogs=this._options.enableLogs??((s=this._options._experiments)==null?void 0:s.enableLogs),this._options.enableLogs&&rm(this,"afterCaptureLog","flushLogs",mk,Z0),(this._options.enableMetrics??((i=this._options._experiments)==null?void 0:i.enableMetrics)??!0)&&rm(this,"afterCaptureMetric","flushMetrics",hk,tv)}captureException(t,n,r){const s=Rt();if(Ih(t))return z&&P.log(Zh),s;const i={event_id:s,...n};return this._process(()=>this.eventFromException(t,i).then(o=>this._captureEvent(o,i,r)).then(o=>o),"error"),i.event_id}captureMessage(t,n,r,s){const i={event_id:Rt(),...r},o=lf(t)?t:String(t),l=As(t),a=l?this.eventFromMessage(o,n,i):this.eventFromException(t,i);return this._process(()=>a.then(u=>this._captureEvent(u,i,s)),l?"unknown":"error"),i.event_id}captureEvent(t,n,r){const s=Rt();if(n!=null&&n.originalException&&Ih(n.originalException))return z&&P.log(Zh),s;const i={event_id:s,...n},o=t.sdkProcessingMetadata||{},l=o.capturedSpanScope,a=o.capturedSpanIsolationScope,u=sm(t.type);return this._process(()=>this._captureEvent(t,i,l||r,a),u),i.event_id}captureSession(t){this.sendSession(t),Fs(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(t){const n=this._transport;if(!n)return!0;this.emit("flush");const r=await this._isClientDoneProcessing(t),s=await n.flush(t);return r&&s}async close(t){const n=await this.flush(t);return this.getOptions().enabled=!1,this.emit("close"),n}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];Q0(this,t,this._integrations),n||Qh(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=iE(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=Jb(r,tE(s));this.sendEnvelope(r).then(s=>this.emit("afterSendEvent",t,s))}sendSession(t){const{release:n,environment:r=gf}=this._options;if("aggregates"in t){const i=t.attrs||{};if(!i.release&&!n){z&&P.warn(em);return}i.release=i.release||n,i.environment=i.environment||r,t.attrs=i}else{if(!t.release&&!n){z&&P.warn(em);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const s=sE(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(s)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const s=`${t}:${n}`;z&&P.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||new Set,s=(...i)=>n(...i);return r.add(s),()=>{r.delete(s)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}async sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)try{return await this._transport.send(t)}catch(n){return z&&P.error("Error while sending envelope:",n),{}}return z&&P.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=XE(this,t),Qh(this,t)}_updateSessionFromEvent(t,n){var a,u;let r=n.level==="fatal",s=!1;const i=(a=n.exception)==null?void 0:a.values;if(i){s=!0,r=!1;for(const f of i)if(((u=f.mechanism)==null?void 0:u.handled)===!1){r=!0;break}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(Fs(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}async _isClientDoneProcessing(t){let n=0;for(;!t||n<t;){if(await new Promise(r=>setTimeout(r,1)),!this._numProcessing)return!0;n++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&(o!=null&&o.length)&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),q0(i,t,n,r,this,s).then(l=>{if(l===null)return l;this.emit("postprocessEvent",l,n),l.contexts={trace:pb(r),...l.contexts};const a=F0(this,r);return l.sdkProcessingMetadata={dynamicSamplingContext:a,...l.sdkProcessingMetadata},l})}_captureEvent(t,n={},r=ge(),s=vn()){return z&&Bu(t)&&P.log(`Captured error event \`${ov(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,s).then(i=>i.event_id,i=>{z&&(nm(i)?P.log(i.message):tm(i)?P.warn(i.message):P.warn(i))})}_processEvent(t,n,r,s){const i=this.getOptions(),{sampleRate:o}=i,l=cv(t),a=Bu(t),f=`before send for type \`${t.type||"error"}\``,d=typeof o>"u"?void 0:Vr(o);if(a&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error"),_f(Tc(`Discarding event because it's not included in the random sample (sampling rate = ${o})`));const p=sm(t.type);return this._prepareEvent(t,n,r,s).then(h=>{if(h===null)throw this.recordDroppedEvent("event_processor",p),Tc("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return h;const x=pk(this,i,h,n);return fk(x,f)}).then(h=>{var S;if(h===null){if(this.recordDroppedEvent("before_send",p),l){const g=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",g)}throw Tc(`${f} returned \`null\`, will not send event.`)}const m=r.getSession()||s.getSession();if(a&&m&&this._updateSessionFromEvent(m,h),l){const y=((S=h.sdkProcessingMetadata)==null?void 0:S.spanCountBeforeProcessing)||0,g=h.spans?h.spans.length:0,v=y-g;v>0&&this.recordDroppedEvent("before_send","span",v)}const x=h.transaction_info;if(l&&x&&h.transaction!==t.transaction){const y="custom";h.transaction_info={...x,source:y}}return this.sendEvent(h,n),h}).then(null,h=>{throw nm(h)||tm(h)?h:(this.captureException(h,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:h}),Na(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${h}`))})}_process(t,n){this._numProcessing++,this._promiseBuffer.add(t).then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r===Sf&&this.recordDroppedEvent("queue_overflow",n),r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,i]=n.split(":");return{reason:s,category:i,quantity:r}})}_flushOutcomes(){z&&P.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){z&&P.log("No outcomes to send");return}if(!this._dsn){z&&P.log("No dsn provided, will not send outcomes");return}z&&P.log("Sending outcomes:",t);const n=ak(t,this._options.tunnel&&ei(this._dsn));this.sendEnvelope(n)}}function sm(e){return e==="replay_event"?"replay":e||"error"}function fk(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Xs(e))return e.then(r=>{if(!so(r)&&r!==null)throw Na(n);return r},r=>{throw Na(`${t} rejected with ${r}`)});if(!so(e)&&e!==null)throw Na(n);return e}function pk(e,t,n,r){const{beforeSend:s,beforeSendTransaction:i,beforeSendSpan:o,ignoreSpans:l}=t;let a=n;if(Bu(a)&&s)return s(a,r);if(cv(a)){if(o||l){const u=lk(a);if(l!=null&&l.length&&sl(u,l))return null;if(o){const f=o(u);f?a=xo(n,ck(f)):Du()}if(a.spans){const f=[],d=a.spans;for(const h of d){if(l!=null&&l.length&&sl(h,l)){Wb(d,h);continue}if(o){const m=o(h);m?f.push(m):(Du(),f.push(h))}else f.push(h)}const p=a.spans.length-f.length;p&&e.recordDroppedEvent("before_send","span",p),a.spans=f}}if(i){if(a.spans){const u=a.spans.length;a.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return i(a,r)}}return a}function Bu(e){return e.type===void 0}function cv(e){return e.type==="transaction"}function hk(e){let t=0;return e.name&&(t+=e.name.length*2),t+=8,t+uv(e.attributes)}function mk(e){let t=0;return e.message&&(t+=e.message.length*2),t+uv(e.attributes)}function uv(e){if(!e)return 0;let t=0;return Object.values(e).forEach(n=>{Array.isArray(n)?t+=n.length*im(n[0]):As(n)?t+=im(n):t+=100}),t}function im(e){return typeof e=="string"?e.length*2:typeof e=="number"?8:typeof e=="boolean"?4:0}function gk(e,t){t.debug===!0&&(z?P.enable():Jr(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),ge().update(t.initialScope);const r=new e(t);return yk(r),r.init(),r}function yk(e){ge().setClient(e)}const vk="thismessage:/";function bf(e){return"isRelative"in e}function Ef(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=n?vk:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const s=new URL(e,r);return n?{isRelative:n,pathname:s.pathname,search:s.search,hash:s.hash}:s}catch{}}function xk(e){if(bf(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Dr(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function _k(e){return e.split(/[?#]/,1)[0]}function Sk(e,t){const n=t==null?void 0:t.getDsn(),r=t==null?void 0:t.getOptions().tunnel;return bk(e,n)||wk(e,r)}function wk(e,t){return t?om(e)===om(t):!1}function bk(e,t){const n=Ef(e);return!n||bf(n)?!1:t?n.host.includes(t.host)&&/(^|&|\?)sentry_key=/.test(n.search):!1}function om(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Ek(e){var t;"aggregates"in e?((t=e.attrs)==null?void 0:t.ip_address)===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function dv(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:Or})),version:Or}),e._metadata=s}function fv(e={}){const t=e.client||ie();if(!BE()||!t)return{};const n=Xr(),r=Qs(n);if(r.getTraceData)return r.getTraceData(e);const s=e.scope||ge(),i=e.span||ut(),o=i?Fb(i):kk(s),l=i?zn(i):F0(t,s),a=wb(l);if(!C0.test(o))return P.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const f={"sentry-trace":o,baggage:a};if(e.propagateTraceparent){const d=i?$b(i):Nk(s);d&&(f.traceparent=d)}return f}function kk(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return R0(t,r,n)}function Nk(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return j0(t,r,n)}function Tk(e,t,n){let r,s,i;const o=n!=null&&n.maxWait?Math.max(n.maxWait,t):0,l=(n==null?void 0:n.setTimeoutImpl)||setTimeout;function a(){return u(),r=e(),r}function u(){s!==void 0&&clearTimeout(s),i!==void 0&&clearTimeout(i),s=i=void 0}function f(){return s!==void 0||i!==void 0?a():r}function d(){return s&&clearTimeout(s),s=l(a,t),o&&i===void 0&&(i=l(a,o)),r}return d.cancel=u,d.flush=f,d}const Ik=100;function pr(e,t){const n=ie(),r=vn();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=Ik}=n.getOptions();if(i<=0)return;const l={timestamp:Qr(),...e},a=s?Jr(()=>s(l,t)):l;a!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",a,t),r.addBreadcrumb(a,i))}let am;const Ck="FunctionToString",lm=new WeakMap,Rk=()=>({name:Ck,setupOnce(){am=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=uf(this),n=lm.has(ie())&&t!==void 0?t:this;return am.apply(n,e)}}catch{}},setup(e){lm.set(e,!0)}}),jk=Rk,Mk=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],Pk="EventFilters",Ok=(e={})=>{let t;return{name:Pk,setup(n){const r=n.getOptions();t=cm(e,r)},processEvent(n,r,s){if(!t){const i=s.getOptions();t=cm(e,i)}return Ak(n,t)?null:n}}},Lk=(e={})=>({...Ok(e),name:"InboundFilters"});function cm(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Mk],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function Ak(e,t){if(e.type){if(e.type==="transaction"&&Fk(e,t.ignoreTransactions))return z&&P.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Nr(e)}`),!0}else{if(Dk(e,t.ignoreErrors))return z&&P.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Nr(e)}`),!0;if(Uk(e))return z&&P.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Nr(e)}`),!0;if($k(e,t.denyUrls))return z&&P.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Nr(e)}.
Url: ${il(e)}`),!0;if(!zk(e,t.allowUrls))return z&&P.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Nr(e)}.
Url: ${il(e)}`),!0}return!1}function Dk(e,t){return t!=null&&t.length?ov(e).some(n=>Cn(n,t)):!1}function Fk(e,t){if(!(t!=null&&t.length))return!1;const n=e.transaction;return n?Cn(n,t):!1}function $k(e,t){if(!(t!=null&&t.length))return!1;const n=il(e);return n?Cn(n,t):!1}function zk(e,t){if(!(t!=null&&t.length))return!0;const n=il(e);return n?Cn(n,t):!0}function Bk(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function il(e){var t,n;try{const r=[...((t=e.exception)==null?void 0:t.values)??[]].reverse().find(i=>{var o,l,a;return((o=i.mechanism)==null?void 0:o.parent_id)===void 0&&((a=(l=i.stacktrace)==null?void 0:l.frames)==null?void 0:a.length)}),s=(n=r==null?void 0:r.stacktrace)==null?void 0:n.frames;return s?Bk(s):null}catch{return z&&P.error(`Cannot extract url for event ${Nr(e)}`),null}}function Uk(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)!=null&&n.length?!e.message&&!e.exception.values.some(r=>r.stacktrace||r.type&&r.type!=="Error"||r.value):!1}function Hk(e,t,n,r,s,i){var l;if(!((l=s.exception)!=null&&l.values)||!i||!Dn(i.originalException,Error))return;const o=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;o&&(s.exception.values=Uu(e,t,r,i.originalException,n,s.exception.values,o,0))}function Uu(e,t,n,r,s,i,o,l){if(i.length>=n+1)return i;let a=[...i];if(Dn(r[s],Error)){um(o,l);const u=e(t,r[s]),f=a.length;dm(u,s,f,l),a=Uu(e,t,n,r[s],s,[u,...a],u,f)}return Array.isArray(r.errors)&&r.errors.forEach((u,f)=>{if(Dn(u,Error)){um(o,l);const d=e(t,u),p=a.length;dm(d,`errors[${f}]`,p,l),a=Uu(e,t,n,u,s,[d,...a],d,p)}}),a}function um(e,t){e.mechanism={handled:!0,type:"auto.core.linked_errors",...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function dm(e,t,n,r){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Wk(e){const t="console";vr(t,e),xr(t,Vk)}function Vk(){"console"in ae&&Pw.forEach(function(e){e in ae.console&&yt(ae.console,e,function(t){return tl[e]=t,function(...n){Ht("console",{args:n,level:e});const s=tl[e];s==null||s.apply(ae.console,n)}})})}function pv(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const qk="Dedupe",Kk=()=>{let e;return{name:qk,processEvent(t){if(t.type)return t;try{if(Yk(t,e))return z&&P.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},Gk=Kk;function Yk(e,t){return t?!!(Xk(e,t)||Jk(e,t)):!1}function Xk(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!mv(e,t)||!hv(e,t))}function Jk(e,t){const n=fm(t),r=fm(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!mv(e,t)||!hv(e,t))}function hv(e,t){let n=wh(e),r=wh(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function mv(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function fm(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}function Qk(e,t,n,r,s){if(!e.fetchData)return;const{method:i,url:o}=e.fetchData,l=on()&&t(o);if(e.endTimestamp&&l){const h=e.fetchData.__span;if(!h)return;const m=r[h];m&&(tN(m,e),Zk(m,e,s),delete r[h]);return}const{spanOrigin:a="auto.http.browser",propagateTraceparent:u=!1}=typeof s=="object"?s:{spanOrigin:s},f=!!ut(),d=l&&f?ti(rN(o,i,a)):new fr;if(e.fetchData.__span=d.spanContext().spanId,r[d.spanContext().spanId]=d,n(e.fetchData.url)){const h=e.args[0],m=e.args[1]||{},x=eN(h,m,on()&&f?d:void 0,u);x&&(e.args[1]=m,m.headers=x)}const p=ie();if(p){const h={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};p.emit("beforeOutgoingRequestSpan",d,h)}return d}function Zk(e,t,n){var s;const r=typeof n=="object"&&n!==null?n.onRequestSpanEnd:void 0;r==null||r(e,{headers:(s=t.response)==null?void 0:s.headers,error:t.error})}function eN(e,t,n,r){const s=fv({span:n,propagateTraceparent:r}),i=s["sentry-trace"],o=s.baggage,l=s.traceparent;if(!i)return;const a=t.headers||(y0(e)?e.headers:void 0);if(a)if(nN(a)){const u=new Headers(a);if(u.get("sentry-trace")||u.set("sentry-trace",i),r&&l&&!u.get("traceparent")&&u.set("traceparent",l),o){const f=u.get("baggage");f?Zo(f)||u.set("baggage",`${f},${o}`):u.set("baggage",o)}return u}else if(Array.isArray(a)){const u=[...a];a.find(d=>d[0]==="sentry-trace")||u.push(["sentry-trace",i]),r&&l&&!a.find(d=>d[0]==="traceparent")&&u.push(["traceparent",l]);const f=a.find(d=>d[0]==="baggage"&&Zo(d[1]));return o&&!f&&u.push(["baggage",o]),u}else{const u="sentry-trace"in a?a["sentry-trace"]:void 0,f="traceparent"in a?a.traceparent:void 0,d="baggage"in a?a.baggage:void 0,p=d?Array.isArray(d)?[...d]:[d]:[],h=d&&(Array.isArray(d)?d.find(x=>Zo(x)):Zo(d));o&&!h&&p.push(o);const m={...a,"sentry-trace":u??i,baggage:p.length>0?p.join(","):void 0};return r&&l&&!f&&(m.traceparent=l),m}else return{...s}}function tN(e,t){var n,r;if(t.response){E0(e,t.response.status);const s=(r=(n=t.response)==null?void 0:n.headers)==null?void 0:r.get("content-length");if(s){const i=parseInt(s);i>0&&e.setAttribute("http.response_content_length",i)}}else t.error&&e.setStatus({code:De,message:"internal_error"});e.end()}function Zo(e){return e.split(",").some(t=>t.trim().startsWith(hf))}function nN(e){return typeof Headers<"u"&&Dn(e,Headers)}function rN(e,t,n){const r=Ef(e);return{name:r?`${t} ${xk(r)}`:t,attributes:sN(e,r,t,n)}}function sN(e,t,n,r){const s={url:e,type:"fetch","http.method":n,[ze]:r,[$n]:"http.client"};return t&&(bf(t)||(s["http.url"]=t.href,s["server.address"]=t.host),t.search&&(s["http.query"]=t.search),t.hash&&(s["http.fragment"]=t.hash)),s}function gv(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const ao=ae;function iN(){return"history"in ao&&!!ao.history}function oN(){if(!("fetch"in ao))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function Hu(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function aN(){var n;if(typeof EdgeRuntime=="string")return!0;if(!oN())return!1;if(Hu(ao.fetch))return!0;let e=!1;const t=ao.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),(n=r.contentWindow)!=null&&n.fetch&&(e=Hu(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){z&&P.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function yv(e,t){const n="fetch";vr(n,e),xr(n,()=>vv(void 0,t))}function lN(e){const t="fetch-body-resolved";vr(t,e),xr(t,()=>vv(uN))}function vv(e,t=!1){t&&!aN()||yt(ae,"fetch",function(n){return function(...r){const s=new Error,{method:i,url:o}=dN(r),l={args:r,fetchData:{method:i,url:o},startTimestamp:Ve()*1e3,virtualError:s,headers:fN(r)};return e||Ht("fetch",{...l}),n.apply(ae,r).then(async a=>(e?e(a):Ht("fetch",{...l,endTimestamp:Ve()*1e3,response:a}),a),a=>{if(Ht("fetch",{...l,endTimestamp:Ve()*1e3,error:a}),af(a)&&a.stack===void 0&&(a.stack=s.stack,Mt(a,"framesToPop",1)),a instanceof TypeError&&(a.message==="Failed to fetch"||a.message==="Load failed"||a.message==="NetworkError when attempting to fetch resource."))try{const u=new URL(l.fetchData.url);a.message=`${a.message} (${u.host})`}catch{}throw a})}})}async function cN(e,t){if(e!=null&&e.body){const n=e.body,r=n.getReader(),s=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let i=!0;for(;i;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:l}=await r.read();clearTimeout(o),l&&(t(),i=!1)}catch{i=!1}finally{clearTimeout(o)}}clearTimeout(s),r.releaseLock(),n.cancel().then(null,()=>{})}}function uN(e){let t;try{t=e.clone()}catch{return}cN(t,()=>{Ht("fetch-body-resolved",{endTimestamp:Ve()*1e3,response:e})})}function Wu(e,t){return!!e&&typeof e=="object"&&!!e[t]}function pm(e){return typeof e=="string"?e:e?Wu(e,"url")?e.url:e.toString?e.toString():"":""}function dN(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:pm(n),method:Wu(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:pm(t),method:Wu(t,"method")?String(t.method).toUpperCase():"GET"}}function fN(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(y0(t))return new Headers(t.headers)}catch{}}function pN(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function hN(){return"npm"}function mN(){return!pN()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Vu(){return typeof window<"u"&&(!mN()||gN())}function gN(){const e=ae.process;return(e==null?void 0:e.type)==="renderer"}const ue=ae;let qu=0;function xv(){return qu>0}function yN(){qu++,setTimeout(()=>{qu--})}function Bs(e,t={}){function n(s){return typeof s=="function"}if(!n(e))return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(uf(e))return e}catch{return e}const r=function(...s){try{const i=s.map(o=>Bs(o,t));return e.apply(this,i)}catch(i){throw yN(),Ll(o=>{o.addEventProcessor(l=>(t.mechanism&&(Ou(l,void 0),Ds(l,t.mechanism)),l.extra={...l.extra,arguments:s},l)),K0(i)}),i}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}x0(r,e),Mt(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function kf(){const e=Js(),{referrer:t}=ue.document||{},{userAgent:n}=ue.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}function Nf(e,t){const n=Tf(e,t),r={type:wN(t),value:bN(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function vN(e,t,n,r){const s=ie(),i=s==null?void 0:s.getOptions().normalizeDepth,o=IN(t),l={__serialized__:$0(t,i)};if(o)return{exception:{values:[Nf(e,o)]},extra:l};const a={exception:{values:[{type:Ol(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:NN(t,{isUnhandledRejection:r})}]},extra:l};if(n){const u=Tf(e,n);u.length&&(a.exception.values[0].stacktrace={frames:u})}return a}function Ic(e,t){return{exception:{values:[Nf(e,t)]}}}function Tf(e,t){const n=t.stacktrace||t.stack||"",r=_N(t),s=SN(t);try{return e(n,r,s)}catch{}return[]}const xN=/Minified React error #\d+;/i;function _N(e){return e&&xN.test(e.message)?1:0}function SN(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function _v(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function wN(e){const t=e==null?void 0:e.name;return!t&&_v(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function bN(e){const t=e==null?void 0:e.message;return _v(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function EN(e,t,n,r){const s=(n==null?void 0:n.syntheticException)||void 0,i=If(e,t,s,r);return Ds(i),i.level="error",n!=null&&n.event_id&&(i.event_id=n.event_id),Dl(i)}function kN(e,t,n="info",r,s){const i=(r==null?void 0:r.syntheticException)||void 0,o=Ku(e,t,i,s);return o.level=n,r!=null&&r.event_id&&(o.event_id=r.event_id),Dl(o)}function If(e,t,n,r,s){let i;if(m0(t)&&t.error)return Ic(e,t.error);if(Eh(t)||Ww(t)){const o=t;if("stack"in t)i=Ic(e,t);else{const l=o.name||(Eh(o)?"DOMError":"DOMException"),a=o.message?`${l}: ${o.message}`:l;i=Ku(e,a,n,r),Ou(i,a)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return af(t)?Ic(e,t):so(t)||Ol(t)?(i=vN(e,t,n,s),Ds(i,{synthetic:!0}),i):(i=Ku(e,t,n,r),Ou(i,`${t}`),Ds(i,{synthetic:!0}),i)}function Ku(e,t,n,r){const s={};if(r&&n){const i=Tf(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]}),Ds(s,{synthetic:!0})}if(lf(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return s.logentry={message:i,params:o},s}return s.message=t,s}function NN(e,{isUnhandledRejection:t}){const n=Xw(e),r=t?"promise rejection":"exception";return m0(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Ol(e)?`Event \`${TN(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function TN(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function IN(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}class CN extends dk{constructor(t){var f;const n=RN(t),r=ue.SENTRY_SDK_SOURCE||hN();dv(n,"browser",["browser"],r),(f=n._metadata)!=null&&f.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:s,sendClientReports:i,enableLogs:o,_experiments:l,enableMetrics:a}=this._options,u=a??(l==null?void 0:l.enableMetrics)??!0;ue.document&&(i||o||u)&&ue.document.addEventListener("visibilitychange",()=>{ue.document.visibilityState==="hidden"&&(i&&this._flushOutcomes(),o&&Z0(this),u&&tv(this))}),s&&this.on("beforeSendSession",Ek)}eventFromException(t,n){return EN(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return kN(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,s){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,s)}}function RN(e){var t;return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(t=ue.SENTRY_RELEASE)==null?void 0:t.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const qr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Y=ae,jN=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",wo=(e,t,n,r)=>{let s,i;return o=>{t.value>=0&&(o||r)&&(i=t.value-(s??0),(i||s===void 0)&&(s=t.value,t.delta=i,t.rating=jN(t.value,n),e(t)))}},bo=(e=!0)=>{var n,r;const t=(r=(n=Y.performance)==null?void 0:n.getEntriesByType)==null?void 0:r.call(n,"navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},ni=()=>{const e=bo();return(e==null?void 0:e.activationStart)??0};function Fr(e,t,n){Y.document&&Y.addEventListener(e,t,n)}function Cf(e,t,n){Y.document&&Y.removeEventListener(e,t,n)}let Is=-1;const Sv=new Set,MN=()=>{var e,t;return((e=Y.document)==null?void 0:e.visibilityState)==="hidden"&&!((t=Y.document)!=null&&t.prerendering)?0:1/0},Ta=e=>{if(PN(e)&&Is>-1){if(e.type==="visibilitychange"||e.type==="pagehide")for(const t of Sv)t();isFinite(Is)||(Is=e.type==="visibilitychange"?e.timeStamp:0,Cf("prerenderingchange",Ta,!0))}},Eo=()=>{var e;if(Y.document&&Is<0){const t=ni();Is=(Y.document.prerendering||(e=globalThis.performance.getEntriesByType("visibility-state").filter(r=>r.name==="hidden"&&r.startTime>t)[0])==null?void 0:e.startTime)??MN(),Fr("visibilitychange",Ta,!0),Fr("pagehide",Ta,!0),Fr("prerenderingchange",Ta,!0)}return{get firstHiddenTime(){return Is},onHidden(t){Sv.add(t)}}};function PN(e){var t;return e.type==="pagehide"||((t=Y.document)==null?void 0:t.visibilityState)==="hidden"}const ON=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,ko=(e,t=-1)=>{var i,o;const n=bo();let r="navigate";return n&&((i=Y.document)!=null&&i.prerendering||ni()>0?r="prerender":(o=Y.document)!=null&&o.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:ON(),navigationType:r}},Cc=new WeakMap;function Rf(e,t){return Cc.get(e)||Cc.set(e,new t),Cc.get(e)}class ol{constructor(){ol.prototype.__init.call(this),ol.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){var s;if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),(s=this._onAfterProcessingUnexpectedShift)==null||s.call(this,t)}}const ri=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},jf=e=>{let t=!1;return()=>{t||(e(),t=!0)}},Fl=e=>{var t;(t=Y.document)!=null&&t.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},LN=[1800,3e3],AN=(e,t={})=>{Fl(()=>{const n=Eo(),r=ko("FCP");let s;const o=ri("paint",l=>{for(const a of l)a.name==="first-contentful-paint"&&(o.disconnect(),a.startTime<n.firstHiddenTime&&(r.value=Math.max(a.startTime-ni(),0),r.entries.push(a),s(!0)))});o&&(s=wo(e,r,LN,t.reportAllChanges))})},DN=[.1,.25],FN=(e,t={})=>{AN(jf(()=>{var a;const n=ko("CLS",0);let r;const s=Eo(),i=Rf(t,ol),o=u=>{for(const f of u)i._processEntry(f);i._sessionValue>n.value&&(n.value=i._sessionValue,n.entries=i._sessionEntries,r())},l=ri("layout-shift",o);l&&(r=wo(e,n,DN,t.reportAllChanges),s.onHidden(()=>{o(l.takeRecords()),r(!0)}),(a=Y==null?void 0:Y.setTimeout)==null||a.call(Y,r))}))};let wv=0,Rc=1/0,ea=0;const $N=e=>{e.forEach(t=>{t.interactionId&&(Rc=Math.min(Rc,t.interactionId),ea=Math.max(ea,t.interactionId),wv=ea?(ea-Rc)/7+1:0)})};let Gu;const bv=()=>Gu?wv:performance.interactionCount||0,zN=()=>{"interactionCount"in performance||Gu||(Gu=ri("event",$N,{type:"event",buffered:!0,durationThreshold:0}))},jc=10;let Ev=0;const BN=()=>bv()-Ev;class al{constructor(){al.prototype.__init.call(this),al.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){Ev=bv(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(BN()/50));return this._longestInteractionList[t]}_processEntry(t){var s,i;if((s=this._onBeforeProcessingEntry)==null||s.call(this,t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<jc||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((o,l)=>l._latency-o._latency),this._longestInteractionList.length>jc){const o=this._longestInteractionList.splice(jc);for(const l of o)this._longestInteractionMap.delete(l.id)}(i=this._onAfterProcessingINPCandidate)==null||i.call(this,r)}}}const kv=e=>{const t=n=>{var r;(n.type==="pagehide"||((r=Y.document)==null?void 0:r.visibilityState)==="hidden")&&e(n)};Fr("visibilitychange",t,!0),Fr("pagehide",t,!0)},Nv=e=>{var n;const t=Y.requestIdleCallback||Y.setTimeout;((n=Y.document)==null?void 0:n.visibilityState)==="hidden"?e():(e=jf(e),Fr("visibilitychange",e,{once:!0,capture:!0}),t(()=>{e(),Cf("visibilitychange",e,{capture:!0})}),kv(e))},UN=[200,500],HN=40,WN=(e,t={})=>{if(!(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return;const n=Eo();Fl(()=>{zN();const r=ko("INP");let s;const i=Rf(t,al),o=a=>{Nv(()=>{for(const f of a)i._processEntry(f);const u=i._estimateP98LongestInteraction();u&&u._latency!==r.value&&(r.value=u._latency,r.entries=u.entries,s())})},l=ri("event",o,{durationThreshold:t.durationThreshold??HN});s=wo(e,r,UN,t.reportAllChanges),l&&(l.observe({type:"first-input",buffered:!0}),n.onHidden(()=>{o(l.takeRecords()),s(!0)}))})};class VN{_processEntry(t){var n;(n=this._onBeforeProcessingEntry)==null||n.call(this,t)}}const qN=[2500,4e3],KN=(e,t={})=>{Fl(()=>{const n=Eo(),r=ko("LCP");let s;const i=Rf(t,VN),o=a=>{t.reportAllChanges||(a=a.slice(-1));for(const u of a)i._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-ni(),0),r.entries=[u],s())},l=ri("largest-contentful-paint",o);if(l){s=wo(e,r,qN,t.reportAllChanges);const a=jf(()=>{o(l.takeRecords()),l.disconnect(),s(!0)}),u=f=>{f.isTrusted&&(Nv(a),Cf(f.type,u,{capture:!0}))};for(const f of["keydown","click","visibilitychange"])Fr(f,u,{capture:!0})}})},GN=[800,1800],Yu=e=>{var t,n;(t=Y.document)!=null&&t.prerendering?Fl(()=>Yu(e)):((n=Y.document)==null?void 0:n.readyState)!=="complete"?addEventListener("load",()=>Yu(e),!0):setTimeout(e)},YN=(e,t={})=>{const n=ko("TTFB"),r=wo(e,n,GN,t.reportAllChanges);Yu(()=>{const s=bo();s&&(n.value=Math.max(s.responseStart-ni(),0),n.entries=[s],r(!0))})},Di={},ll={};let Tv,Iv,Cv,Rv;function Mf(e,t=!1){return $l("cls",e,JN,Tv,t)}function Pf(e,t=!1){return $l("lcp",e,QN,Iv,t)}function XN(e){return $l("ttfb",e,ZN,Cv)}function jv(e){return $l("inp",e,e1,Rv)}function Kr(e,t){return Mv(e,t),ll[e]||(t1(e),ll[e]=!0),Pv(e,t)}function No(e,t){const n=Di[e];if(n!=null&&n.length)for(const r of n)try{r(t)}catch(s){qr&&P.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${An(r)}
Error:`,s)}}function JN(){return FN(e=>{No("cls",{metric:e}),Tv=e},{reportAllChanges:!0})}function QN(){return KN(e=>{No("lcp",{metric:e}),Iv=e},{reportAllChanges:!0})}function ZN(){return YN(e=>{No("ttfb",{metric:e}),Cv=e})}function e1(){return WN(e=>{No("inp",{metric:e}),Rv=e})}function $l(e,t,n,r,s=!1){Mv(e,t);let i;return ll[e]||(i=n(),ll[e]=!0),r&&t({metric:r}),Pv(e,t,s?i:void 0)}function t1(e){const t={};e==="event"&&(t.durationThreshold=0),ri(e,n=>{No(e,{entries:n})},t)}function Mv(e,t){Di[e]=Di[e]||[],Di[e].push(t)}function Pv(e,t,n){return()=>{n&&n();const r=Di[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function n1(e){return"duration"in e}function Mc(e){return typeof e=="number"&&isFinite(e)}function hr(e,t,n,{...r}){const s=ce(e).start_timestamp;return s&&s>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),vf(e,()=>{const i=ti({startTime:t,...r});return i&&i.end(n),i})}function Of(e){var S;const t=ie();if(!t)return;const{name:n,transaction:r,attributes:s,startTime:i}=e,{release:o,environment:l,sendDefaultPii:a}=t.getOptions(),u=t.getIntegrationByName("Replay"),f=u==null?void 0:u.getReplayId(),d=ge(),p=d.getUser(),h=p!==void 0?p.email||p.id||p.ip_address:void 0;let m;try{m=d.getScopeData().contexts.profile.profile_id}catch{}const x={release:o,environment:l,user:h||void 0,profile_id:m||void 0,replay_id:f||void 0,transaction:r,"user_agent.original":(S=Y.navigator)==null?void 0:S.userAgent,"client.address":a?"{{auto}}":void 0,...s};return ti({name:n,attributes:x,startTime:i,experimental:{standalone:!0}})}function To(){return Y.addEventListener&&Y.performance}function Me(e){return e/1e3}function r1(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function Ov(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function Lv(e,t){let n,r=!1;function s(l){!r&&n&&t(l,n),r=!0}kv(()=>{s("pagehide")});const i=e.on("beforeStartNavigationSpan",(l,a)=>{a!=null&&a.isRedirect||(s("navigation"),i(),o())}),o=e.on("afterStartPageLoadSpan",l=>{n=l.spanContext().spanId,o()})}function s1(e){let t=0,n;if(!Ov("layout-shift"))return;const r=Mf(({metric:s})=>{const i=s.entries[s.entries.length-1];i&&(t=s.value,n=i)},!0);Lv(e,(s,i)=>{i1(t,n,i,s),r()})}function i1(e,t,n,r){var u;qr&&P.log(`Sending CLS span (${e})`);const s=t?Me((wt()||0)+t.startTime):Ve(),i=ge().getScopeData().transactionName,o=t?St((u=t.sources[0])==null?void 0:u.node):"Layout shift",l={[ze]:"auto.http.browser.cls",[$n]:"ui.webvital.cls",[Zs]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t!=null&&t.sources&&t.sources.forEach((f,d)=>{l[`cls.source.${d+1}`]=St(f.node)});const a=Of({name:o,transaction:i,attributes:l,startTime:s});a&&(a.addEvent("cls",{[_o]:"",[So]:e}),a.end(s))}function o1(e){let t=0,n;if(!Ov("largest-contentful-paint"))return;const r=Pf(({metric:s})=>{const i=s.entries[s.entries.length-1];i&&(t=s.value,n=i)},!0);Lv(e,(s,i)=>{a1(t,n,i,s),r()})}function a1(e,t,n,r){qr&&P.log(`Sending LCP span (${e})`);const s=Me((wt()||0)+((t==null?void 0:t.startTime)||0)),i=ge().getScopeData().transactionName,o=t?St(t.element):"Largest contentful paint",l={[ze]:"auto.http.browser.lcp",[$n]:"ui.webvital.lcp",[Zs]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(l["lcp.element"]=St(t.element)),t.id&&(l["lcp.id"]=t.id),t.url&&(l["lcp.url"]=t.url),t.loadTime!=null&&(l["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(l["lcp.renderTime"]=t.renderTime),t.size!=null&&(l["lcp.size"]=t.size));const a=Of({name:o,transaction:i,attributes:l,startTime:s});a&&(a.addEvent("lcp",{[_o]:"millisecond",[So]:e}),a.end(s))}function Dt(e){return e&&((wt()||performance.timeOrigin)+e)/1e3}function Av(e){var n;const t={};if(e.nextHopProtocol!=null){const{name:r,version:s}=r1(e.nextHopProtocol);t["network.protocol.version"]=s,t["network.protocol.name"]=r}return wt()||(n=To())!=null&&n.timeOrigin?l1({...t,"http.request.redirect_start":Dt(e.redirectStart),"http.request.redirect_end":Dt(e.redirectEnd),"http.request.worker_start":Dt(e.workerStart),"http.request.fetch_start":Dt(e.fetchStart),"http.request.domain_lookup_start":Dt(e.domainLookupStart),"http.request.domain_lookup_end":Dt(e.domainLookupEnd),"http.request.connect_start":Dt(e.connectStart),"http.request.secure_connection_start":Dt(e.secureConnectionStart),"http.request.connection_end":Dt(e.connectEnd),"http.request.request_start":Dt(e.requestStart),"http.request.response_start":Dt(e.responseStart),"http.request.response_end":Dt(e.responseEnd),"http.request.time_to_first_byte":e.responseStart!=null?e.responseStart/1e3:void 0}):t}function l1(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!=null))}const c1=2147483647;let hm=0,en={},ht,ys;function u1({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=To();if(r&&wt()){r.mark&&Y.performance.mark("sentry-tracing-init");const s=t?o1(n):m1(),i=g1(),o=e?s1(n):h1();return()=>{s==null||s(),i(),o==null||o()}}return()=>{}}function d1(){Kr("longtask",({entries:e})=>{const t=ut();if(!t)return;const{op:n,start_timestamp:r}=ce(t);for(const s of e){const i=Me(wt()+s.startTime),o=Me(s.duration);n==="navigation"&&r&&i<r||hr(t,i,i+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[ze]:"auto.ui.browser.metrics"}})}})}function f1(){new PerformanceObserver(t=>{const n=ut();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const s=Me(wt()+r.startTime),{start_timestamp:i,op:o}=ce(n);if(o==="navigation"&&i&&s<i)continue;const l=Me(r.duration),a={[ze]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:f,invokerType:d,sourceURL:p,sourceFunctionName:h,sourceCharPosition:m}=u;a["browser.script.invoker"]=f,a["browser.script.invoker_type"]=d,p&&(a["code.filepath"]=p),h&&(a["code.function"]=h),m!==-1&&(a["browser.script.source_char_position"]=m),hr(n,s,s+l,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:a})}}).observe({type:"long-animation-frame",buffered:!0})}function p1(){Kr("event",({entries:e})=>{const t=ut();if(t){for(const n of e)if(n.name==="click"){const r=Me(wt()+n.startTime),s=Me(n.duration),i={name:St(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[ze]:"auto.ui.browser.metrics"}},o=v0(n.target);o&&(i.attributes["ui.component_name"]=o),hr(t,r,r+s,i)}}})}function h1(){return Mf(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(en.cls={value:e.value,unit:""},ys=t)},!0)}function m1(){return Pf(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(en.lcp={value:e.value,unit:"millisecond"},ht=t)},!0)}function g1(){return XN(({metric:e})=>{e.entries[e.entries.length-1]&&(en.ttfb={value:e.value,unit:"millisecond"})})}function y1(e,t){const n=To(),r=wt();if(!(n!=null&&n.getEntries)||!r)return;const s=Me(r),i=n.getEntries(),{op:o,start_timestamp:l}=ce(e);i.slice(hm).forEach(a=>{const u=Me(a.startTime),f=Me(Math.max(0,a.duration));if(!(o==="navigation"&&l&&s+u<l))switch(a.entryType){case"navigation":{S1(e,a,s);break}case"mark":case"paint":case"measure":{x1(e,a,u,f,s,t.ignorePerformanceApiSpans);const d=Eo(),p=a.startTime<d.firstHiddenTime;a.name==="first-paint"&&p&&(en.fp={value:a.startTime,unit:"millisecond"}),a.name==="first-contentful-paint"&&p&&(en.fcp={value:a.startTime,unit:"millisecond"});break}case"resource":{E1(e,a,a.name,u,f,s,t.ignoreResourceSpans);break}}}),hm=Math.max(i.length-1,0),k1(e),o==="pageload"&&(I1(en),t.recordClsOnPageloadSpan||delete en.cls,t.recordLcpOnPageloadSpan||delete en.lcp,Object.entries(en).forEach(([a,u])=>{cE(a,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",s),e.setAttribute("performance.activationStart",ni()),N1(e,t)),ht=void 0,ys=void 0,en={}}function v1(e){if((e==null?void 0:e.entryType)==="measure")try{return e.detail.devtools.track==="Components "}catch{return}}function x1(e,t,n,r,s,i){if(v1(t)||["mark","measure"].includes(t.entryType)&&Cn(t.name,i))return;const o=bo(!1),l=Me(o?o.requestStart:0),a=s+Math.max(n,l),u=s+n,f=u+r,d={[ze]:"auto.resource.browser.metrics"};a!==u&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=a),_1(d,t),a<=f&&hr(e,a,f,{name:t.name,op:t.entryType,attributes:d})}function _1(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,s]of Object.entries(n))if(s&&As(s))e[`sentry.browser.measure.detail.${r}`]=s;else if(s!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(s)}catch{}return}if(As(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function S1(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{ta(e,t,r,n)}),ta(e,t,"secureConnection",n,"TLS/SSL"),ta(e,t,"fetch",n,"cache"),ta(e,t,"domainLookup",n,"DNS"),b1(e,t,n)}function ta(e,t,n,r,s=n){const i=w1(n),o=t[i],l=t[`${n}Start`];!l||!o||hr(e,r+Me(l),r+Me(o),{op:`browser.${s}`,name:t.name,attributes:{[ze]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function w1(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function b1(e,t,n){const r=n+Me(t.requestStart),s=n+Me(t.responseEnd),i=n+Me(t.responseStart);t.responseEnd&&(hr(e,r,s,{op:"browser.request",name:t.name,attributes:{[ze]:"auto.ui.browser.metrics"}}),hr(e,i,s,{op:"browser.response",name:t.name,attributes:{[ze]:"auto.ui.browser.metrics"}}))}function E1(e,t,n,r,s,i,o){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const l=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(o!=null&&o.includes(l))return;const a={[ze]:"auto.resource.browser.metrics"},u=Dr(n);u.protocol&&(a["url.scheme"]=u.protocol.split(":").pop()),u.host&&(a["server.address"]=u.host),a["url.same_origin"]=n.includes(Y.location.origin),T1(t,a,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const f={...a,...Av(t)},d=i+r,p=d+s;hr(e,d,p,{name:n.replace(Y.location.origin,""),op:l,attributes:f})}function k1(e){const t=Y.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Mc(n.rtt)&&(en["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Mc(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Mc(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function N1(e,t){ht&&t.recordLcpOnPageloadSpan&&(ht.element&&e.setAttribute("lcp.element",St(ht.element)),ht.id&&e.setAttribute("lcp.id",ht.id),ht.url&&e.setAttribute("lcp.url",ht.url.trim().slice(0,200)),ht.loadTime!=null&&e.setAttribute("lcp.loadTime",ht.loadTime),ht.renderTime!=null&&e.setAttribute("lcp.renderTime",ht.renderTime),e.setAttribute("lcp.size",ht.size)),ys!=null&&ys.sources&&t.recordClsOnPageloadSpan&&ys.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,St(n.node)))}function T1(e,t,n){n.forEach(([r,s])=>{const i=e[r];i!=null&&(typeof i=="number"&&i<c1||typeof i=="string")&&(t[s]=i)})}function I1(e){const t=bo(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function C1(){return To()&&wt()?Kr("element",R1):()=>{}}const R1=({entries:e})=>{const t=ut(),n=t?nt(t):void 0,r=n?ce(n).description:ge().getScopeData().transactionName;e.forEach(s=>{var h,m;const i=s;if(!i.identifier)return;const o=i.name,l=i.renderTime,a=i.loadTime,[u,f]=a?[Me(a),"load-time"]:l?[Me(l),"render-time"]:[Ve(),"entry-emission"],d=o==="image-paint"?Me(Math.max(0,(l??0)-(a??0))):0,p={[ze]:"auto.ui.browser.elementtiming",[$n]:"ui.elementtiming",[nn]:"component","sentry.span_start_time_source":f,"sentry.transaction_name":r,"element.id":i.id,"element.type":((m=(h=i.element)==null?void 0:h.tagName)==null?void 0:m.toLowerCase())||"unknown","element.size":i.naturalWidth&&i.naturalHeight?`${i.naturalWidth}x${i.naturalHeight}`:void 0,"element.render_time":l,"element.load_time":a,"element.url":i.url||void 0,"element.identifier":i.identifier,"element.paint_type":o};mE({name:`element[${i.identifier}]`,attributes:p,startTime:u,onlyIfParent:!0},x=>{x.end(u+d)})})},j1=1e3;let mm,Xu,Ju;function Dv(e){const t="dom";vr(t,e),xr(t,M1)}function M1(){if(!Y.document)return;const e=Ht.bind(null,"dom"),t=gm(e,!0);Y.document.addEventListener("click",t,!1),Y.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{var i,o;const s=(i=Y[n])==null?void 0:i.prototype;(o=s==null?void 0:s.hasOwnProperty)!=null&&o.call(s,"addEventListener")&&(yt(s,"addEventListener",function(l){return function(a,u,f){if(a==="click"||a=="keypress")try{const d=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},p=d[a]=d[a]||{refCount:0};if(!p.handler){const h=gm(e);p.handler=h,l.call(this,a,h,f)}p.refCount++}catch{}return l.call(this,a,u,f)}}),yt(s,"removeEventListener",function(l){return function(a,u,f){if(a==="click"||a=="keypress")try{const d=this.__sentry_instrumentation_handlers__||{},p=d[a];p&&(p.refCount--,p.refCount<=0&&(l.call(this,a,p.handler,f),p.handler=void 0,delete d[a]),Object.keys(d).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return l.call(this,a,u,f)}}))})}function P1(e){if(e.type!==Xu)return!1;try{if(!e.target||e.target._sentryId!==Ju)return!1}catch{}return!0}function O1(e,t){return e!=="keypress"?!1:t!=null&&t.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function gm(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=L1(n);if(O1(n.type,r))return;Mt(n,"_sentryCaptured",!0),r&&!r._sentryId&&Mt(r,"_sentryId",Rt());const s=n.type==="keypress"?"input":n.type;P1(n)||(e({event:n,name:s,global:t}),Xu=n.type,Ju=r?r._sentryId:void 0),clearTimeout(mm),mm=Y.setTimeout(()=>{Ju=void 0,Xu=void 0},j1)}}function L1(e){try{return e.target}catch{return null}}let na;function zl(e){const t="history";vr(t,e),xr(t,A1)}function A1(){if(Y.addEventListener("popstate",()=>{const t=Y.location.href,n=na;if(na=t,n===t)return;Ht("history",{from:n,to:t})}),!iN())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const s=na,i=D1(String(r));if(na=i,s===i)return t.apply(this,n);Ht("history",{from:s,to:i})}return t.apply(this,n)}}yt(Y.history,"pushState",e),yt(Y.history,"replaceState",e)}function D1(e){try{return new URL(e,Y.location.origin).toString()}catch{return e}}const Ia={};function Fv(e){const t=Ia[e];if(t)return t;let n=Y[e];if(Hu(n))return Ia[e]=n.bind(Y);const r=Y.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const i=s.contentWindow;i!=null&&i[e]&&(n=i[e]),r.head.removeChild(s)}catch(s){qr&&P.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,s)}return n&&(Ia[e]=n.bind(Y))}function F1(e){Ia[e]=void 0}function Io(...e){return Fv("setTimeout")(...e)}const Rr="__sentry_xhr_v3__";function $v(e){const t="xhr";vr(t,e),xr(t,$1)}function $1(){if(!Y.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,i=Ve()*1e3,o=In(r[0])?r[0].toUpperCase():void 0,l=z1(r[1]);if(!o||!l)return t.apply(n,r);n[Rr]={method:o,url:l,request_headers:{}},o==="POST"&&l.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const a=()=>{const u=n[Rr];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const f={endTimestamp:Ve()*1e3,startTimestamp:i,xhr:n,virtualError:s};Ht("xhr",f)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,f,d){return a(),u.apply(f,d)}}):n.addEventListener("readystatechange",a),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,f,d){const[p,h]=d,m=f[Rr];return m&&In(p)&&In(h)&&(m.request_headers[p.toLowerCase()]=h),u.apply(f,d)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[Rr];if(!s)return t.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const i={startTimestamp:Ve()*1e3,xhr:n};return Ht("xhr",i),t.apply(n,r)}})}function z1(e){if(In(e))return e;try{return e.toString()}catch{}}function zv(e){return new URLSearchParams(e).toString()}function Bv(e,t=P){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[zv(e)];if(!e)return[void 0]}catch(n){return qr&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return qr&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Uv(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function Hv(e){let t;try{t=e.getAllResponseHeaders()}catch(n){return qr&&P.error(n,"Failed to get xhr response headers",e),{}}return t?t.split(`\r
`).reduce((n,r)=>{const[s,i]=r.split(": ");return i&&(n[s.toLowerCase()]=i),n},{}):{}}const Pc=[],Ca=new Map,es=new Map,B1=60;function U1(){if(To()&&wt()){const t=H1();return()=>{t()}}return()=>{}}const Qu={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function H1(){return jv(W1)}const W1=({metric:e})=>{if(e.value==null)return;const t=Me(e.value);if(t>B1)return;const n=e.entries.find(m=>m.duration===e.value&&Qu[m.name]);if(!n)return;const{interactionId:r}=n,s=Qu[n.name],i=Me(wt()+n.startTime),o=ut(),l=o?nt(o):void 0,a=r!=null?Ca.get(r):void 0,u=(a==null?void 0:a.span)||l,f=u?ce(u).description:ge().getScopeData().transactionName,d=(a==null?void 0:a.elementName)||St(n.target),p={[ze]:"auto.http.browser.inp",[$n]:`ui.interaction.${s}`,[Zs]:n.duration},h=Of({name:d,transaction:f,attributes:p,startTime:i});h&&(h.addEvent("inp",{[_o]:"millisecond",[So]:e.value}),h.end(i+t))};function V1(){const e=Object.keys(Qu);Vu()&&e.forEach(s=>{Y.addEventListener(s,t,{capture:!0,passive:!0})});function t(s){const i=s.target;if(!i)return;const o=St(i),l=Math.round(s.timeStamp);if(es.set(l,o),es.size>50){const a=es.keys().next().value;a!==void 0&&es.delete(a)}}function n(s){const i=Math.round(s.startTime);let o=es.get(i);if(!o)for(let l=-5;l<=5;l++){const a=es.get(i+l);if(a){o=a;break}}return o||"<unknown>"}const r=({entries:s})=>{const i=ut(),o=i&&nt(i);s.forEach(l=>{if(!n1(l))return;const a=l.interactionId;if(a==null||Ca.has(a))return;const u=l.target?St(l.target):n(l);if(Pc.length>10){const f=Pc.shift();Ca.delete(f)}Pc.push(a),Ca.set(a,{span:o,elementName:u})})};Kr("event",r),Kr("first-input",r)}const q1=40;function K1(e,t=Fv("fetch")){let n=0,r=0;async function s(i){const o=i.body.length;n+=o,r++;const l={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{const a=await t(e.url,l);return{statusCode:a.status,headers:{"x-sentry-rate-limits":a.headers.get("X-Sentry-Rate-Limits"),"retry-after":a.headers.get("Retry-After")}}}catch(a){throw F1("fetch"),a}finally{n-=o,r--}}return ok(e,s,wf(e.bufferSize||q1))}const qt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,G1=30,Y1=50;function Zu(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?Wr:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const X1=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,J1=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Q1=/\((\S*)(?::(\d+))(?::(\d+))\)/,Z1=/at (.+?) ?\(data:(.+?),/,eT=e=>{const t=e.match(Z1);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=X1.exec(e);if(n){const[,s,i,o]=n;return Zu(s,Wr,+i,+o)}const r=J1.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const l=Q1.exec(r[2]);l&&(r[2]=l[1],r[3]=l[2],r[4]=l[3])}const[i,o]=Wv(r[1]||Wr,r[2]);return Zu(o,i,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},tT=[G1,eT],nT=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,rT=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,sT=e=>{const t=nT.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=rT.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],s=t[1]||Wr;return[s,r]=Wv(s,r),Zu(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},iT=[Y1,sT],oT=[tT,iT],aT=u0(...oT),Wv=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Wr,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},ra=1024,lT="Breadcrumbs",cT=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:lT,setup(n){t.console&&Wk(pT(n)),t.dom&&Dv(fT(n,t.dom)),t.xhr&&$v(hT(n)),t.fetch&&yv(mT(n)),t.history&&zl(gT(n)),t.sentry&&n.on("beforeSendEvent",dT(n))}}},uT=cT;function dT(e){return function(n){ie()===e&&pr({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Nr(n)},{event:n})}}function fT(e,t){return function(r){if(ie()!==e)return;let s,i,o=typeof t=="object"?t.serializeAttribute:void 0,l=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;l&&l>ra&&(qt&&P.warn(`\`dom.maxStringLength\` cannot exceed ${ra}, but a value of ${l} was configured. Sentry will use ${ra} instead.`),l=ra),typeof o=="string"&&(o=[o]);try{const u=r.event,f=yT(u)?u.target:u;s=St(f,{keyAttrs:o,maxStringLength:l}),i=v0(f)}catch{s="<unknown>"}if(s.length===0)return;const a={category:`ui.${r.name}`,message:s};i&&(a.data={"ui.component_name":i}),pr(a,{event:r.event,name:r.name,global:r.global})}}function pT(e){return function(n){if(ie()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:pv(n.level),message:Th(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Th(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;pr(r,{input:n.args,level:n.level})}}function hT(e){return function(n){if(ie()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,i=n.xhr[Rr];if(!r||!s||!i)return;const{method:o,url:l,status_code:a,body:u}=i,f={method:o,url:l,status_code:a},d={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s},p={category:"xhr",data:f,type:"http",level:gv(a)};e.emit("beforeOutgoingRequestBreadcrumb",p,d),pr(p,d)}}function mT(e){return function(n){if(ie()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const i=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s},l={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",l,o),pr(l,o)}else{const i=n.response,o={...n.fetchData,status_code:i==null?void 0:i.status};n.fetchData.request_body_size,n.fetchData.response_body_size,i==null||i.status;const l={input:n.args,response:i,startTimestamp:r,endTimestamp:s},a={category:"fetch",data:o,type:"http",level:gv(o.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",a,l),pr(a,l)}}}function gT(e){return function(n){if(ie()!==e)return;let r=n.from,s=n.to;const i=Dr(ue.location.href);let o=r?Dr(r):void 0;const l=Dr(s);o!=null&&o.path||(o=i),i.protocol===l.protocol&&i.host===l.host&&(s=l.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),pr({category:"navigation",data:{from:r,to:s}})}}function yT(e){return!!e&&!!e.target}const vT=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],xT="BrowserApiErrors",_T=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:xT,setupOnce(){t.setTimeout&&yt(ue,"setTimeout",ym),t.setInterval&&yt(ue,"setInterval",ym),t.requestAnimationFrame&&yt(ue,"requestAnimationFrame",wT),t.XMLHttpRequest&&"XMLHttpRequest"in ue&&yt(XMLHttpRequest.prototype,"send",bT);const n=t.eventTarget;n&&(Array.isArray(n)?n:vT).forEach(s=>ET(s,t))}}},ST=_T;function ym(e){return function(...t){const n=t[0];return t[0]=Bs(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${An(e)}`}}),e.apply(this,t)}}function wT(e){return function(t){return e.apply(this,[Bs(t,{mechanism:{data:{handler:An(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function bT(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&yt(n,s,function(i){const o={mechanism:{data:{handler:An(i)},handled:!1,type:`auto.browser.browserapierrors.xhr.${s}`}},l=uf(i);return l&&(o.mechanism.data.handler=An(l)),Bs(i,o)})}),e.apply(this,t)}}function ET(e,t){var s,i;const r=(s=ue[e])==null?void 0:s.prototype;(i=r==null?void 0:r.hasOwnProperty)!=null&&i.call(r,"addEventListener")&&(yt(r,"addEventListener",function(o){return function(l,a,u){try{kT(a)&&(a.handleEvent=Bs(a.handleEvent,{mechanism:{data:{handler:An(a),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&NT(this,l,a),o.apply(this,[l,Bs(a,{mechanism:{data:{handler:An(a),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),u])}}),yt(r,"removeEventListener",function(o){return function(l,a,u){try{const f=a.__sentry_wrapped__;f&&o.call(this,l,f,u)}catch{}return o.call(this,l,a,u)}}))}function kT(e){return typeof e.handleEvent=="function"}function NT(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const TT=()=>({name:"BrowserSession",setupOnce(){if(typeof ue.document>"u"){qt&&P.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Yh({ignoreDuration:!0}),Xh(),zl(({from:e,to:t})=>{e!==void 0&&e!==t&&(Yh({ignoreDuration:!0}),Xh())})}}),IT="GlobalHandlers",CT=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:IT,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(jT(n),vm("onerror")),t.onunhandledrejection&&(MT(n),vm("onunhandledrejection"))}}},RT=CT;function jT(e){f0(t=>{const{stackParser:n,attachStacktrace:r}=Vv();if(ie()!==e||xv())return;const{msg:s,url:i,line:o,column:l,error:a}=t,u=LT(If(n,a||s,void 0,r,!1),i,o,l);u.level="error",G0(u,{originalException:a,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function MT(e){p0(t=>{const{stackParser:n,attachStacktrace:r}=Vv();if(ie()!==e||xv())return;const s=PT(t),i=As(s)?OT(s):If(n,s,void 0,r,!0);i.level="error",G0(i,{originalException:s,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function PT(e){if(As(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function OT(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function LT(e,t,n,r){const s=e.exception=e.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},l=o.stacktrace=o.stacktrace||{},a=l.frames=l.frames||[],u=r,f=n,d=AT(t)??Js();return a.length===0&&a.push({colno:u,filename:d,function:Wr,in_app:!0,lineno:f}),e}function vm(e){qt&&P.log(`Global Handler attached: ${e}`)}function Vv(){const e=ie();return(e==null?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}function AT(e){if(!(!In(e)||e.length===0)){if(e.startsWith("data:")){const t=e.match(/^data:([^;]+)/),n=t?t[1]:"text/javascript",r=e.includes("base64,");return`<data:${n}${r?",base64":""}>`}return e}}const DT=()=>({name:"HttpContext",preprocessEvent(e){var r;if(!ue.navigator&&!ue.location&&!ue.document)return;const t=kf(),n={...t.headers,...(r=e.request)==null?void 0:r.headers};e.request={...t,...e.request,headers:n}}}),FT="cause",$T=5,zT="LinkedErrors",BT=(e={})=>{const t=e.limit||$T,n=e.key||FT;return{name:zT,preprocessEvent(r,s,i){const o=i.getOptions();Hk(Nf,o.stackParser,n,t,r,s)}}},UT=BT;function HT(){return WT()?(qt&&Jr(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function WT(){var i;if(typeof ue.window>"u")return!1;const e=ue;if(e.nw)return!1;const t=e.chrome||e.browser;if(!((i=t==null?void 0:t.runtime)!=null&&i.id))return!1;const n=Js(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(ue===ue.top&&r.some(o=>n.startsWith(`${o}://`)))}function VT(e){return[Lk(),jk(),ST(),uT(),RT(),UT(),Gk(),DT(),TT()]}function qT(e={}){const t=!e.skipBrowserExtensionCheck&&HT();let n=e.defaultIntegrations==null?VT():e.defaultIntegrations;const r={...e,enabled:t?!1:e.enabled,stackParser:zw(e.stackParser||aT),integrations:YE({integrations:e.integrations,defaultIntegrations:n}),transport:e.transport||K1};return gk(CN,r)}const Se=ae,Lf="sentryReplaySession",KT="replay_event",Af="Unable to send Replay",GT=3e5,YT=9e5,XT=5e3,JT=5500,QT=6e4,ZT=5e3,eI=3,xm=15e4,sa=5e3,tI=3e3,nI=300,Df=2e7,rI=4999,sI=5e4,_m=36e5;var iI=Object.defineProperty,oI=(e,t,n)=>t in e?iI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sm=(e,t,n)=>oI(e,typeof t!="symbol"?t+"":t,n),Oe=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Oe||{});function aI(e){return e.nodeType===e.ELEMENT_NODE}function Fi(e){const t=e==null?void 0:e.host;return(t==null?void 0:t.shadowRoot)===e}function $i(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function lI(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function cI(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function cl(e){try{const t=e.rules||e.cssRules;return t?lI(Array.from(t,qv).join("")):null}catch{return null}}function uI(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,s=r[n],i=r.getPropertyPriority(s);t+=`${s}:${r.getPropertyValue(s)}${i?" !important":""};`}return`${e.selectorText} { ${t} }`}function qv(e){let t;if(fI(e))try{t=cl(e.styleSheet)||cI(e)}catch{}else if(pI(e)){let n=e.cssText;const r=e.selectorText.includes(":"),s=typeof e.style.all=="string"&&e.style.all;if(s&&(n=uI(e)),r&&(n=dI(n)),r||s)return n}return t||e.cssText}function dI(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function fI(e){return"styleSheet"in e}function pI(e){return"selectorText"in e}class Kv{constructor(){Sm(this,"idNodeMap",new Map),Sm(this,"nodeMetaMap",new WeakMap)}getId(t){var r;return t?((r=this.getMeta(t))==null?void 0:r.id)??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function hI(){return new Kv}function Bl({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function lo({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function Us(e){return e.toLowerCase()}function ed(e){return e.toUpperCase()}const wm="__rrweb_original__";function mI(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const i=t.getImageData,o=wm in i?i[wm]:i;if(new Uint32Array(o.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(a=>a!==0))return!1}return!0}function Ff(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Us(t):null}function ul(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function Gv(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,s=n.pathname.match(r);return(s==null?void 0:s[1])??null}const bm={};function Yv(e){const t=bm[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const i=s.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(s)}catch{}return bm[e]=r.bind(window)}function td(...e){return Yv("setTimeout")(...e)}function Xv(...e){return Yv("clearTimeout")(...e)}function Jv(e){try{return e.contentDocument}catch{}}let gI=1;const yI=new RegExp("[^a-z0-9-_:]"),co=-2;function $f(){return gI++}function vI(e){if(e instanceof HTMLFormElement)return"form";const t=Us(e.tagName);return yI.test(t)?"div":t}function xI(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let ts,Em;const _I=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,SI=/^(?:[a-z+]+:)?\/\//i,wI=/^www\..*/i,bI=/^(data:)([^,]*),(.*)/i;function EI(e,t){if(!e||t.size===0)return e;try{const n=e.split(";"),r=[];for(let s of n){if(s=s.trim(),!s)continue;const i=s.indexOf(":");if(i===-1){r.push(s);continue}const o=s.slice(0,i).trim();t.has(o)||r.push(s)}return r.join("; ")+(r.length>0&&e.endsWith(";")?";":"")}catch(n){return console.warn("Error filtering CSS properties:",n),e}}function dl(e,t){return(e||"").replace(_I,(n,r,s,i,o,l)=>{const a=s||o||l,u=r||i||"";if(!a)return n;if(SI.test(a)||wI.test(a))return`url(${u}${a}${u})`;if(bI.test(a))return`url(${u}${a}${u})`;if(a[0]==="/")return`url(${u}${xI(t)+a}${u})`;const f=t.split("/"),d=a.split("/");f.pop();for(const p of d)p!=="."&&(p===".."?f.pop():f.push(p));return`url(${u}${f.join("/")}${u})`})}const kI=/^[^ \t\n\r\u000c]+/,NI=/^[, \t\n\r\u000c]+/;function TI(e,t){if(t.trim()==="")return t;let n=0;function r(i){let o;const l=i.exec(t.substring(n));return l?(o=l[0],n+=o.length,o):""}const s=[];for(;r(NI),!(n>=t.length);){let i=r(kI);if(i.slice(-1)===",")i=vs(e,i.substring(0,i.length-1)),s.push(i);else{let o="";i=vs(e,i);let l=!1;for(;;){const a=t.charAt(n);if(a===""){s.push((i+o).trim());break}else if(l)a===")"&&(l=!1);else if(a===","){n+=1,s.push((i+o).trim());break}else a==="("&&(l=!0);o+=a,n+=1}}}return s.join(", ")}const km=new WeakMap;function vs(e,t){return!t||t.trim()===""?t:Ul(e,t)}function II(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Ul(e,t){let n=km.get(e);if(n||(n=e.createElement("a"),km.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function Qv(e,t,n,r,s,i,o){if(!r)return r;if(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#"))return vs(e,r);if(n==="xlink:href"&&r[0]!=="#")return vs(e,r);if(n==="background"&&(t==="table"||t==="td"||t==="th"))return vs(e,r);if(n==="srcset")return TI(e,r);if(n==="style"){let l=dl(r,Ul(e));return o&&o.size>0&&(l=EI(l,o)),l}else if(t==="object"&&n==="data")return vs(e,r);return typeof i=="function"?i(n,r,s):r}function Zv(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function CI(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const i=e.classList[s];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function RI(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function jr(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:jr(e.parentNode,t,n,r+1)}function xs(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(RI(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Hs(e,t,n,r,s,i){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const u=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let l=-1,a=-1;if(i){if(a=jr(o,xs(r,s)),a<0)return!0;l=jr(o,xs(t,n),a>=0?a:1/0)}else{if(l=jr(o,xs(t,n)),l<0)return!1;a=jr(o,xs(r,s),l>=0?l:1/0)}return l>=0?a>=0?l<=a:!0:a>=0?!1:!!i}catch{}return!!i}function jI(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){const l=td(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{Xv(l),s=!0,t()});return}const o="about:blank";if(r.location.href!==o||e.src===o||e.src==="")return td(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function MI(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const i=td(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{Xv(i),r=!0,t()})}function PI(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:l,maskAttributeFn:a,maskTextClass:u,unmaskTextClass:f,maskTextSelector:d,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:m={},maskTextFn:x,maskInputFn:S,dataURLOptions:y={},inlineImages:g,recordCanvas:v,keepIframeSrcFn:w,newlyAddedElement:N=!1,ignoreCSSAttributes:T}=t,_=OI(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Oe.Document,childNodes:[],compatMode:e.compatMode}:{type:Oe.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Oe.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:_};case e.ELEMENT_NODE:return AI(e,{doc:n,blockClass:s,blockSelector:i,unblockSelector:o,inlineStylesheet:h,maskAttributeFn:a,maskInputOptions:m,maskInputFn:S,dataURLOptions:y,inlineImages:g,recordCanvas:v,keepIframeSrcFn:w,newlyAddedElement:N,rootId:_,maskTextClass:u,unmaskTextClass:f,maskTextSelector:d,unmaskTextSelector:p,ignoreCSSAttributes:T});case e.TEXT_NODE:return LI(e,{doc:n,maskAllText:l,maskTextClass:u,unmaskTextClass:f,maskTextSelector:d,unmaskTextSelector:p,maskTextFn:x,maskInputOptions:m,maskInputFn:S,rootId:_});case e.CDATA_SECTION_NODE:return{type:Oe.CDATA,textContent:"",rootId:_};case e.COMMENT_NODE:return{type:Oe.Comment,textContent:e.textContent||"",rootId:_};default:return!1}}function OI(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function LI(e,t){var y;const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:i,unmaskTextSelector:o,maskTextFn:l,maskInputOptions:a,maskInputFn:u,rootId:f}=t,d=e.parentNode&&e.parentNode.tagName;let p=e.textContent;const h=d==="STYLE"?!0:void 0,m=d==="SCRIPT"?!0:void 0,x=d==="TEXTAREA"?!0:void 0;if(h&&p){try{e.nextSibling||e.previousSibling||(y=e.parentNode.sheet)!=null&&y.cssRules&&(p=cl(e.parentNode.sheet))}catch(g){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${g}`,e)}p=dl(p,Ul(t.doc))}m&&(p="SCRIPT_PLACEHOLDER");const S=Hs(e,r,i,s,o,n);if(!h&&!m&&!x&&p&&S&&(p=l?l(p,e.parentElement):p.replace(/[\S]/g,"*")),x&&p&&(a.textarea||S)&&(p=u?u(p,e.parentNode):p.replace(/[\S]/g,"*")),d==="OPTION"&&p){const g=Bl({type:null,tagName:d,maskInputOptions:a});p=lo({isMasked:Hs(e,r,i,s,o,g),element:e,value:p,maskInputFn:u})}return{type:Oe.Text,textContent:p||"",isStyle:h,rootId:f}}function AI(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:i,inlineStylesheet:o,maskInputOptions:l={},maskAttributeFn:a,maskInputFn:u,dataURLOptions:f={},inlineImages:d,recordCanvas:p,keepIframeSrcFn:h,newlyAddedElement:m=!1,rootId:x,maskTextClass:S,unmaskTextClass:y,maskTextSelector:g,unmaskTextSelector:v,ignoreCSSAttributes:w}=t,N=CI(e,r,s,i),T=vI(e);let _={};const E=e.attributes.length;for(let k=0;k<E;k++){const M=e.attributes[k];M.name&&!Zv(T,M.name,M.value)&&(_[M.name]=Qv(n,T,Us(M.name),M.value,e,a,w))}if(T==="link"&&o){const k=Array.from(n.styleSheets).find(D=>D.href===e.href);let M=null;k&&(M=cl(k)),M&&(_.rel=null,_.href=null,_.crossorigin=null,_._cssText=dl(M,k.href))}if(T==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const k=cl(e.sheet);k&&(_._cssText=dl(k,Ul(n)))}if(T==="input"||T==="textarea"||T==="select"||T==="option"){const k=e,M=Ff(k),D=ul(k,ed(T),M),H=k.checked;if(M!=="submit"&&M!=="button"&&D){const B=Hs(k,S,g,y,v,Bl({type:M,tagName:ed(T),maskInputOptions:l}));_.value=lo({isMasked:B,element:k,value:D,maskInputFn:u})}H&&(_.checked=H)}if(T==="option"&&(e.selected&&!l.select?_.selected=!0:delete _.selected),T==="canvas"&&p){if(e.__context==="2d")mI(e)||(_.rr_dataURL=e.toDataURL(f.type,f.quality));else if(!("__context"in e)){const k=e.toDataURL(f.type,f.quality),M=n.createElement("canvas");M.width=e.width,M.height=e.height;const D=M.toDataURL(f.type,f.quality);k!==D&&(_.rr_dataURL=k)}}if(T==="img"&&d){ts||(ts=n.createElement("canvas"),Em=ts.getContext("2d"));const k=e,M=k.currentSrc||k.getAttribute("src")||"<unknown-src>",D=k.crossOrigin,H=()=>{k.removeEventListener("load",H);try{ts.width=k.naturalWidth,ts.height=k.naturalHeight,Em.drawImage(k,0,0),_.rr_dataURL=ts.toDataURL(f.type,f.quality)}catch(B){if(k.crossOrigin!=="anonymous"){k.crossOrigin="anonymous",k.complete&&k.naturalWidth!==0?H():k.addEventListener("load",H);return}else console.warn(`Cannot inline img src=${M}! Error: ${B}`)}k.crossOrigin==="anonymous"&&(D?_.crossOrigin=D:k.removeAttribute("crossorigin"))};k.complete&&k.naturalWidth!==0?H():k.addEventListener("load",H)}if((T==="audio"||T==="video")&&(_.rr_mediaState=e.paused?"paused":"played",_.rr_mediaCurrentTime=e.currentTime),m||(e.scrollLeft&&(_.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(_.rr_scrollTop=e.scrollTop)),N){const{width:k,height:M}=e.getBoundingClientRect();_={class:_.class,rr_width:`${k}px`,rr_height:`${M}px`}}T==="iframe"&&!h(_.src)&&(!N&&!Jv(e)&&(_.rr_src=_.src),delete _.src);let O;try{customElements.get(T)&&(O=!0)}catch{}return{type:Oe.Element,tagName:T,attributes:_,childNodes:[],isSVG:II(e)||void 0,needBlock:N,rootId:x,isCustom:O}}function _e(e){return e==null?"":e.toLowerCase()}function DI(e,t){if(t.comment&&e.type===Oe.Comment)return!0;if(e.type===Oe.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Gv(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(_e(e.attributes.name).match(/^msapplication-tile(image|color)$/)||_e(e.attributes.name)==="application-name"||_e(e.attributes.rel)==="icon"||_e(e.attributes.rel)==="apple-touch-icon"||_e(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&_e(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(_e(e.attributes.property).match(/^(og|twitter|fb):/)||_e(e.attributes.name).match(/^(og|twitter):/)||_e(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(_e(e.attributes.name)==="robots"||_e(e.attributes.name)==="googlebot"||_e(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(_e(e.attributes.name)==="author"||_e(e.attributes.name)==="generator"||_e(e.attributes.name)==="framework"||_e(e.attributes.name)==="publisher"||_e(e.attributes.name)==="progid"||_e(e.attributes.property).match(/^article:/)||_e(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(_e(e.attributes.name)==="google-site-verification"||_e(e.attributes.name)==="yandex-verification"||_e(e.attributes.name)==="csrf-token"||_e(e.attributes.name)==="p:domain_verify"||_e(e.attributes.name)==="verify-v1"||_e(e.attributes.name)==="verification"||_e(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function _s(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:l,maskTextClass:a,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:d,skipChild:p=!1,inlineStylesheet:h=!0,maskInputOptions:m={},maskAttributeFn:x,maskTextFn:S,maskInputFn:y,slimDOMOptions:g,dataURLOptions:v={},inlineImages:w=!1,recordCanvas:N=!1,onSerialize:T,onIframeLoad:_,iframeLoadTimeout:E=5e3,onBlockedImageLoad:O,onStylesheetLoad:k,stylesheetLoadTimeout:M=5e3,keepIframeSrcFn:D=()=>!1,newlyAddedElement:H=!1,ignoreCSSAttributes:B}=t;let{preserveWhiteSpace:pe=!0}=t;const q=PI(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:l,unblockSelector:o,maskTextClass:a,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:d,inlineStylesheet:h,maskInputOptions:m,maskAttributeFn:x,maskTextFn:S,maskInputFn:y,dataURLOptions:v,inlineImages:w,recordCanvas:N,keepIframeSrcFn:D,newlyAddedElement:H,ignoreCSSAttributes:B});if(!q)return console.warn(e,"not serialized"),null;let Z;r.hasNode(e)?Z=r.getId(e):DI(q,g)||!pe&&q.type===Oe.Text&&!q.isStyle&&!q.textContent.replace(/^\s+|\s+$/gm,"").length?Z=co:Z=$f();const b=Object.assign(q,{id:Z});if(r.add(e,b),Z===co)return null;T&&T(e);let j=!p;if(b.type===Oe.Element){j=j&&!b.needBlock;const I=e.shadowRoot;I&&$i(I)&&(b.isShadowHost=!0)}if((b.type===Oe.Document||b.type===Oe.Element)&&j){g.headWhitespace&&b.type===Oe.Element&&b.tagName==="head"&&(pe=!1);const I={doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:l,unblockSelector:o,maskTextClass:a,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:d,skipChild:p,inlineStylesheet:h,maskInputOptions:m,maskAttributeFn:x,maskTextFn:S,maskInputFn:y,slimDOMOptions:g,dataURLOptions:v,inlineImages:w,recordCanvas:N,preserveWhiteSpace:pe,onSerialize:T,onIframeLoad:_,iframeLoadTimeout:E,onBlockedImageLoad:O,onStylesheetLoad:k,stylesheetLoadTimeout:M,keepIframeSrcFn:D,ignoreCSSAttributes:B},$=e.childNodes?Array.from(e.childNodes):[];for(const L of $){const ne=_s(L,I);ne&&b.childNodes.push(ne)}if(aI(e)&&e.shadowRoot)for(const L of Array.from(e.shadowRoot.childNodes)){const ne=_s(L,I);ne&&($i(e.shadowRoot)&&(ne.isShadow=!0),b.childNodes.push(ne))}}if(e.parentNode&&Fi(e.parentNode)&&$i(e.parentNode)&&(b.isShadow=!0),b.type===Oe.Element&&b.tagName==="iframe"&&!b.needBlock&&jI(e,()=>{const I=Jv(e);if(I&&_){const $=_s(I,{doc:I,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:l,maskTextClass:a,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:h,maskInputOptions:m,maskAttributeFn:x,maskTextFn:S,maskInputFn:y,slimDOMOptions:g,dataURLOptions:v,inlineImages:w,recordCanvas:N,preserveWhiteSpace:pe,onSerialize:T,onIframeLoad:_,iframeLoadTimeout:E,onStylesheetLoad:k,stylesheetLoadTimeout:M,keepIframeSrcFn:D,ignoreCSSAttributes:B});$&&_(e,$)}},E),b.type===Oe.Element&&b.tagName==="img"&&!e.complete&&b.needBlock){const I=e,$=()=>{if(I.isConnected&&!I.complete&&O)try{const L=I.getBoundingClientRect();L.width>0&&L.height>0&&O(I,b,L)}catch{}I.removeEventListener("load",$)};I.isConnected&&I.addEventListener("load",$)}return b.type===Oe.Element&&b.tagName==="link"&&typeof b.attributes.rel=="string"&&(b.attributes.rel==="stylesheet"||b.attributes.rel==="preload"&&typeof b.attributes.href=="string"&&Gv(b.attributes.href)==="css")&&MI(e,()=>{if(k){const I=_s(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:l,maskTextClass:a,unmaskTextClass:u,maskTextSelector:f,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:h,maskInputOptions:m,maskAttributeFn:x,maskTextFn:S,maskInputFn:y,slimDOMOptions:g,dataURLOptions:v,inlineImages:w,recordCanvas:N,preserveWhiteSpace:pe,onSerialize:T,onIframeLoad:_,iframeLoadTimeout:E,onStylesheetLoad:k,stylesheetLoadTimeout:M,keepIframeSrcFn:D,ignoreCSSAttributes:B});I&&k(e,I)}},M),b.type===Oe.Element&&delete b.needBlock,b}function FI(e,t){const{mirror:n=new Kv,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:i=null,maskAllText:o=!1,maskTextClass:l="rr-mask",unmaskTextClass:a=null,maskTextSelector:u=null,unmaskTextSelector:f=null,inlineStylesheet:d=!0,inlineImages:p=!1,recordCanvas:h=!1,maskAllInputs:m=!1,maskAttributeFn:x,maskTextFn:S,maskInputFn:y,slimDOM:g=!1,dataURLOptions:v,preserveWhiteSpace:w,onSerialize:N,onIframeLoad:T,iframeLoadTimeout:_,onBlockedImageLoad:E,onStylesheetLoad:O,stylesheetLoadTimeout:k,keepIframeSrcFn:M=()=>!1,ignoreCSSAttributes:D=new Set([])}=t||{};return _s(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,maskAllText:o,maskTextClass:l,unmaskTextClass:a,maskTextSelector:u,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:d,maskInputOptions:m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:m===!1?{}:m,maskAttributeFn:x,maskTextFn:S,maskInputFn:y,slimDOMOptions:g===!0||g==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:g==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:g===!1?{}:g,dataURLOptions:v,inlineImages:p,recordCanvas:h,preserveWhiteSpace:w,onSerialize:N,onIframeLoad:T,iframeLoadTimeout:_,onBlockedImageLoad:E,onStylesheetLoad:O,stylesheetLoadTimeout:k,keepIframeSrcFn:M,newlyAddedElement:!1,ignoreCSSAttributes:D})}function ot(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const rs=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Nm={map:{},getId(){return console.error(rs),-1},getNode(){return console.error(rs),null},removeNodeFromMap(){console.error(rs)},has(){return console.error(rs),!1},reset(){console.error(rs)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Nm=new Proxy(Nm,{get(e,t,n){return t==="map"&&console.error(rs),Reflect.get(e,t,n)}}));function uo(e,t,n={}){let r=null,s=0;return function(...i){const o=Date.now();!s&&n.leading===!1&&(s=o);const l=t-(o-s),a=this;l<=0||l>t?(r&&(VI(r),r=null),s=o,e.apply(a,i)):!r&&n.trailing!==!1&&(r=Hl(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(a,i)},l))}}function ex(e,t,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(o){Hl(()=>{n.set.call(this,o)},0),i&&i.set&&i.set.call(this,o)}}),()=>ex(e,t,i||{},!0)}function zf(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let fl=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(fl=()=>new Date().getTime());function tx(e){var n,r,s,i,o,l;const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(t==null?void 0:t.documentElement.scrollLeft)||((r=(n=t==null?void 0:t.body)==null?void 0:n.parentElement)==null?void 0:r.scrollLeft)||((s=t==null?void 0:t.body)==null?void 0:s.scrollLeft)||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(t==null?void 0:t.documentElement.scrollTop)||((o=(i=t==null?void 0:t.body)==null?void 0:i.parentElement)==null?void 0:o.scrollTop)||((l=t==null?void 0:t.body)==null?void 0:l.scrollTop)||0}}function nx(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function rx(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function sx(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Tt(e,t,n,r,s){if(!e)return!1;const i=sx(e);if(!i)return!1;const o=xs(t,n);if(!s){const u=r&&i.matches(r);return o(i)&&!u}const l=jr(i,o);let a=-1;return l<0?!1:(r&&(a=jr(i,xs(null,r))),l>-1&&a<0?!0:l<a)}function $I(e,t){return t.getId(e)!==-1}function Oc(e,t){return t.getId(e)===co}function ix(e,t){if(Fi(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?ix(e.parentNode,t):!0:!0}function nd(e){return!!e.changedTouches}function zI(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function ox(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function ax(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function rd(e){return!!(e!=null&&e.shadowRoot)}class BI{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function lx(e){var n,r;let t=null;return((r=(n=e.getRootNode)==null?void 0:n.call(e))==null?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function UI(e){let t=e,n;for(;n=lx(t);)t=n;return t}function HI(e){const t=e.ownerDocument;if(!t)return!1;const n=UI(e);return t.contains(n)}function cx(e){const t=e.ownerDocument;return t?t.contains(e)||HI(e):!1}const Tm={};function Bf(e){const t=Tm[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const i=s.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(s)}catch{}return Tm[e]=r.bind(window)}function WI(...e){return Bf("requestAnimationFrame")(...e)}function Hl(...e){return Bf("setTimeout")(...e)}function VI(...e){return Bf("clearTimeout")(...e)}var te=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(te||{}),J=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(J||{}),st=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(st||{}),wn=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(wn||{}),ss=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(ss||{});function Uf(e){try{return e.contentDocument}catch{}}function qI(e){try{return e.contentWindow}catch{}}function Im(e){return"__ln"in e}class KI{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=(n==null?void 0:n.next)||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&Im(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&Im(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const Cm=(e,t)=>`${e}@${t}`;class GI{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new KI,s=a=>{let u=a,f=co;for(;f===co;)u=u&&u.nextSibling,f=u&&this.mirror.getId(u);return f},i=a=>{if(!a.parentNode||!cx(a))return;const u=Fi(a.parentNode)?this.mirror.getId(lx(a)):this.mirror.getId(a.parentNode),f=s(a);if(u===-1||f===-1)return r.addNode(a);const d=_s(a,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:p=>{ox(p,this.mirror)&&!Tt(p,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(p),ax(p,this.mirror)&&this.stylesheetManager.trackLinkElement(p),rd(a)&&this.shadowDomManager.addShadowRoot(a.shadowRoot,this.doc)},onIframeLoad:(p,h)=>{Tt(p,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(p,h),p.contentWindow&&this.canvasManager.addWindow(p.contentWindow),this.shadowDomManager.observeAttachShadow(p))},onStylesheetLoad:(p,h)=>{this.stylesheetManager.attachLinkElement(p,h)},onBlockedImageLoad:(p,h,{width:m,height:x})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:h.id,attributes:{style:{width:`${m}px`,height:`${x}px`}}}]})},ignoreCSSAttributes:this.ignoreCSSAttributes});d&&(t.push({parentId:u,nextId:f,node:d}),n.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const a of this.movedSet)Rm(this.removes,a,this.mirror)&&!this.movedSet.has(a.parentNode)||i(a);for(const a of this.addedSet)!jm(this.droppedSet,a)&&!Rm(this.removes,a,this.mirror)||jm(this.movedSet,a)?i(a):this.droppedSet.add(a);let o=null;for(;r.length;){let a=null;if(o){const u=this.mirror.getId(o.value.parentNode),f=s(o.value);u!==-1&&f!==-1&&(a=o)}if(!a){let u=r.tail;for(;u;){const f=u;if(u=u.previous,f){const d=this.mirror.getId(f.value.parentNode);if(s(f.value)===-1)continue;if(d!==-1){a=f;break}else{const h=f.value;if(h.parentNode&&h.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const m=h.parentNode.host;if(this.mirror.getId(m)!==-1){a=f;break}}}}}}if(!a){for(;r.head;)r.removeNode(r.head.value);break}o=a.previous,r.removeNode(a.value),i(a.value)}const l={texts:this.texts.map(a=>({id:this.mirror.getId(a.node),value:a.value})).filter(a=>!n.has(a.id)).filter(a=>this.mirror.has(a.id)),attributes:this.attributes.map(a=>{const{attributes:u}=a;if(typeof u.style=="string"){const f=JSON.stringify(a.styleDiff),d=JSON.stringify(a._unchangedStyles);f.length<u.style.length&&(f+d).split("var(").length===u.style.split("var(").length&&(u.style=a.styleDiff)}return{id:this.mirror.getId(a.node),attributes:u}}).filter(a=>!n.has(a.id)).filter(a=>this.mirror.has(a.id)),removes:this.removes,adds:t};!l.texts.length&&!l.attributes.length&&!l.removes.length&&!l.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(l))},this.processMutation=t=>{if(!Oc(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!Tt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Hs(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,sx(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if(r==="value"){const o=Ff(n),l=n.tagName;s=ul(n,l,o);const a=Bl({maskInputOptions:this.maskInputOptions,tagName:l,type:o}),u=Hs(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,a);s=lo({isMasked:u,element:n,value:s,maskInputFn:this.maskInputFn})}if(Tt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let i=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!Uf(n))r="rr_src";else return;if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!Zv(n.tagName,r)&&(i.attributes[r]=Qv(this.doc,Us(n.tagName),Us(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(const l of Array.from(n.style)){const a=n.style.getPropertyValue(l),u=n.style.getPropertyPriority(l);a!==o.style.getPropertyValue(l)||u!==o.style.getPropertyPriority(l)?u===""?i.styleDiff[l]=a:i.styleDiff[l]=[a,u]:i._unchangedStyles[l]=[a,u]}for(const l of Array.from(o.style))n.style.getPropertyValue(l)===""&&(i.styleDiff[l]=!1)}break}case"childList":{if(Tt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=Fi(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Tt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Oc(n,this.mirror)||!$I(n,this.mirror)||(this.addedSet.has(n)?(sd(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||ix(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[Cm(r,s)]?sd(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:Fi(t.target)&&$i(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Oc(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[Cm(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Tt(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes&&t.childNodes.forEach(r=>this.genAdds(r)),rd(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function sd(e,t){var n;e.delete(t),(n=t.childNodes)==null||n.forEach(r=>sd(e,r))}function Rm(e,t,n){return e.length===0?!1:YI(e,t,n)}function YI(e,t,n){let r=t.parentNode;for(;r;){const s=n.getId(r);if(e.some(i=>i.id===s))return!0;r=r.parentNode}return!1}function jm(e,t){return e.size===0?!1:ux(e,t)}function ux(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:ux(e,n):!1}let zi;function XI(e){zi=e}function JI(){zi=void 0}const oe=e=>zi?(...n)=>{try{return e(...n)}catch(r){if(zi&&zi(r)===!0)return()=>{};throw r}}:e,Ss=[];function Co(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function dx(e,t){var o,l;const n=new GI;Ss.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=(l=(o=window==null?void 0:window.Zone)==null?void 0:o.__symbol__)==null?void 0:l.call(o,"MutationObserver");s&&window[s]&&(r=window[s]);const i=new r(oe(a=>{e.onMutation&&e.onMutation(a)===!1||n.processMutations.bind(n)(a)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function QI({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],l;const a=uo(oe(d=>{const p=Date.now()-l;e(o.map(h=>(h.timeOffset-=p,h)),d),o=[],l=null}),i),u=oe(uo(oe(d=>{const p=Co(d),{clientX:h,clientY:m}=nd(d)?d.changedTouches[0]:d;l||(l=fl()),o.push({x:h,y:m,id:r.getId(p),timeOffset:fl()-l}),a(typeof DragEvent<"u"&&d instanceof DragEvent?J.Drag:d instanceof MouseEvent?J.MouseMove:J.TouchMove)}),s,{trailing:!1})),f=[ot("mousemove",u,n),ot("touchmove",u,n),ot("drag",u,n)];return oe(()=>{f.forEach(d=>d())})}function ZI({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const l=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,a=[];let u=null;const f=d=>p=>{const h=Co(p);if(Tt(h,r,s,i,!0))return;let m=null,x=d;if("pointerType"in p){switch(p.pointerType){case"mouse":m=wn.Mouse;break;case"touch":m=wn.Touch;break;case"pen":m=wn.Pen;break}m===wn.Touch?st[d]===st.MouseDown?x="TouchStart":st[d]===st.MouseUp&&(x="TouchEnd"):wn.Pen}else nd(p)&&(m=wn.Touch);m!==null?(u=m,(x.startsWith("Touch")&&m===wn.Touch||x.startsWith("Mouse")&&m===wn.Mouse)&&(m=null)):st[d]===st.Click&&(m=u,u=null);const S=nd(p)?p.changedTouches[0]:p;if(!S)return;const y=n.getId(h),{clientX:g,clientY:v}=S;oe(e)({type:st[x],id:y,x:g,y:v,...m!==null&&{pointerType:m}})};return Object.keys(st).filter(d=>Number.isNaN(Number(d))&&!d.endsWith("_Departed")&&l[d]!==!1).forEach(d=>{let p=Us(d);const h=f(d);if(window.PointerEvent)switch(st[d]){case st.MouseDown:case st.MouseUp:p=p.replace("mouse","pointer");break;case st.TouchStart:case st.TouchEnd:return}a.push(ot(p,h,t))}),oe(()=>{a.forEach(d=>d())})}function fx({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){const l=oe(uo(oe(a=>{const u=Co(a);if(!u||Tt(u,r,s,i,!0))return;const f=n.getId(u);if(u===t&&t.defaultView){const d=tx(t.defaultView);e({id:f,x:d.left,y:d.top})}else e({id:f,x:u.scrollLeft,y:u.scrollTop})}),o.scroll||100));return ot("scroll",l,t)}function eC({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=oe(uo(oe(()=>{const i=nx(),o=rx();(n!==i||r!==o)&&(e({width:Number(o),height:Number(i)}),n=i,r=o)}),200));return ot("resize",s,t)}const tC=["INPUT","TEXTAREA","SELECT"],Mm=new WeakMap;function nC({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,ignoreClass:o,ignoreSelector:l,maskInputOptions:a,maskInputFn:u,sampling:f,userTriggeredOnInput:d,maskTextClass:p,unmaskTextClass:h,maskTextSelector:m,unmaskTextSelector:x}){function S(_){let E=Co(_);const O=_.isTrusted,k=E&&ed(E.tagName);if(k==="OPTION"&&(E=E.parentElement),!E||!k||tC.indexOf(k)<0||Tt(E,r,s,i,!0))return;const M=E;if(M.classList.contains(o)||l&&M.matches(l))return;const D=Ff(E);let H=ul(M,k,D),B=!1;const pe=Bl({maskInputOptions:a,tagName:k,type:D}),q=Hs(E,p,m,h,x,pe);(D==="radio"||D==="checkbox")&&(B=E.checked),H=lo({isMasked:q,element:E,value:H,maskInputFn:u}),y(E,d?{text:H,isChecked:B,userTriggered:O}:{text:H,isChecked:B});const Z=E.name;D==="radio"&&Z&&B&&t.querySelectorAll(`input[type="radio"][name="${Z}"]`).forEach(b=>{if(b!==E){const j=lo({isMasked:q,element:b,value:ul(b,k,D),maskInputFn:u});y(b,d?{text:j,isChecked:!B,userTriggered:!1}:{text:j,isChecked:!B})}})}function y(_,E){const O=Mm.get(_);if(!O||O.text!==E.text||O.isChecked!==E.isChecked){Mm.set(_,E);const k=n.getId(_);oe(e)({...E,id:k})}}const v=(f.input==="last"?["change"]:["input","change"]).map(_=>ot(_,oe(S),t)),w=t.defaultView;if(!w)return()=>{v.forEach(_=>_())};const N=w.Object.getOwnPropertyDescriptor(w.HTMLInputElement.prototype,"value"),T=[[w.HTMLInputElement.prototype,"value"],[w.HTMLInputElement.prototype,"checked"],[w.HTMLSelectElement.prototype,"value"],[w.HTMLTextAreaElement.prototype,"value"],[w.HTMLSelectElement.prototype,"selectedIndex"],[w.HTMLOptionElement.prototype,"selected"]];return N&&N.set&&v.push(...T.map(_=>ex(_[0],_[1],{set(){oe(S)({target:this,isTrusted:!1})}},!1,w))),oe(()=>{v.forEach(_=>_())})}function pl(e){const t=[];function n(r,s){if(ia("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||ia("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||ia("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||ia("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(o)}return s}return n(e,t)}function Yn(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function rC({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:oe((f,d,p)=>{const[h,m]=p,{id:x,styleId:S}=Yn(d,t,n.styleMirror);return(x&&x!==-1||S&&S!==-1)&&e({id:x,styleId:S,adds:[{rule:h,index:m}]}),f.apply(d,p)})});const i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:oe((f,d,p)=>{const[h]=p,{id:m,styleId:x}=Yn(d,t,n.styleMirror);return(m&&m!==-1||x&&x!==-1)&&e({id:m,styleId:x,removes:[{index:h}]}),f.apply(d,p)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:oe((f,d,p)=>{const[h]=p,{id:m,styleId:x}=Yn(d,t,n.styleMirror);return(m&&m!==-1||x&&x!==-1)&&e({id:m,styleId:x,replace:h}),f.apply(d,p)})}));let l;r.CSSStyleSheet.prototype.replaceSync&&(l=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(l,{apply:oe((f,d,p)=>{const[h]=p,{id:m,styleId:x}=Yn(d,t,n.styleMirror);return(m&&m!==-1||x&&x!==-1)&&e({id:m,styleId:x,replaceSync:h}),f.apply(d,p)})}));const a={};oa("CSSGroupingRule")?a.CSSGroupingRule=r.CSSGroupingRule:(oa("CSSMediaRule")&&(a.CSSMediaRule=r.CSSMediaRule),oa("CSSConditionRule")&&(a.CSSConditionRule=r.CSSConditionRule),oa("CSSSupportsRule")&&(a.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(a).forEach(([f,d])=>{u[f]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(u[f].insertRule,{apply:oe((p,h,m)=>{const[x,S]=m,{id:y,styleId:g}=Yn(h.parentStyleSheet,t,n.styleMirror);return(y&&y!==-1||g&&g!==-1)&&e({id:y,styleId:g,adds:[{rule:x,index:[...pl(h),S||0]}]}),p.apply(h,m)})}),d.prototype.deleteRule=new Proxy(u[f].deleteRule,{apply:oe((p,h,m)=>{const[x]=m,{id:S,styleId:y}=Yn(h.parentStyleSheet,t,n.styleMirror);return(S&&S!==-1||y&&y!==-1)&&e({id:S,styleId:y,removes:[{index:[...pl(h),x]}]}),p.apply(h,m)})})}),oe(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=i,o&&(r.CSSStyleSheet.prototype.replace=o),l&&(r.CSSStyleSheet.prototype.replaceSync=l),Object.entries(a).forEach(([f,d])=>{d.prototype.insertRule=u[f].insertRule,d.prototype.deleteRule=u[f].deleteRule})})}function px({mirror:e,stylesheetManager:t},n){var o,l,a;let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const s=n.nodeName==="#document"?(o=n.defaultView)==null?void 0:o.Document:(a=(l=n.ownerDocument)==null?void 0:l.defaultView)==null?void 0:a.ShadowRoot,i=s!=null&&s.prototype?Object.getOwnPropertyDescriptor(s==null?void 0:s.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){var u;return(u=i.get)==null?void 0:u.call(this)},set(u){var d;const f=(d=i.set)==null?void 0:d.call(this,u);if(r!==null&&r!==-1)try{t.adoptStyleSheets(u,r)}catch{}return f}}),oe(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function sC({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const i=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:oe((l,a,u)=>{var x;const[f,d,p]=u;if(n.has(f))return i.apply(a,[f,d,p]);const{id:h,styleId:m}=Yn((x=a.parentRule)==null?void 0:x.parentStyleSheet,t,r.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,set:{property:f,value:d,priority:p},index:pl(a.parentRule)}),l.apply(a,u)})});const o=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:oe((l,a,u)=>{var h;const[f]=u;if(n.has(f))return o.apply(a,[f]);const{id:d,styleId:p}=Yn((h=a.parentRule)==null?void 0:h.parentStyleSheet,t,r.styleMirror);return(d&&d!==-1||p&&p!==-1)&&e({id:d,styleId:p,remove:{property:f},index:pl(a.parentRule)}),l.apply(a,u)})}),oe(()=>{s.CSSStyleDeclaration.prototype.setProperty=i,s.CSSStyleDeclaration.prototype.removeProperty=o})}function iC({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:i,doc:o}){const l=oe(u=>uo(oe(f=>{const d=Co(f);if(!d||Tt(d,t,n,r,!0))return;const{currentTime:p,volume:h,muted:m,playbackRate:x}=d;e({type:u,id:s.getId(d),currentTime:p,volume:h,muted:m,playbackRate:x})}),i.media||500)),a=[ot("play",l(ss.Play),o),ot("pause",l(ss.Pause),o),ot("seeked",l(ss.Seeked),o),ot("volumechange",l(ss.VolumeChange),o),ot("ratechange",l(ss.RateChange),o)];return oe(()=>{a.forEach(u=>u())})}function oC({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,i=n.FontFace;n.FontFace=function(a,u,f){const d=new i(a,u,f);return s.set(d,{family:a,buffer:typeof u!="string",descriptors:f,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),d};const o=zf(t.fonts,"add",function(l){return function(a){return Hl(oe(()=>{const u=s.get(a);u&&(e(u),s.delete(a))}),0),l.apply(this,[a])}});return r.push(()=>{n.FontFace=i}),r.push(o),oe(()=>{r.forEach(l=>l())})}function aC(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,selectionCb:o}=e;let l=!0;const a=oe(()=>{const u=t.getSelection();if(!u||l&&(u!=null&&u.isCollapsed))return;l=u.isCollapsed||!1;const f=[],d=u.rangeCount||0;for(let p=0;p<d;p++){const h=u.getRangeAt(p),{startContainer:m,startOffset:x,endContainer:S,endOffset:y}=h;Tt(m,r,s,i,!0)||Tt(S,r,s,i,!0)||f.push({start:n.getId(m),startOffset:x,end:n.getId(S),endOffset:y})}o({ranges:f})});return a(),ot("selectionchange",a)}function lC({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:zf(n.customElements,"define",function(s){return function(i,o,l){try{t({define:{name:i}})}catch{}return s.apply(this,[i,o,l])}})}function cC(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=dx(e,e.doc));const s=QI(e),i=ZI(e),o=fx(e),l=eC(e,{win:n}),a=nC(e),u=iC(e);let f=()=>{},d=()=>{},p=()=>{},h=()=>{};e.recordDOM&&(f=rC(e,{win:n}),d=px(e,e.doc),p=sC(e,{win:n}),e.collectFonts&&(h=oC(e)));const m=aC(e),x=lC(e),S=[];for(const y of e.plugins)S.push(y.observer(y.callback,n,y.options));return oe(()=>{Ss.forEach(y=>y.reset()),r==null||r.disconnect(),s(),i(),o(),l(),a(),u(),f(),d(),p(),h(),m(),x(),S.forEach(y=>y())})}function ia(e){return typeof window[e]<"u"}function oa(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class id{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const i=r||this.getIdToRemoteIdMap(t),o=s||this.getRemoteIdToIdMap(t);let l=i.get(n);return l||(l=this.generateIdFn(),i.set(n,l),o.set(l,n)),l}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const i=s.get(n);return i||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class uC{constructor(){this.crossOriginIframeMirror=new id($f),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class dC{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new id($f),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new id(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){var s,i;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((s=t.contentWindow)==null||s.addEventListener("message",this.handleMessage.bind(this))),(i=this.loadListener)==null||i.call(this,t);const r=Uf(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const i=this.transformCrossOriginEvent(s,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){var r;switch(n.type){case te.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const s=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,s),this.patchRootIdOnNode(n.data.node,s),{timestamp:n.timestamp,type:te.IncrementalSnapshot,data:{source:J.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case te.Meta:case te.Load:case te.DomContentLoaded:return!1;case te.Plugin:return n;case te.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case te.IncrementalSnapshot:switch(n.data.source){case J.Mutation:return n.data.adds.forEach(s=>{this.replaceIds(s,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(s.node,t);const i=this.crossOriginIframeRootIdMap.get(t);i&&this.patchRootIdOnNode(s.node,i)}),n.data.removes.forEach(s=>{this.replaceIds(s,t,["parentId","id"])}),n.data.attributes.forEach(s=>{this.replaceIds(s,t,["id"])}),n.data.texts.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case J.Drag:case J.TouchMove:case J.MouseMove:return n.data.positions.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case J.ViewportResize:return!1;case J.MediaInteraction:case J.MouseInteraction:case J.Scroll:case J.CanvasMutation:case J.Input:return this.replaceIds(n.data,t,["id"]),n;case J.StyleSheetRule:case J.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case J.Font:return n;case J.Selection:return n.data.ranges.forEach(s=>{this.replaceIds(s,t,["start","end"])}),n;case J.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),(r=n.data.styles)==null||r.forEach(s=>{this.replaceStyleIds(s,t,["styleId"])}),n}}return!1}replace(t,n,r,s){for(const i of s)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==Oe.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class fC{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class pC{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!$i(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=dx({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(fx({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),Hl(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(px({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=Uf(t),r=qI(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(zf(t.prototype,"attachShadow",function(s){return function(i){const o=s.call(this,i);return this.shadowRoot&&cx(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var Pm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hC=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var aa=0;aa<Pm.length;aa++)hC[Pm.charCodeAt(aa)]=aa;class Om{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class mC{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new BI,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const i of t){let o;this.styleMirror.has(i)?o=this.styleMirror.getId(i):(o=this.styleMirror.add(i),s.push({styleId:o,rules:Array.from(i.rules||CSSRule,(l,a)=>({rule:qv(l),index:a}))})),r.styleIds.push(o)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class gC{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.active||(this.active=!0,WI(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let Re,hl;var Ym;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=((Ym=e.contentWindow)==null?void 0:Ym.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const Xt=hI();function jn(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:o=null,ignoreClass:l="rr-ignore",ignoreSelector:a=null,maskAllText:u=!1,maskTextClass:f="rr-mask",unmaskTextClass:d=null,maskTextSelector:p=null,unmaskTextSelector:h=null,inlineStylesheet:m=!0,maskAllInputs:x,maskInputOptions:S,slimDOMOptions:y,maskAttributeFn:g,maskInputFn:v,maskTextFn:w,maxCanvasSize:N=null,packFn:T,sampling:_={},dataURLOptions:E={},mousemoveWait:O,recordDOM:k=!0,recordCanvas:M=!1,recordCrossOriginIframes:D=!1,recordAfter:H=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:B=!1,collectFonts:pe=!1,inlineImages:q=!1,plugins:Z,keepIframeSrcFn:b=()=>!1,ignoreCSSAttributes:j=new Set([]),errorHandler:I,onMutation:$,getCanvasManager:L}=e;XI(I);const ne=D?window.parent===window:!0;let de=!1;if(!ne)try{window.parent.document&&(de=!1)}catch{de=!0}if(ne&&!t)throw new Error("emit function is required");if(!ne&&!de)return()=>{};O!==void 0&&_.mousemove===void 0&&(_.mousemove=O),Xt.reset();const X=x===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:S!==void 0?S:{},W=y===!0||y==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:y==="all",headMetaDescKeywords:y==="all"}:y||{};zI();let se,be=0;const Be=ee=>{for(const pt of Z||[])pt.eventProcessor&&(ee=pt.eventProcessor(ee));return T&&!de&&(ee=T(ee)),ee};Re=(ee,pt)=>{var Ke;const Q=ee;if(Q.timestamp=fl(),(Ke=Ss[0])!=null&&Ke.isFrozen()&&Q.type!==te.FullSnapshot&&!(Q.type===te.IncrementalSnapshot&&Q.data.source===J.Mutation)&&Ss.forEach(Ge=>Ge.unfreeze()),ne)t==null||t(Be(Q),pt);else if(de){const Ge={type:"rrweb",event:Be(Q),origin:window.location.origin,isCheckout:pt};window.parent.postMessage(Ge,"*")}if(Q.type===te.FullSnapshot)se=Q,be=0;else if(Q.type===te.IncrementalSnapshot){if(Q.data.source===J.Mutation&&Q.data.isAttachIframe)return;be++;const Ge=r&&be>=r,fe=n&&se&&Q.timestamp-se.timestamp>n;(Ge||fe)&&Hn(!0)}};const bt=ee=>{Re({type:te.IncrementalSnapshot,data:{source:J.Mutation,...ee}})},ln=ee=>Re({type:te.IncrementalSnapshot,data:{source:J.Scroll,...ee}}),dt=ee=>Re({type:te.IncrementalSnapshot,data:{source:J.CanvasMutation,...ee}}),Ae=ee=>Re({type:te.IncrementalSnapshot,data:{source:J.AdoptedStyleSheet,...ee}}),qe=new mC({mutationCb:bt,adoptedStyleSheetCb:Ae}),Lt=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new uC:new dC({mirror:Xt,mutationCb:bt,stylesheetManager:qe,recordCrossOriginIframes:D,wrappedEmit:Re});for(const ee of Z||[])ee.getMirror&&ee.getMirror({nodeMirror:Xt,crossOriginIframeMirror:Lt.crossOriginIframeMirror,crossOriginIframeStyleMirror:Lt.crossOriginIframeStyleMirror});const Et=new gC,Un=vC(L,{mirror:Xt,win:window,mutationCb:ee=>Re({type:te.IncrementalSnapshot,data:{source:J.CanvasMutation,...ee}}),recordCanvas:M,blockClass:s,blockSelector:i,unblockSelector:o,maxCanvasSize:N,sampling:_.canvas,dataURLOptions:E,errorHandler:I}),ft=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new fC:new pC({mutationCb:bt,scrollCb:ln,bypassOptions:{onMutation:$,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:f,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,inlineStylesheet:m,maskInputOptions:X,dataURLOptions:E,maskAttributeFn:g,maskTextFn:w,maskInputFn:v,recordCanvas:M,inlineImages:q,sampling:_,slimDOMOptions:W,iframeManager:Lt,stylesheetManager:qe,canvasManager:Un,keepIframeSrcFn:b,processedNodeManager:Et,ignoreCSSAttributes:j},mirror:Xt}),Hn=(ee=!1)=>{if(!k)return;Re({type:te.Meta,data:{href:window.location.href,width:rx(),height:nx()}},ee),qe.reset(),ft.init(),Ss.forEach(Q=>Q.lock());const pt=FI(document,{mirror:Xt,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:u,maskTextClass:f,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,inlineStylesheet:m,maskAllInputs:X,maskAttributeFn:g,maskInputFn:v,maskTextFn:w,slimDOM:W,dataURLOptions:E,recordCanvas:M,inlineImages:q,onSerialize:Q=>{ox(Q,Xt)&&Lt.addIframe(Q),ax(Q,Xt)&&qe.trackLinkElement(Q),rd(Q)&&ft.addShadowRoot(Q.shadowRoot,document)},onIframeLoad:(Q,Ke)=>{Lt.attachIframe(Q,Ke),Q.contentWindow&&Un.addWindow(Q.contentWindow),ft.observeAttachShadow(Q)},onStylesheetLoad:(Q,Ke)=>{qe.attachLinkElement(Q,Ke)},onBlockedImageLoad:(Q,Ke,{width:Ge,height:fe})=>{bt({adds:[],removes:[],texts:[],attributes:[{id:Ke.id,attributes:{style:{width:`${Ge}px`,height:`${fe}px`}}}]})},keepIframeSrcFn:b,ignoreCSSAttributes:j});if(!pt)return console.warn("Failed to snapshot the document");Re({type:te.FullSnapshot,data:{node:pt,initialOffset:tx(window)}}),Ss.forEach(Q=>Q.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&qe.adoptStyleSheets(document.adoptedStyleSheets,Xt.getId(document))};hl=Hn;try{const ee=[],pt=Ke=>{var Ge;return oe(cC)({onMutation:$,mutationCb:bt,mousemoveCb:(fe,xn)=>Re({type:te.IncrementalSnapshot,data:{source:xn,positions:fe}}),mouseInteractionCb:fe=>Re({type:te.IncrementalSnapshot,data:{source:J.MouseInteraction,...fe}}),scrollCb:ln,viewportResizeCb:fe=>Re({type:te.IncrementalSnapshot,data:{source:J.ViewportResize,...fe}}),inputCb:fe=>Re({type:te.IncrementalSnapshot,data:{source:J.Input,...fe}}),mediaInteractionCb:fe=>Re({type:te.IncrementalSnapshot,data:{source:J.MediaInteraction,...fe}}),styleSheetRuleCb:fe=>Re({type:te.IncrementalSnapshot,data:{source:J.StyleSheetRule,...fe}}),styleDeclarationCb:fe=>Re({type:te.IncrementalSnapshot,data:{source:J.StyleDeclaration,...fe}}),canvasMutationCb:dt,fontCb:fe=>Re({type:te.IncrementalSnapshot,data:{source:J.Font,...fe}}),selectionCb:fe=>{Re({type:te.IncrementalSnapshot,data:{source:J.Selection,...fe}})},customElementCb:fe=>{Re({type:te.IncrementalSnapshot,data:{source:J.CustomElement,...fe}})},blockClass:s,ignoreClass:l,ignoreSelector:a,maskAllText:u,maskTextClass:f,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,maskInputOptions:X,inlineStylesheet:m,sampling:_,recordDOM:k,recordCanvas:M,inlineImages:q,userTriggeredOnInput:B,collectFonts:pe,doc:Ke,maskAttributeFn:g,maskInputFn:v,maskTextFn:w,keepIframeSrcFn:b,blockSelector:i,unblockSelector:o,slimDOMOptions:W,dataURLOptions:E,mirror:Xt,iframeManager:Lt,stylesheetManager:qe,shadowDomManager:ft,processedNodeManager:Et,canvasManager:Un,ignoreCSSAttributes:j,plugins:((Ge=Z==null?void 0:Z.filter(fe=>fe.observer))==null?void 0:Ge.map(fe=>({observer:fe.observer,options:fe.options,callback:xn=>Re({type:te.Plugin,data:{plugin:fe.name,payload:xn}})})))||[]},{})};Lt.addLoadListener(Ke=>{try{ee.push(pt(Ke.contentDocument))}catch(Ge){console.warn(Ge)}});const Q=()=>{Hn(),ee.push(pt(document))};return document.readyState==="interactive"||document.readyState==="complete"?Q():(ee.push(ot("DOMContentLoaded",()=>{Re({type:te.DomContentLoaded,data:{}}),H==="DOMContentLoaded"&&Q()})),ee.push(ot("load",()=>{Re({type:te.Load,data:{}}),H==="load"&&Q()},window))),()=>{ee.forEach(Ke=>Ke()),Et.destroy(),hl=void 0,JI()}}catch(ee){console.warn(ee)}}function yC(e){if(!hl)throw new Error("please take full snapshot after start recording");hl(e)}jn.mirror=Xt;jn.takeFullSnapshot=yC;function vC(e,t){try{return e?e(t):new Om}catch{return console.warn("Unable to initialize CanvasManager"),new Om}}var Lm;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Lm||(Lm={}));const xC=3,_C=5;function Hf(e){return e>9999999999?e:e*1e3}function Lc(e){return e>9999999999?e/1e3:e}function Ro(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:te.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Zt(t,10,1e3)}}),t.category==="console")))}const SC="button,a";function hx(e){return e.closest(SC)||e}function mx(e){const t=gx(e);return!t||!(t instanceof Element)?t:hx(t)}function gx(e){return wC(e)?e.target:e}function wC(e){return typeof e=="object"&&!!e&&"target"in e}let Xn;function bC(e){return Xn||(Xn=[],EC()),Xn.push(e),()=>{const t=Xn?Xn.indexOf(e):-1;t>-1&&Xn.splice(t,1)}}function EC(){yt(Se,"open",function(e){return function(...t){if(Xn)try{Xn.forEach(n=>n())}catch{}return e.apply(Se,t)}})}const kC=new Set([J.Mutation,J.StyleSheetRule,J.StyleDeclaration,J.AdoptedStyleSheet,J.CanvasMutation,J.Selection,J.MediaInteraction]);function NC(e,t,n){e.handleClick(t,n)}class TC{constructor(t,n,r=Ro){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=bC(()=>{this._lastMutation=Am()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(CC(n,this._ignoreSelector)||!RC(t))return;const r={timestamp:Lc(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Lc(t)}registerScroll(t=Date.now()){this._lastScroll=Lc(t)}registerClick(t){const n=hx(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=Am();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!s,{clickCount:o,clickBreadcrumb:l}=t;if(i){const a=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=a<this._timeout*1e3?"mutation":"timeout",f={type:"default",message:l.message,timestamp:l.timestamp,category:"ui.slowClickDetected",data:{...l.data,url:Se.location.href,route:n.getCurrentRoute(),timeAfterClickMs:a,endReason:u,clickCount:o||1}};this._addBreadcrumbEvent(n,f);return}if(o>1){const a={type:"default",message:l.message,timestamp:l.timestamp,category:"ui.multiClick",data:{...l.data,url:Se.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,a)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Io(()=>this._checkClicks(),1e3)}}const IC=["A","BUTTON","INPUT"];function CC(e,t){return!!(!IC.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function RC(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Am(){return Date.now()/1e3}function jC(e,t){try{if(!MC(t))return;const{source:n}=t.data;if(kC.has(n)&&e.registerMutation(t.timestamp),n===J.Scroll&&e.registerScroll(t.timestamp),PC(t)){const{type:r,id:s}=t.data,i=jn.mirror.getNode(s);i instanceof HTMLElement&&r===st.Click&&e.registerClick(i)}}catch{}}function MC(e){return e.type===xC}function PC(e){return e.data.source===J.MouseInteraction}function hn(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Wf=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Wf||{});const OC=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function LC(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(OC.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const AC=e=>t=>{if(!e.isEnabled())return;const n=DC(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&(s!=null&&s.target)&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&NC(e.clickDetector,n,mx(t.event)),Ro(e,n)};function yx(e,t){const n=jn.mirror.getId(e),r=n&&jn.mirror.getNode(n),s=r&&jn.mirror.getMeta(r),i=s&&$C(s)?s:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(o=>o.type===Wf.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:LC(i.attributes)}}:{}}}function DC(e){const{target:t,message:n}=FC(e);return hn({category:`ui.${e.name}`,...yx(t,n)})}function FC(e){const t=e.name==="click";let n,r=null;try{r=t?mx(e.event):gx(e.event),n=St(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function $C(e){return e.type===Wf.Element}function zC(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=BC(t);n&&Ro(e,n)}function BC(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i,target:o}=e;if(!o||UC(o)||!i)return null;const l=t||r||s,a=i.length===1;if(!l&&a)return null;const u=St(o,{maxStringLength:200})||"<unknown>",f=yx(o,u);return hn({category:"ui.keyDown",message:u,data:{...f.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i}})}function UC(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const HC={resource:GC,paint:qC,navigation:KC};function Ac(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function WC(e){return e.map(VC).filter(Boolean)}function VC(e){const t=HC[e.entryType];return t?t(e):null}function Ws(e){return((wt()||Se.performance.timeOrigin)+e)/1e3}function qC(e){const{duration:t,entryType:n,name:r,startTime:s}=e,i=Ws(s);return{type:n,name:r,start:i,end:i+t,data:void 0}}function KC(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:i,encodedBodySize:o,domContentLoadedEventStart:l,domContentLoadedEventEnd:a,domInteractive:u,loadEventStart:f,loadEventEnd:d,redirectCount:p,startTime:h,transferSize:m,type:x}=e;return s===0?null:{type:`${t}.${x}`,start:Ws(h),end:Ws(i),name:n,data:{size:m,decodedBodySize:r,encodedBodySize:o,duration:s,domInteractive:u,domContentLoadedEventStart:l,domContentLoadedEventEnd:a,loadEventStart:f,loadEventEnd:d,domComplete:i,redirectCount:p}}}function GC(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:i,decodedBodySize:o,encodedBodySize:l,responseStatus:a,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Ws(i),end:Ws(s),name:r,data:{size:u,statusCode:a,decodedBodySize:o,encodedBodySize:l}}}function YC(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.element?[t.element]:void 0;return Vf(e,"largest-contentful-paint",n)}function XC(e){return e.sources!==void 0}function JC(e){const t=[],n=[];for(const r of e.entries)if(XC(r)){const s=[];for(const i of r.sources)if(i.node){n.push(i.node);const o=jn.mirror.getId(i.node);o&&s.push(o)}t.push({value:r.value,nodeIds:s.length?s:void 0})}return Vf(e,"cumulative-layout-shift",n,t)}function QC(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return Vf(e,"interaction-to-next-paint",n)}function Vf(e,t,n,r){const s=e.value,i=e.rating,o=Ws(s);return{type:"web-vital",name:t,start:o,end:o,data:{value:s,size:s,rating:i,nodeIds:n?n.map(l=>jn.mirror.getId(l)):void 0,attributions:r}}}function ZC(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(Kr(s,n))}),r.push(Pf(Ac(YC,e)),Mf(Ac(JC,e)),jv(Ac(QC,e))),()=>{r.forEach(s=>s())}}const K=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,eR='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function tR(){const e=new Blob([eR]);return URL.createObjectURL(e)}const Dm=["log","warn","error"],Ra="[Replay] ";function Dc(e,t="info"){pr({category:"console",data:{logger:"replay"},level:t,message:`${Ra}${e}`},{level:t})}function nR(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return K?(Dm.forEach(r=>{n[r]=(...s)=>{P[r](Ra,...s),t&&Dc(s.join(""),pv(r))}}),n.exception=(r,...s)=>{s.length&&n.error&&n.error(...s),P.error(Ra,r),e?K0(r,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):t&&Dc(r,"error")},n.infoTick=(...r)=>{P.log(Ra,...r),t&&setTimeout(()=>Dc(r[0]),0)}):Dm.forEach(r=>{n[r]=()=>{}}),n}const G=nR();class qf extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Df}.`)}}class vx{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>Df)throw new qf;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?Hf(t):null}}class rR{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){K&&G.log("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,i)=>{const o=({data:l})=>{const a=l;if(a.method===t&&a.id===r){if(this._worker.removeEventListener("message",o),!a.success){K&&G.error("Error in compression worker: ",a.response),i(new Error("Error in compression worker"));return}s(a.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class sR{constructor(t){this._worker=new rR(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=Hf(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>Df?Promise.reject(new qf):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{K&&G.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class iR{constructor(t){this._fallback=new vx,this._compression=new sR(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){K&&G.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,s=[];for(const i of t)s.push(this._compression.addEvent(i));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(s),this._fallback.clear()}catch(i){K&&G.exception(i,"Failed to add events when switching buffers.")}}}function oR({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=aR(t);if(n)return n}return K&&G.log("Using simple buffer"),new vx}function aR(e){try{const t=e||lR();if(!t)return;K&&G.log(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new iR(n)}catch(t){K&&G.exception(t,"Failed to create compression worker")}}function lR(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?tR():""}function Kf(){try{return"sessionStorage"in Se&&!!Se.sessionStorage}catch{return!1}}function cR(e){uR(),e.session=void 0}function uR(){if(Kf())try{Se.sessionStorage.removeItem(Lf)}catch{}}function xx(e){return e===void 0?!1:Math.random()<e}function Wl(e){if(Kf())try{Se.sessionStorage.setItem(Lf,JSON.stringify(e))}catch{}}function _x(e){const t=Date.now(),n=e.id||Rt(),r=e.started||t,s=e.lastActivity||t,i=e.segmentId||0,o=e.sampled,l=e.previousSessionId,a=e.dirty||!1;return{id:n,started:r,lastActivity:s,segmentId:i,sampled:o,previousSessionId:l,dirty:a}}function dR(e,t){return xx(e)?"session":t?"buffer":!1}function Fm({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=dR(e,t),i=_x({sampled:s,previousSessionId:r});return n&&Wl(i),i}function fR(){if(!Kf())return null;try{const e=Se.sessionStorage.getItem(Lf);if(!e)return null;const t=JSON.parse(e);return K&&G.infoTick("Loading existing session"),_x(t)}catch{return null}}function od(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function Sx(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return od(e.started,t,r)||od(e.lastActivity,n,r)}function wx(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!Sx(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Fc({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const s=r.stickySession&&fR();return s?wx(s,{sessionIdleExpire:e,maxReplayDuration:t})?(K&&G.infoTick("Session in sessionStorage is expired, creating new one..."),Fm(r,{previousSessionId:s.id})):s:(K&&G.infoTick("Creating new session"),Fm(r,{previousSessionId:n}))}function pR(e){return e.type===te.Custom}function Gf(e,t,n){return Ex(e,t)?(bx(e,t,n),!0):!1}function hR(e,t,n){return Ex(e,t)?bx(e,t,n):Promise.resolve(null)}async function bx(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const s=e.recordingMode==="buffer";try{n&&s&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const i=e.getOptions(),o=mR(t,i.beforeAddRecordingEvent);return o?await r.addEvent(o):void 0}catch(i){const o=i&&i instanceof qf,l=o?"addEventSizeExceeded":"addEvent",a=ie();if(a){const u=o?"buffer_overflow":"internal_sdk_error";a.recordDroppedEvent(u,"replay")}if(o&&s)return r.clear(),r.waitForCheckout=!0,null;e.handleException(i),await e.stop({reason:l})}}function Ex(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=Hf(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(K&&G.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function mR(e,t){try{if(typeof t=="function"&&pR(e))return t(e)}catch(n){return K&&G.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function Yf(e){return!e.type}function ad(e){return e.type==="transaction"}function gR(e){return e.type==="replay_event"}function $m(e){return e.type==="feedback"}function yR(e){return(t,n)=>{if(!e.isEnabled()||!Yf(t)&&!ad(t))return;const r=n.statusCode;if(!(!r||r<200||r>=300)){if(ad(t)){vR(e,t);return}xR(e,t)}}}function vR(e,t){var r,s;const n=e.getContext();(s=(r=t.contexts)==null?void 0:r.trace)!=null&&s.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function xR(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||Io(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(s){e.handleException(s)}})}function _R(e){return t=>{!e.isEnabled()||!Yf(t)||SR(e,t)}}function SR(e,t){var r,s,i;const n=(i=(s=(r=t.exception)==null?void 0:r.values)==null?void 0:s[0])==null?void 0:i.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const o=hn({category:"replay.hydrate-error",data:{url:Js()}});Ro(e,o)}}function wR(e){const t=ie();t&&t.on("beforeAddBreadcrumb",n=>bR(e,n))}function bR(e,t){if(!e.isEnabled()||!kx(t))return;const n=ER(t);n&&Ro(e,n)}function ER(e){return!kx(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?kR(e):hn(e)}function kR(e){var s;const t=(s=e.data)==null?void 0:s.arguments;if(!Array.isArray(t)||t.length===0)return hn(e);let n=!1;const r=t.map(i=>{if(!i)return i;if(typeof i=="string")return i.length>sa?(n=!0,`${i.slice(0,sa)}`):i;if(typeof i=="object")try{const o=Zt(i,7);return JSON.stringify(o).length>sa?(n=!0,`${JSON.stringify(o,null,2).slice(0,sa)}`):o}catch{}return i});return hn({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function kx(e){return!!e.category}function NR(e,t){var n,r,s;return e.type||!((r=(n=e.exception)==null?void 0:n.values)!=null&&r.length)?!1:!!((s=t.originalException)!=null&&s.__rrweb__)}function Nx(){const e=ge().getPropagationContext().dsc;e&&delete e.replay_id;const t=ut();if(t){const n=zn(t);delete n.replay_id}}function TR(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:te.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function IR(e,t){return e.recordingMode!=="buffer"||t.message===Af||!t.exception||t.type?!1:xx(e.getOptions().errorSampleRate)}function CR(e){return Object.assign((t,n)=>{var o;if(!e.isEnabled()||e.isPaused())return t;if(gR(t))return delete t.breadcrumbs,t;if(!Yf(t)&&!ad(t)&&!$m(t))return t;if(!e.checkAndHandleExpiredSession())return Nx(),t;if($m(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),TR(e,t),t;if(NR(t,n)&&!e.getOptions()._experiments.captureExceptions)return K&&G.log("Ignoring error from rrweb internals",t),null;const s=IR(e,t);if((s||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),s&&e.recordingMode==="buffer"&&((o=e.session)==null?void 0:o.sampled)==="buffer"){const l=e.session;l.dirty=!0,e.getOptions().stickySession&&Wl(l)}return t},{id:"Replay"})}function Vl(e,t){return t.map(({type:n,start:r,end:s,name:i,data:o})=>{const l=e.throttledAddEvent({type:te.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:s,data:o}}});return typeof l=="string"?Promise.resolve(null):l})}function RR(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function jR(e){return t=>{if(!e.isEnabled())return;const n=RR(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(Vl(e,[n]),!1)))}}function MR(e,t){return K&&e.getOptions()._experiments.traceInternals?!1:Sk(t,ie())}function Tx(e,t){e.isEnabled()&&t!==null&&(MR(e,t.name)||e.addUpdate(()=>(Vl(e,[t]),!0)))}function ql(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=zv(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function Ix(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function ml(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Cx(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:i,statusCode:o,request:l,response:a}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:{method:i,statusCode:o,request:l,response:a}}}function fo(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function cr(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:i}=PR(n);return r.body=s,i!=null&&i.length&&(r._meta={warnings:i}),r}function ld(e,t){return Object.entries(e).reduce((n,[r,s])=>{const i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=s),n},{})}function PR(e){if(!e||typeof e!="string")return{body:e};const t=e.length>xm,n=OR(e);if(t){const r=e.slice(0,xm);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function OR(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function gl(e,t){const n=LR(e);return Cn(n,t)}function LR(e,t=Se.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(Se.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function AR(e,t,n){try{const r=await FR(e,t,n),s=Cx("resource.fetch",r);Tx(n.replay,s)}catch(r){K&&G.exception(r,"Failed to capture fetch breadcrumb")}}function DR(e,t){const{input:n,response:r}=t,s=n?Uv(n):void 0,i=ql(s),o=r?Ix(r.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),o!==void 0&&(e.data.response_body_size=o)}async function FR(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r}=t,{url:o,method:l,status_code:a=0,request_body_size:u,response_body_size:f}=e.data,d=gl(o,n.networkDetailAllowUrls)&&!gl(o,n.networkDetailDenyUrls),p=d?$R(n,t.input,u):fo(u),h=await zR(d,n,t.response,f);return{startTimestamp:s,endTimestamp:i,url:o,method:l,statusCode:a,request:p,response:h}}function $R({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?HR(n,t):{};if(!e)return cr(s,r,void 0);const i=Uv(n),[o,l]=Bv(i,G),a=cr(s,r,o);return l?ml(a,l):a}async function zR(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,s){if(!e&&s!==void 0)return fo(s);const i=r?Rx(r.headers,n):{};if(!r||!t&&s!==void 0)return cr(i,s,void 0);const[o,l]=await UR(r),a=BR(o,{networkCaptureBodies:t,responseBodySize:s,captureDetails:e,headers:i});return l?ml(a,l):a}function BR(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:s}){try{const i=e!=null&&e.length&&n===void 0?ql(e):n;return r?t?cr(s,i,e):cr(s,i,void 0):fo(i)}catch(i){return K&&G.exception(i,"Failed to serialize response body"),cr(s,n,void 0)}}async function UR(e){const t=WR(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await VR(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(K&&G.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(K&&G.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function Rx(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function HR(e,t){return e.length===1&&typeof e[0]!="string"?zm(e[0],t):e.length===2?zm(e[1],t):{}}function zm(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?Rx(n,t):Array.isArray(n)?{}:ld(n,t):{}}function WR(e){try{return e.clone()}catch(t){K&&G.exception(t,"Failed to clone response body")}}function VR(e){return new Promise((t,n)=>{const r=Io(()=>n(new Error("Timeout while trying to read response body")),500);qR(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function qR(e){return await e.text()}async function KR(e,t,n){try{const r=YR(e,t,n),s=Cx("resource.xhr",r);Tx(n.replay,s)}catch(r){K&&G.exception(r,"Failed to capture xhr breadcrumb")}}function GR(e,t){const{xhr:n,input:r}=t;if(!n)return;const s=ql(r),i=n.getResponseHeader("content-length")?Ix(n.getResponseHeader("content-length")):QR(n.response,n.responseType);s!==void 0&&(e.data.request_body_size=s),i!==void 0&&(e.data.response_body_size=i)}function YR(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r,input:o,xhr:l}=t,{url:a,method:u,status_code:f=0,request_body_size:d,response_body_size:p}=e.data;if(!a)return null;if(!l||!gl(a,n.networkDetailAllowUrls)||gl(a,n.networkDetailDenyUrls)){const T=fo(d),_=fo(p);return{startTimestamp:s,endTimestamp:i,url:a,method:u,statusCode:f,request:T,response:_}}const h=l[Rr],m=h?ld(h.request_headers,n.networkRequestHeaders):{},x=ld(Hv(l),n.networkResponseHeaders),[S,y]=n.networkCaptureBodies?Bv(o,G):[void 0],[g,v]=n.networkCaptureBodies?XR(l):[void 0],w=cr(m,d,S),N=cr(x,p,g);return{startTimestamp:s,endTimestamp:i,url:a,method:u,statusCode:f,request:y?ml(w,y):w,response:v?ml(N,v):N}}function XR(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return JR(e.response,e.responseType)}catch(n){t.push(n)}return K&&G.warn("Failed to get xhr response body",...t),[void 0]}function JR(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return K&&G.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return K&&G.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function QR(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return ql(n)}catch{return}}function ZR(e){const t=ie();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:o}=e.getOptions(),l={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:o};t&&t.on("beforeAddBreadcrumb",(a,u)=>ej(l,a,u))}catch{}}function ej(e,t,n){if(t.data)try{tj(t)&&rj(n)&&(GR(t,n),KR(t,n,e)),nj(t)&&sj(n)&&(DR(t,n),AR(t,n,e))}catch(r){K&&G.exception(r,"Error when enriching network breadcrumb")}}function tj(e){return e.category==="xhr"}function nj(e){return e.category==="fetch"}function rj(e){return e==null?void 0:e.xhr}function sj(e){return e==null?void 0:e.response}function ij(e){const t=ie();Dv(AC(e)),zl(jR(e)),wR(e),ZR(e);const n=CR(e);UE(n),t&&(t.on("beforeSendEvent",_R(e)),t.on("afterSendEvent",yR(e)),t.on("createDsc",r=>{const s=e.getSessionId();s&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=s)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",async(r,s)=>{var o;const i=e.getSessionId();s!=null&&s.includeReplay&&e.isEnabled()&&i&&((o=r.contexts)!=null&&o.feedback)&&(r.contexts.feedback.source==="api"&&await e.sendBufferedReplayOrFlush(),r.contexts.feedback.replay_id=i)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}async function oj(e){try{return Promise.all(Vl(e,[aj(Se.performance.memory)]))}catch{return[]}}function aj(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function lj(e,t,n){return Tk(e,t,{...n,setTimeoutImpl:Io})}const Ft=ae.navigator;function cj(){return/iPhone|iPad|iPod/i.test((Ft==null?void 0:Ft.userAgent)??"")||/Macintosh/i.test((Ft==null?void 0:Ft.userAgent)??"")&&(Ft!=null&&Ft.maxTouchPoints)&&(Ft==null?void 0:Ft.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}}function uj(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){K&&G.warn("Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&jC(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!Gf(e,n,s))return!0;if(!s)return!1;const i=e.session;if(fj(e,s),e.recordingMode==="buffer"&&i&&e.eventBuffer&&!i.dirty){const o=e.eventBuffer.getEarliestTimestamp();o&&(K&&G.log(`Updating session start time to earliest event in buffer to ${new Date(o)}`),i.started=o,e.getOptions().stickySession&&Wl(i))}return i!=null&&i.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function dj(e){const t=e.getOptions();return{type:te.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function fj(e,t){!t||!e.session||e.session.segmentId!==0||Gf(e,dj(e),!1)}function pj(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function hj(e,t,n,r){return Sr(z0(e,yf(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function mj({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function gj({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:s};e.emit("preprocessEvent",r,i);const o=await q0(e.getOptions(),r,i,t,e,vn());if(!o)return null;e.emit("postprocessEvent",o,i),o.platform=o.platform||"javascript";const l=e.getSdkMetadata(),{name:a,version:u,settings:f}=(l==null?void 0:l.sdk)||{};return o.sdk={...o.sdk,name:a||"sentry.javascript.unknown",version:u||"0.0.0",settings:f},o}async function yj({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:i}){const o=mj({recordingData:e,headers:{segment_id:n}}),{urls:l,errorIds:a,traceIds:u,initialTimestamp:f}=r,d=ie(),p=ge(),h=d==null?void 0:d.getTransport(),m=d==null?void 0:d.getDsn();if(!d||!h||!m||!i.sampled)return Promise.resolve({});const x={type:KT,replay_start_timestamp:f/1e3,timestamp:s/1e3,error_ids:a,trace_ids:u,urls:l,replay_id:t,segment_id:n,replay_type:i.sampled},S=await gj({scope:p,client:d,replayId:t,event:x});if(!S)return d.recordDroppedEvent("event_processor","replay"),K&&G.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete S.sdkProcessingMetadata;const y=hj(S,o,m,d.getOptions().tunnel);let g;try{g=await h.send(y)}catch(w){const N=new Error(Af);try{N.cause=w}catch{}throw N}if(typeof g.statusCode=="number"&&(g.statusCode<200||g.statusCode>=300))throw new jx(g.statusCode);const v=sv({},g);if(rv(v,"replay"))throw new Xf(v);return g}class jx extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class Xf extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function Mx(e,t={count:0,interval:ZT}){const{recordingData:n,onError:r}=e;if(n.length)try{return await yj(e),!0}catch(s){if(s instanceof jx||s instanceof Xf)throw s;if(Y0("Replays",{_retryCount:t.count}),r&&r(s),t.count>=eI){const i=new Error(`${Af} - max retries exceeded`);try{i.cause=s}catch{}throw i}return t.interval*=++t.count,new Promise((i,o)=>{Io(async()=>{try{await Mx(e,t),i(!0)}catch(l){o(l)}},t.interval)})}}const Px="__THROTTLED",vj="__SKIPPED";function xj(e,t,n){const r=new Map,s=l=>{const a=l-n;r.forEach((u,f)=>{f<a&&r.delete(f)})},i=()=>[...r.values()].reduce((l,a)=>l+a,0);let o=!1;return(...l)=>{const a=Math.floor(Date.now()/1e3);if(s(a),i()>=t){const f=o;return o=!0,f?vj:Px}o=!1;const u=r.get(a)||0;return r.set(a,u+1),e(...l)}}class _j{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:GT,sessionIdleExpire:YT},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=lj(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=xj((o,l)=>hR(this,o,l),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),i=r?{threshold:Math.min(tI,r),timeout:r,scrollTimeout:nI,ignoreSelector:s?s.join(","):""}:void 0;if(i&&(this.clickDetector=new TC(this,i)),K){const o=t._experiments;G.setConfig({captureExceptions:!!o.captureExceptions,traceInternals:!!o.traceInternals})}this._handleVisibilityChange=()=>{Se.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const o=hn({category:"ui.blur"});this._doChangeToBackgroundTasks(o)},this._handleWindowFocus=()=>{const o=hn({category:"ui.focus"});this._doChangeToForegroundTasks(o)},this._handleKeyboardEvent=o=>{zC(this,o)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){K&&G.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,s=n<=0&&r<=0;if(this._requiresManualStart=s,!s){if(this._initializeSessionForSampling(t),!this.session){K&&G.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",K&&G.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){K&&G.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){K&&G.log("Buffering is in progress, call `flush()` to save the replay");return}K&&G.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=Fc({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){K&&G.log("Buffering is in progress, call `flush()` to save the replay");return}K&&G.infoTick("Starting replay in buffer mode");const t=Fc({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=jn({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:QT}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:uj(this),...cj(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){var r;if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{K&&G.log(`Stopping Replay${n?` triggered by ${n}`:""}`),Nx(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),(r=this.eventBuffer)==null||r.destroy(),this.eventBuffer=null,cR(this)}catch(s){this.handleException(s)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),K&&G.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),K&&G.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();K&&G.log("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode==="buffer"||!this._isEnabled||n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(t){var n,r;if(!(t&&((n=this.session)==null?void 0:n.sampled)===!1))return(r=this.session)==null?void 0:r.id}checkAndHandleExpiredSession(){if(this._lastActivity&&od(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${Se.location.pathname}${Se.location.hash}${Se.location.search}`,n=`${Se.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===Px){const s=hn({category:"replay.throttled"});this.addUpdate(()=>!Gf(this,{type:_C,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||ut(),n=t&&nt(t),s=(n&&ce(n).data||{})[nn];if(!(!n||!s||!["route","custom"].includes(s)))return ce(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=oR({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=Fc({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return wx(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{Se.document.addEventListener("visibilitychange",this._handleVisibilityChange),Se.addEventListener("blur",this._handleWindowBlur),Se.addEventListener("focus",this._handleWindowFocus),Se.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(ij(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=ZC(this)}_removeListeners(){try{Se.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Se.removeEventListener("blur",this._handleWindowBlur),Se.removeEventListener("focus",this._handleWindowFocus),Se.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||Sx(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){K&&G.log("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:te.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=WC(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(Vl(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){var n;const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){K&&G.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!((n=this.eventBuffer)!=null&&n.hasEvents)&&(await oj(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const s=this._popEventContext(),i=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await Mx({replayId:t,recordingData:o,segmentId:i,eventContext:s,session:this.session,timestamp:r,onError:l=>this.handleException(l)})}catch(r){this.handleException(r),this.stop({reason:"sendReplay"});const s=ie();if(s){const i=r instanceof Xf?"ratelimit_backoff":"send_error";s.recordDroppedEvent(i,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){K&&G.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const i=s<this._options.minReplayDuration,o=s>this._options.maxReplayDuration+5e3;if(i||o){K&&G.log(`Session duration (${Math.floor(s/1e3)}s) is too ${i?"short":"long"}, not sending replay.`),i&&this._debouncedFlush();return}const l=this.eventBuffer;l&&this.session.segmentId===0&&!l.hasCheckout&&K&&G.log("Flushing initial segment without checkout.");const a=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,a&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&Wl(this.session)}_onMutationHandler(t){const{ignoreMutations:n}=this._options._experiments;if(n!=null&&n.length&&t.some(l=>{const a=pj(l.target),u=n.join(",");return a==null?void 0:a.matches(u)}))return!1;const r=t.length,s=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,o=s&&r>s;if(r>i||o){const l=hn({category:"replay.mutations",data:{count:r,limit:o}});this._createCustomBreadcrumb(l)}return o?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function bi(e,t){return[...e,...t].join(",")}function Sj({mask:e,unmask:t,block:n,unblock:r,ignore:s}){const i=["base","iframe[srcdoc]:not([src])"],o=bi(e,[".sentry-mask","[data-sentry-mask]"]),l=bi(t,[]);return{maskTextSelector:o,unmaskTextSelector:l,blockSelector:bi(n,[".sentry-block","[data-sentry-block]",...i]),unblockSelector:bi(r,[]),ignoreSelector:bi(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function wj({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:i}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}const Bm='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',bj=["content-length","content-type","accept"];let Um=!1;const Ej=e=>new kj(e);class kj{constructor({flushMinDelay:t=XT,flushMaxDelay:n=JT,minReplayDuration:r=rI,maxReplayDuration:s=_m,stickySession:i=!0,useCompression:o=!0,workerUrl:l,_experiments:a={},maskAllText:u=!0,maskAllInputs:f=!0,blockAllMedia:d=!0,mutationBreadcrumbLimit:p=750,mutationLimit:h=1e4,slowClickTimeout:m=7e3,slowClickIgnoreSelectors:x=[],networkDetailAllowUrls:S=[],networkDetailDenyUrls:y=[],networkCaptureBodies:g=!0,networkRequestHeaders:v=[],networkResponseHeaders:w=[],mask:N=[],maskAttributes:T=["title","placeholder","aria-label"],unmask:_=[],block:E=[],unblock:O=[],ignore:k=[],maskFn:M,beforeAddRecordingEvent:D,beforeErrorSampling:H,onError:B}={}){this.name="Replay";const pe=Sj({mask:N,unmask:_,block:E,unblock:O,ignore:k});if(this._recordingOptions={maskAllInputs:f,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:M,maskInputFn:M,maskAttributeFn:(q,Z,b)=>wj({maskAttributes:T,maskAllText:u,privacyOptions:pe,key:q,value:Z,el:b}),...pe,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:q=>{try{q.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!a.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,sI),maxReplayDuration:Math.min(s,_m),stickySession:i,useCompression:o,workerUrl:l,blockAllMedia:d,maskAllInputs:f,maskAllText:u,mutationBreadcrumbLimit:p,mutationLimit:h,slowClickTimeout:m,slowClickIgnoreSelectors:x,networkDetailAllowUrls:S,networkDetailDenyUrls:y,networkCaptureBodies:g,networkRequestHeaders:Hm(v),networkResponseHeaders:Hm(w),beforeAddRecordingEvent:D,beforeErrorSampling:H,onError:B,_experiments:a},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Bm}`:Bm,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&Vu())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Um}set _isInitialized(t){Um=t}afterAllSetup(t){!Vu()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(t){var n;if((n=this._replay)!=null&&n.isEnabled())return this._replay.getSessionId(t)}getRecordingMode(){var t;if((t=this._replay)!=null&&t.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=Nj(this._initialOptions,t);this._replay=new _j({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}function Nj(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},s=Vr(n.replaysSessionSampleRate),i=Vr(n.replaysOnErrorSampleRate);return s==null&&i==null&&Jr(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),s!=null&&(r.sessionSampleRate=s),i!=null&&(r.errorSampleRate=i),r}function Hm(e){return[...bj,...e.map(t=>t.toLowerCase())]}function Tj(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function Ox(e){try{return new URL(e,ue.location.origin).href}catch{return}}function Ij(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Lx(e){try{return new Headers(e)}catch{return}}const Wm=new WeakMap,$c=new Map,Ax={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function Cj(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o,tracePropagationTargets:l,onRequestSpanStart:a,onRequestSpanEnd:u}={...Ax,...t},f=typeof i=="function"?i:m=>!0,d=m=>Rj(m,l),p={},h=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(m=>(m.type==="transaction"&&m.spans&&m.spans.forEach(x=>{if(x.op==="http.client"){const S=$c.get(x.span_id);S&&(x.timestamp=S/1e3,$c.delete(x.span_id))}}),m)),s&&lN(m=>{if(m.response){const x=Wm.get(m.response);x&&m.endTimestamp&&$c.set(x,m.endTimestamp)}}),yv(m=>{const x=Qk(m,f,d,p,{propagateTraceparent:h,onRequestSpanEnd:u});if(m.response&&m.fetchData.__span&&Wm.set(m.response,m.fetchData.__span),x){const S=Ox(m.fetchData.url),y=S?Dr(S).host:void 0;x.setAttributes({"http.url":S,"server.address":y}),o&&Vm(x),a==null||a(x,{headers:m.headers})}})),r&&$v(m=>{var S;const x=jj(m,f,d,p,h,u);x&&(o&&Vm(x),a==null||a(x,{headers:Lx((S=m.xhr.__sentry_xhr_v3__)==null?void 0:S.request_headers)}))})}function Vm(e){const{url:t}=ce(e).data;if(!t||typeof t!="string")return;const n=Kr("resource",({entries:r})=>{r.forEach(s=>{Ij(s)&&s.name.endsWith(t)&&(e.setAttributes(Av(s)),setTimeout(n))})})}function Rj(e,t){const n=Js();if(n){let r,s;try{r=new URL(e,n),s=new URL(n).origin}catch{return!1}const i=r.origin===s;return t?Cn(r.toString(),t)||i&&Cn(r.pathname,t):i}else{const r=!!e.match(/^\/(?!\/)/);return t?Cn(e,t):r}}function jj(e,t,n,r,s,i){const o=e.xhr,l=o==null?void 0:o[Rr];if(!o||o.__sentry_own_request__||!l)return;const{url:a,method:u}=l,f=on()&&t(a);if(e.endTimestamp&&f){const y=o.__sentry_xhr_span_id__;if(!y)return;const g=r[y];g&&l.status_code!==void 0&&(E0(g,l.status_code),g.end(),i==null||i(g,{headers:Lx(Hv(o)),error:e.error}),delete r[y]);return}const d=Ox(a),p=Dr(d||a),h=_k(a),m=!!ut(),x=f&&m?ti({name:`${u} ${h}`,attributes:{url:a,type:"xhr","http.method":u,"http.url":d,"server.address":p==null?void 0:p.host,[ze]:"auto.http.browser",[$n]:"http.client",...(p==null?void 0:p.search)&&{"http.query":p==null?void 0:p.search},...(p==null?void 0:p.hash)&&{"http.fragment":p==null?void 0:p.hash}}}):new fr;o.__sentry_xhr_span_id__=x.spanContext().spanId,r[o.__sentry_xhr_span_id__]=x,n(a)&&Mj(o,on()&&m?x:void 0,s);const S=ie();return S&&S.emit("beforeOutgoingRequestSpan",x,e),x}function Mj(e,t,n){const{"sentry-trace":r,baggage:s,traceparent:i}=fv({span:t,propagateTraceparent:n});r&&Pj(e,r,s,i)}function Pj(e,t,n,r){var i;const s=(i=e.__sentry_xhr_v3__)==null?void 0:i.request_headers;if(!(s!=null&&s["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),r&&!(s!=null&&s.traceparent)&&e.setRequestHeader("traceparent",r),n){const o=s==null?void 0:s.baggage;(!o||!Tj(o))&&e.setRequestHeader("baggage",n)}}catch{}}function Oj(){ue.document?ue.document.addEventListener("visibilitychange",()=>{const e=ut();if(!e)return;const t=nt(e);if(ue.document.hidden&&t){const n="cancelled",{op:r,status:s}=ce(t);qt&&P.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),s||t.setStatus({code:De,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):qt&&P.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const Lj=3600,Dx="sentry_previous_trace",Aj="sentry.previous_trace";function Dj(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let s=r?zj():void 0;e.on("spanStart",o=>{if(nt(o)!==o)return;const l=ge().getPropagationContext();s=Fj(s,o,l),r&&$j(s)});let i=!0;n&&e.on("beforeSampling",o=>{if(!s)return;const l=ge(),a=l.getPropagationContext();if(i&&a.parentSpanId){i=!1;return}l.setPropagationContext({...a,dsc:{...a.dsc,sample_rate:String(s.sampleRate),sampled:String(cd(s.spanContext))},sampleRand:s.sampleRand}),o.parentSampled=cd(s.spanContext),o.parentSampleRate=s.sampleRate,o.spanAttributes={...o.spanAttributes,[b0]:s.sampleRate}})}function Fj(e,t,n){const r=ce(t);function s(){var l,a;try{return Number((l=n.dsc)==null?void 0:l.sample_rate)??Number((a=r.data)==null?void 0:a[df])}catch{return 0}}const i={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:s(),sampleRand:n.sampleRand};if(!e)return i;const o=e.spanContext;return o.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=Lj&&(qt&&P.log(`Adding previous_trace ${o} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:o,attributes:{[hb]:"previous_trace"}}),t.setAttribute(Aj,`${o.traceId}-${o.spanId}-${cd(o)?1:0}`)),i)}function $j(e){try{ue.sessionStorage.setItem(Dx,JSON.stringify(e))}catch(t){qt&&P.warn("Could not store previous trace in sessionStorage",t)}}function zj(){var e;try{const t=(e=ue.sessionStorage)==null?void 0:e.getItem(Dx);return JSON.parse(t)}catch{return}}function cd(e){return e.traceFlags===1}const Bj="BrowserTracing",Uj={...ka,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...Ax},Hj=(e={})=>{const t={name:void 0,source:void 0},n=ue.document,{enableInp:r,enableElementTiming:s,enableLongTask:i,enableLongAnimationFrame:o,_experiments:{enableInteractions:l,enableStandaloneClsSpans:a,enableStandaloneLcpSpans:u},beforeStartSpan:f,idleTimeout:d,finalTimeout:p,childSpanTimeout:h,markBackgroundSpan:m,traceFetch:x,traceXHR:S,trackFetchStreamPerformance:y,shouldCreateSpanForRequest:g,enableHTTPTimings:v,ignoreResourceSpans:w,ignorePerformanceApiSpans:N,instrumentPageLoad:T,instrumentNavigation:_,detectRedirects:E,linkPreviousTrace:O,consistentTraceSampling:k,enableReportPageLoaded:M,onRequestSpanStart:D,onRequestSpanEnd:H}={...Uj,...e};let B,pe,q;function Z(b,j,I=!0){const $=j.op==="pageload",L=j.name,ne=f?f(j):j,de=ne.attributes||{};if(L!==ne.name&&(de[nn]="custom",ne.attributes=de),!I){const se=Qr();ti({...ne,startTime:se}).end(se);return}t.name=ne.name,t.source=de[nn];const X=V0(ne,{idleTimeout:d,finalTimeout:p,childSpanTimeout:h,disableAutoFinish:$,beforeSpanEnd:se=>{B==null||B(),y1(se,{recordClsOnPageloadSpan:!a,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:w,ignorePerformanceApiSpans:N}),Km(b,void 0);const be=ge(),Be=be.getPropagationContext();be.setPropagationContext({...Be,traceId:X.spanContext().traceId,sampled:_r(X),dsc:zn(se)}),$&&(q=void 0)},trimIdleSpanEndTimestamp:!M});$&&M&&(q=X),Km(b,X);function W(){n&&["interactive","complete"].includes(n.readyState)&&b.emit("idleSpanEnableAutoFinish",X)}$&&!M&&n&&(n.addEventListener("readystatechange",()=>{W()}),W())}return{name:Bj,setup(b){if(Hb(),B=u1({recordClsStandaloneSpans:a||!1,recordLcpStandaloneSpans:u||!1,client:b}),r&&U1(),s&&C1(),o&&ae.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?f1():i&&d1(),l&&p1(),E&&n){const I=()=>{pe=Ve()};addEventListener("click",I,{capture:!0}),addEventListener("keydown",I,{capture:!0,passive:!0})}function j(){const I=po(b);I&&!ce(I).timestamp&&(qt&&P.log(`[Tracing] Finishing current active span with op: ${ce(I).op}`),I.setAttribute(io,"cancelled"),I.end())}b.on("startNavigationSpan",(I,$)=>{if(ie()!==b)return;if($!=null&&$.isRedirect){qt&&P.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),Z(b,{op:"navigation.redirect",...I},!1);return}pe=void 0,j(),vn().setPropagationContext({traceId:Fn(),sampleRand:Math.random(),propagationSpanId:on()?void 0:Rn()});const L=ge();L.setPropagationContext({traceId:Fn(),sampleRand:Math.random(),propagationSpanId:on()?void 0:Rn()}),L.setSDKProcessingMetadata({normalizedRequest:void 0}),Z(b,{op:"navigation",...I,parentSpan:null,forceTransaction:!0})}),b.on("startPageLoadSpan",(I,$={})=>{if(ie()!==b)return;j();const L=$.sentryTrace||qm("sentry-trace"),ne=$.baggage||qm("baggage"),de=Ob(L,ne),X=ge();X.setPropagationContext(de),on()||(X.getPropagationContext().propagationSpanId=Rn()),X.setSDKProcessingMetadata({normalizedRequest:kf()}),Z(b,{op:"pageload",...I})}),b.on("endPageloadSpan",()=>{M&&q&&(q.setAttribute(io,"reportPageLoaded"),q.end())})},afterAllSetup(b){let j=Js();if(O!=="off"&&Dj(b,{linkPreviousTrace:O,consistentTraceSampling:k}),ue.location){if(T){const I=wt();Wj(b,{name:ue.location.pathname,startTime:I?I/1e3:void 0,attributes:{[nn]:"url",[ze]:"auto.pageload.browser"}})}_&&zl(({to:I,from:$})=>{if($===void 0&&(j==null?void 0:j.indexOf(I))!==-1){j=void 0;return}j=void 0;const L=Ef(I),ne=po(b),de=ne&&E&&Kj(ne,pe);Vj(b,{name:(L==null?void 0:L.pathname)||ue.location.pathname,attributes:{[nn]:"url",[ze]:"auto.navigation.browser"}},{url:I,isRedirect:de})})}m&&Oj(),l&&qj(b,d,p,h,t),r&&V1(),Cj(b,{traceFetch:x,traceXHR:S,trackFetchStreamPerformance:y,tracePropagationTargets:b.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:g,enableHTTPTimings:v,onRequestSpanStart:D,onRequestSpanEnd:H})}}};function Wj(e,t,n){e.emit("startPageLoadSpan",t,n),ge().setTransactionName(t.name);const r=po(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function Vj(e,t,n){const{url:r,isRedirect:s}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:s}),e.emit("startNavigationSpan",t,{isRedirect:s});const i=ge();return i.setTransactionName(t.name),r&&!s&&i.setSDKProcessingMetadata({normalizedRequest:{...kf(),url:r}}),po(e)}function qm(e){const t=ue.document,n=t==null?void 0:t.querySelector(`meta[name=${e}]`);return(n==null?void 0:n.getAttribute("content"))||void 0}function qj(e,t,n,r,s){const i=ue.document;let o;const l=()=>{const a="ui.action.click",u=po(e);if(u){const f=ce(u).op;if(["navigation","pageload"].includes(f)){qt&&P.warn(`[Tracing] Did not create ${a} span because a pageload or navigation span is in progress.`);return}}if(o&&(o.setAttribute(io,"interactionInterrupted"),o.end(),o=void 0),!s.name){qt&&P.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}o=V0({name:s.name,op:a,attributes:{[nn]:s.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};i&&addEventListener("click",l,{capture:!0})}const Fx="_sentry_idleSpan";function po(e){return e[Fx]}function Km(e,t){Mt(e,Fx,t)}const Gm=1.5;function Kj(e,t){const n=ce(e),r=Qr(),s=n.start_timestamp;return!(r-s>Gm||t&&r-t<=Gm)}function Gj(e){const t={...e};return dv(t,"react"),Y0("react",{version:C.version}),qT(t)}async function $x(e,t,n={}){}const Yj=e=>$x(),Xj=(e,t)=>$x("whatsapp_click",e,{});function Jj({restaurant:e,previousCustomer:t,previousOrder:n,nextStep:r,setCustomerData:s,setSelectedBowlType:i,setSelectedBases:o,setSelectedProteins:l,setSelectedIngredients:a,setSelectedSauces:u,setSelectedToppings:f,bowlTypes:d}){var S;const[p,h]=C.useState(!!n),m=()=>{if(n){if(t&&s({name:t.name||"",surname:t.surname||"",phone:t.phone||"",address:t.default_address||"",civic:t.default_civic||"",city:t.default_city||"",doorbell:t.default_doorbell||"",notesOrder:"",notesAddress:""}),n.bowlType){const y=d.find(g=>g.id===n.bowlType.id);y&&i(y)}n.bases&&o(n.bases),n.proteins&&l(n.proteins),n.ingredients&&a(n.ingredients),n.sauces&&u(n.sauces),n.toppings&&f(n.toppings)}r()},x=()=>{r()};return c.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 animate-fadeIn",children:[c.jsx("div",{className:"mb-8",children:e.logo_url?c.jsx("img",{src:e.logo_url,alt:e.name,className:"w-32 h-32 object-contain"}):c.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-orange-400 to-pink-500 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-4xl",children:""})})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2 text-center",children:e.name}),c.jsx("p",{className:"text-gray-500 mb-8 text-center",children:"Ordina il tuo pok in pochi tap!"}),p&&n&&c.jsxs("div",{className:"w-full max-w-sm mb-6 p-4 bg-orange-50 rounded-2xl border-2 border-orange-200",children:[c.jsxs("p",{className:"text-sm text-orange-700 mb-3 flex items-center gap-2",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"Ordina di nuovo?"})]}),c.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Il tuo ultimo ordine: ",c.jsx("strong",{children:(S=n.bowlType)==null?void 0:S.name})]}),c.jsx("button",{onClick:m,className:"w-full py-3 bg-orange-500 text-white rounded-xl font-semibold hover:bg-orange-600 transition-colors",children:"S, stesso ordine!"}),c.jsx("button",{onClick:()=>h(!1),className:"w-full py-2 text-gray-500 text-sm mt-2",children:"No, nuovo ordine"})]}),!p&&c.jsx("button",{onClick:x,className:"w-full max-w-sm py-4 bg-gradient-to-r from-orange-500 to-pink-500 text-white rounded-2xl font-bold text-lg shadow-lg hover:shadow-xl transform hover:scale-[1.02] transition-all",children:"Inizia l'ordine "}),c.jsxs("div",{className:"mt-8 flex gap-6 text-gray-400 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"2 min"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"Via WhatsApp"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"Paga alla consegna"})]})]}),e.show_ordinlampo_branding&&c.jsx("p",{className:"mt-12 text-xs text-gray-300",children:"Powered by Ordinlampo"})]})}function Qj({orderType:e,setOrderType:t,settings:n,nextStep:r}){const s=i=>{t(i),r()};return c.jsxs("div",{className:"p-6 animate-fadeIn",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Come preferisci ricevere il tuo ordine?"}),c.jsx("p",{className:"text-gray-500 mb-8",children:"Seleziona una delle opzioni disponibili"}),c.jsxs("div",{className:"space-y-4",children:[(n==null?void 0:n.enable_delivery)!==!1&&c.jsx("button",{onClick:()=>s("delivery"),className:`w-full p-6 rounded-2xl border-2 transition-all text-left ${e==="delivery"?"border-orange-500 bg-orange-50":"border-gray-200 bg-white hover:border-orange-300"}`,children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-4xl",children:""}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Consegna a domicilio"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Ti portiamo il tuo pok direttamente a casa"})]})]})}),(n==null?void 0:n.enable_pickup)!==!1&&c.jsx("button",{onClick:()=>s("pickup"),className:`w-full p-6 rounded-2xl border-2 transition-all text-left ${e==="pickup"?"border-orange-500 bg-orange-50":"border-gray-200 bg-white hover:border-orange-300"}`,children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-4xl",children:""}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Ritiro al locale"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Passa a ritirare quando  pronto"})]})]})})]})]})}function Zj({locations:e,selectedZone:t,setSelectedZone:n,settings:r,nextStep:s}){const i=o=>{n(o),s()};return c.jsxs("div",{className:"p-6 animate-fadeIn",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Dove ti troviamo?"}),c.jsx("p",{className:"text-gray-500 mb-8",children:"Seleziona la tua zona di consegna"}),c.jsx("div",{className:"space-y-3",children:e.map(o=>c.jsx("button",{onClick:()=>i(o),className:`w-full p-4 rounded-2xl border-2 transition-all text-left ${(t==null?void 0:t.id)===o.id?"border-orange-500 bg-orange-50":"border-gray-200 bg-white hover:border-orange-300"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-800",children:o.name}),o.min_order>0&&c.jsxs("p",{className:"text-sm text-gray-500",children:["Ordine minimo: ",parseFloat(o.min_order).toFixed(2)]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"font-bold text-orange-500",children:parseFloat(o.delivery_fee)>0?`${parseFloat(o.delivery_fee).toFixed(2)}`:"Gratis"}),c.jsx("p",{className:"text-xs text-gray-400",children:"consegna"})]})]})},o.id))}),e.length===0&&c.jsxs("div",{className:"text-center py-12 text-gray-500",children:[c.jsx("span",{className:"text-4xl mb-4 block",children:""}),c.jsx("p",{children:"Nessuna zona di consegna disponibile al momento"})]})]})}function eM({bowlTypes:e,selectedBowlType:t,setSelectedBowlType:n,nextStep:r}){const s=l=>{n(l),r()},i={Small:"",Regular:"",Large:""},o={Small:"Perfetta per uno spuntino leggero",Regular:"La scelta pi amata",Large:"Per i pi affamati"};return c.jsxs("div",{className:"p-6 animate-fadeIn",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Scegli la taglia della tua bowl"}),c.jsx("p",{className:"text-gray-500 mb-8",children:"Tutte le taglie includono gli stessi ingredienti"}),c.jsx("div",{className:"space-y-4",children:e.map(l=>c.jsx("button",{onClick:()=>s(l),className:`w-full p-6 rounded-2xl border-2 transition-all text-left ${(t==null?void 0:t.id)===l.id?"border-orange-500 bg-orange-50":"border-gray-200 bg-white hover:border-orange-300"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-4xl",children:i[l.name]||""}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-lg text-gray-800",children:l.name}),c.jsx("p",{className:"text-gray-500 text-sm",children:l.description||o[l.name]||""})]})]}),c.jsx("div",{className:"text-right",children:c.jsxs("p",{className:"font-bold text-2xl text-orange-500",children:["",parseFloat(l.price).toFixed(2)]})})]})},l.id))})]})}function tM({categories:e,ingredients:t,selectedBases:n,setSelectedBases:r,isHalfHalf:s,setIsHalfHalf:i,nextStep:o}){const l=e.find(h=>h.code==="base"),a=t.filter(h=>h.category_id===(l==null?void 0:l.id)),u=s?2:1,f=h=>{n.findIndex(x=>x.id===h.id)>=0?r(n.filter(x=>x.id!==h.id)):n.length<u&&r([...n,h])},d=n.length>=1&&(!s||n.length===2),p=()=>{d&&o()};return c.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen animate-fadeIn",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Scegli la tua base"}),c.jsx("div",{className:`mb-6 p-4 rounded-xl border-4 shadow-lg transition-all ${s?"bg-gradient-to-r from-green-50 to-green-100 border-green-500":"bg-gradient-to-r from-orange-50 to-orange-100 border-orange-500"}`,children:c.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-4xl",children:""}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-xl text-gray-800",children:"Mix 50/50"}),c.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Due basi diverse nella stessa bowl!"})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"checkbox",checked:s,onChange:h=>{i(h.target.checked),!h.target.checked&&n.length>1&&r([n[0]])},className:"sr-only"}),c.jsx("div",{className:`w-24 h-12 rounded-xl border-3 transition-all shadow-lg ${s?"bg-green-500 border-green-700":"bg-orange-400 border-orange-600"}`,children:c.jsx("div",{className:`w-10 h-10 bg-white rounded-lg shadow-2xl transform transition-all flex items-center justify-center font-bold ${s?"translate-x-13 translate-y-1 text-green-600 text-2xl":"translate-x-1 translate-y-1 text-orange-600 text-2xl"}`,children:s?"":""})})]})]})}),c.jsx("p",{className:"text-gray-700 mb-6 font-medium",children:s?`Seleziona 2 basi (${n.length}/2)`:`Seleziona 1 base (${n.length}/1)`}),c.jsx("div",{className:"grid grid-cols-2 gap-4",children:a.map(h=>{const m=n.some(S=>S.id===h.id),x=!m&&n.length>=u;return c.jsxs("button",{onClick:()=>f(h),disabled:x,className:`p-3 rounded-lg border-2 transition-all text-center ${m?"border-orange-500 bg-orange-50":x?"border-gray-100 bg-gray-50 opacity-50 cursor-not-allowed":"border-gray-200 bg-white hover:border-orange-300"}`,children:[c.jsx("p",{className:"font-semibold text-gray-800",children:h.name}),m&&s&&c.jsx("span",{className:"text-xs text-orange-500",children:"(50/50)"})]},h.id)})}),c.jsx("button",{onClick:p,disabled:!d,className:`w-full mt-8 py-4 rounded-xl font-bold text-lg transition-all ${d?"bg-orange-500 text-white hover:bg-orange-600":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:"Continua "})]})}function nM({categories:e,ingredients:t,selectedProteins:n,setSelectedProteins:r,nextStep:s}){const i=e.find(p=>p.code==="proteine"),o=t.filter(p=>p.category_id===(i==null?void 0:i.id)),l=(i==null?void 0:i.max_selections)||2,a=2.5,u=p=>{n.findIndex(m=>m.id===p.id)>=0?r(n.filter(m=>m.id!==p.id)):n.length<l&&r([...n,{...p,extraPortions:0}])},f=(p,h)=>{r(n.map(m=>{if(m.id===p){const x=Math.max(0,Math.min(5,m.extraPortions+h));return{...m,extraPortions:x}}return m}))},d=n.length>=1;return c.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen animate-fadeIn",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Scegli le tue proteine"}),c.jsxs("p",{className:"text-gray-700 mb-6 font-medium",children:["Seleziona fino a ",l," proteine (",n.length,"/",l,")"]}),c.jsx("div",{className:"space-y-4",children:o.map(p=>{const h=n.find(y=>y.id===p.id),m=!!h,x=!m&&n.length>=l,S=h?h.extraPortions*a:0;return c.jsxs("div",{className:"space-y-2",children:[c.jsx("button",{onClick:()=>u(p),disabled:x,className:`w-full p-4 rounded-xl border-2 transition-all ${m?"border-blue-500 bg-blue-50":x?"border-gray-200 bg-gray-100 opacity-50 cursor-not-allowed":"border-gray-300 bg-white hover:border-blue-400"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"font-bold text-gray-800 text-lg",children:p.name}),c.jsx("div",{className:`w-7 h-7 rounded-full border-2 flex items-center justify-center ${m?"border-blue-500 bg-blue-500":"border-gray-400"}`,children:m&&c.jsx("span",{className:"text-white font-bold",children:""})})]})}),m&&c.jsxs("div",{className:"p-4 rounded-xl border-2 border-orange-400 bg-orange-50",children:[c.jsxs("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:[" Porzioni extra (",a.toFixed(2)," cad.)"]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>f(p.id,-1),disabled:h.extraPortions===0,className:`w-12 h-12 rounded-lg font-bold text-2xl transition-all ${h.extraPortions===0?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-orange-500 text-white hover:bg-orange-600 shadow-md"}`,children:""}),c.jsx("div",{className:"w-16 h-12 bg-white rounded-lg border-2 border-orange-300 flex items-center justify-center",children:c.jsx("span",{className:"text-2xl font-bold text-gray-800",children:h.extraPortions})}),c.jsx("button",{onClick:()=>f(p.id,1),disabled:h.extraPortions===5,className:`w-12 h-12 rounded-lg font-bold text-2xl transition-all ${h.extraPortions===5?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-orange-500 text-white hover:bg-orange-600 shadow-md"}`,children:"+"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Totale extra:"}),c.jsxs("p",{className:"text-xl font-bold text-orange-600",children:["",S.toFixed(2)]})]})]}),h.extraPortions>0&&c.jsxs("p",{className:"text-xs text-gray-600 mt-2 text-center",children:[h.extraPortions,"  ",a.toFixed(2)," = ",S.toFixed(2)]})]})]},p.id)})}),c.jsx("button",{onClick:s,disabled:!d,className:`w-full mt-8 py-4 rounded-xl font-bold text-lg transition-all ${d?"bg-orange-500 text-white hover:bg-orange-600":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:"Continua "})]})}function rM({categories:e,ingredients:t,selectedIngredients:n,setSelectedIngredients:r,nextStep:s}){const i=e.find(d=>d.code==="ingredienti"),o=t.filter(d=>d.category_id===(i==null?void 0:i.id)),l=(i==null?void 0:i.max_selections)||4,a=1.5,u=d=>{n.findIndex(h=>h.id===d.id)>=0?r(n.filter(h=>h.id!==d.id)):n.length<l&&r([...n,{...d,extraPortions:0}])},f=(d,p)=>{r(n.map(h=>{if(h.id===d){const m=Math.max(0,Math.min(5,h.extraPortions+p));return{...h,extraPortions:m}}return h}))};return c.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen animate-fadeIn",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Scegli i tuoi ingredienti"}),c.jsxs("p",{className:"text-gray-700 mb-2 font-medium",children:["Seleziona fino a ",l," ingredienti (",n.length,"/",l,")"]}),c.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Puoi anche proseguire senza selezionare ingredienti"}),c.jsx("div",{className:"grid grid-cols-2 gap-4",children:o.map(d=>{const p=n.find(S=>S.id===d.id),h=!!p,m=!h&&n.length>=l,x=p?p.extraPortions*a:0;return c.jsxs("div",{className:"space-y-2",children:[c.jsx("button",{onClick:()=>u(d),disabled:m,className:`w-full p-3 rounded-lg border-2 transition-all ${h?"border-blue-500 bg-blue-50":m?"border-gray-200 bg-gray-100 opacity-50 cursor-not-allowed":"border-gray-300 bg-white hover:border-blue-400"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:d.name}),c.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${h?"border-blue-500 bg-blue-500":"border-gray-400"}`,children:h&&c.jsx("span",{className:"text-white text-xs font-bold",children:""})})]})}),h&&c.jsxs("div",{className:"p-2 rounded-lg border-2 border-orange-400 bg-orange-50",children:[c.jsxs("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:[" Extra (",a.toFixed(2),")"]}),c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("button",{onClick:()=>f(d.id,-1),disabled:p.extraPortions===0,className:`w-8 h-8 rounded-md font-bold text-lg transition-all ${p.extraPortions===0?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-orange-500 text-white hover:bg-orange-600"}`,children:""}),c.jsx("div",{className:"flex-1 h-8 bg-white rounded-md border-2 border-orange-300 flex items-center justify-center",children:c.jsx("span",{className:"text-lg font-bold text-gray-800",children:p.extraPortions})}),c.jsx("button",{onClick:()=>f(d.id,1),disabled:p.extraPortions===5,className:`w-8 h-8 rounded-md font-bold text-lg transition-all ${p.extraPortions===5?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-orange-500 text-white hover:bg-orange-600"}`,children:"+"})]}),p.extraPortions>0&&c.jsxs("p",{className:"text-xs text-orange-600 font-bold mt-1 text-center",children:["",x.toFixed(2)]})]})]},d.id)})}),c.jsx("button",{onClick:s,className:"w-full mt-8 py-4 rounded-xl font-bold text-lg bg-orange-500 text-white hover:bg-orange-600 transition-all",children:"Continua "})]})}function sM({categories:e,ingredients:t,selectedSauces:n,setSelectedSauces:r,nextStep:s}){const i=e.find(d=>d.code==="salse"),o=t.filter(d=>d.category_id===(i==null?void 0:i.id)),l=(i==null?void 0:i.max_selections)||2,a=.8,u=d=>{n.findIndex(h=>h.id===d.id)>=0?r(n.filter(h=>h.id!==d.id)):n.length<l&&r([...n,{...d,extraPortions:0}])},f=(d,p)=>{r(n.map(h=>{if(h.id===d){const m=Math.max(0,Math.min(5,h.extraPortions+p));return{...h,extraPortions:m}}return h}))};return c.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen animate-fadeIn",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Scegli le tue salse"}),c.jsxs("p",{className:"text-gray-700 mb-2 font-medium",children:["Seleziona fino a ",l," salse (",n.length,"/",l,")"]}),c.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Puoi anche proseguire senza selezionare salse"}),c.jsx("div",{className:"grid grid-cols-2 gap-4",children:o.map(d=>{const p=n.find(S=>S.id===d.id),h=!!p,m=!h&&n.length>=l,x=p?p.extraPortions*a:0;return c.jsxs("div",{className:"space-y-2",children:[c.jsx("button",{onClick:()=>u(d),disabled:m,className:`w-full p-3 rounded-lg border-2 transition-all ${h?"border-blue-500 bg-blue-50":m?"border-gray-200 bg-gray-100 opacity-50 cursor-not-allowed":"border-gray-300 bg-white hover:border-blue-400"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:d.name}),c.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${h?"border-blue-500 bg-blue-500":"border-gray-400"}`,children:h&&c.jsx("span",{className:"text-white text-xs font-bold",children:""})})]})}),h&&c.jsxs("div",{className:"p-2 rounded-lg border-2 border-orange-400 bg-orange-50",children:[c.jsxs("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:[" Extra (",a.toFixed(2),")"]}),c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("button",{onClick:()=>f(d.id,-1),disabled:p.extraPortions===0,className:`w-8 h-8 rounded-md font-bold text-lg transition-all ${p.extraPortions===0?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-orange-500 text-white hover:bg-orange-600"}`,children:""}),c.jsx("div",{className:"flex-1 h-8 bg-white rounded-md border-2 border-orange-300 flex items-center justify-center",children:c.jsx("span",{className:"text-lg font-bold text-gray-800",children:p.extraPortions})}),c.jsx("button",{onClick:()=>f(d.id,1),disabled:p.extraPortions===5,className:`w-8 h-8 rounded-md font-bold text-lg transition-all ${p.extraPortions===5?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-orange-500 text-white hover:bg-orange-600"}`,children:"+"})]}),p.extraPortions>0&&c.jsxs("p",{className:"text-xs text-orange-600 font-bold mt-1 text-center",children:["",x.toFixed(2)]})]})]},d.id)})}),c.jsx("button",{onClick:s,className:"w-full mt-8 py-4 rounded-xl font-bold text-lg bg-orange-500 text-white hover:bg-orange-600 transition-all",children:"Continua "})]})}function iM({categories:e,ingredients:t,selectedToppings:n,setSelectedToppings:r,nextStep:s}){const i=e.find(d=>d.code==="topping"),o=t.filter(d=>d.category_id===(i==null?void 0:i.id)),l=(i==null?void 0:i.max_selections)||2,a=2,u=d=>{n.findIndex(h=>h.id===d.id)>=0?r(n.filter(h=>h.id!==d.id)):n.length<l&&r([...n,{...d,extraPortions:0}])},f=(d,p)=>{r(n.map(h=>{if(h.id===d){const m=Math.max(0,Math.min(5,h.extraPortions+p));return{...h,extraPortions:m}}return h}))};return c.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen animate-fadeIn",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Scegli i tuoi topping"}),c.jsxs("p",{className:"text-gray-700 mb-2 font-medium",children:["Seleziona fino a ",l," topping (",n.length,"/",l,")"]}),c.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Puoi anche proseguire senza selezionare topping"}),c.jsx("div",{className:"grid grid-cols-2 gap-4",children:o.map(d=>{const p=n.find(S=>S.id===d.id),h=!!p,m=!h&&n.length>=l,x=p?p.extraPortions*a:0;return c.jsxs("div",{className:"space-y-2",children:[c.jsx("button",{onClick:()=>u(d),disabled:m,className:`w-full p-3 rounded-lg border-2 transition-all ${h?"border-blue-500 bg-blue-50":m?"border-gray-200 bg-gray-100 opacity-50 cursor-not-allowed":"border-gray-300 bg-white hover:border-blue-400"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:d.name}),c.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${h?"border-blue-500 bg-blue-500":"border-gray-400"}`,children:h&&c.jsx("span",{className:"text-white text-xs font-bold",children:""})})]})}),h&&c.jsxs("div",{className:"p-2 rounded-lg border-2 border-orange-400 bg-orange-50",children:[c.jsxs("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:[" Extra (",a.toFixed(2),")"]}),c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("button",{onClick:()=>f(d.id,-1),disabled:p.extraPortions===0,className:`w-8 h-8 rounded-md font-bold text-lg transition-all ${p.extraPortions===0?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-orange-500 text-white hover:bg-orange-600"}`,children:""}),c.jsx("div",{className:"flex-1 h-8 bg-white rounded-md border-2 border-orange-300 flex items-center justify-center",children:c.jsx("span",{className:"text-lg font-bold text-gray-800",children:p.extraPortions})}),c.jsx("button",{onClick:()=>f(d.id,1),disabled:p.extraPortions===5,className:`w-8 h-8 rounded-md font-bold text-lg transition-all ${p.extraPortions===5?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-orange-500 text-white hover:bg-orange-600"}`,children:"+"})]}),p.extraPortions>0&&c.jsxs("p",{className:"text-xs text-orange-600 font-bold mt-1 text-center",children:["",x.toFixed(2)]})]})]},d.id)})}),c.jsx("button",{onClick:s,className:"w-full mt-8 py-4 rounded-xl font-bold text-lg bg-orange-500 text-white hover:bg-orange-600 transition-all",children:"Continua "})]})}function oM({categories:e,ingredients:t,selectedBeverages:n,setSelectedBeverages:r,nextStep:s}){const i=e.find(h=>h.code==="bevande_analcoliche"),o=e.find(h=>h.code==="bevande_alcoliche"),l=t.filter(h=>h.category_id===(i==null?void 0:i.id)),a=t.filter(h=>h.category_id===(o==null?void 0:o.id)),u=(h,m)=>{const x=n[h]||0,S=Math.max(0,Math.min(10,x+m));if(S===0){const{[h]:y,...g}=n;r(g)}else r({...n,[h]:S})},f=Object.values(n).reduce((h,m)=>h+m,0),d=Object.entries(n).reduce((h,[m,x])=>{const S=t.find(y=>y.id===parseInt(m));return h+((S==null?void 0:S.price)||0)*x},0),p=({beverage:h})=>{const m=n[h.id]||0;return c.jsxs("div",{className:`p-4 rounded-xl border-2 transition-all ${m>0?"border-orange-500 bg-orange-50":"border-gray-200 bg-white"}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("p",{className:"font-medium text-gray-800 text-sm",children:h.name}),c.jsxs("p",{className:"font-bold text-orange-500",children:["",parseFloat(h.price).toFixed(2)]})]}),c.jsxs("div",{className:"flex items-center justify-center gap-4",children:[c.jsx("button",{onClick:()=>u(h.id,-1),disabled:m===0,className:`w-10 h-10 rounded-full font-bold text-xl transition-all ${m>0?"bg-orange-500 text-white hover:bg-orange-600":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:"-"}),c.jsx("span",{className:"text-xl font-bold w-8 text-center",children:m}),c.jsx("button",{onClick:()=>u(h.id,1),disabled:m>=10,className:`w-10 h-10 rounded-full font-bold text-xl transition-all ${m<10?"bg-orange-500 text-white hover:bg-orange-600":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:"+"})]})]})};return c.jsxs("div",{className:"p-6 animate-fadeIn",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Vuoi aggiungere delle bevande?"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Opzionale - puoi saltare questo passaggio"}),l.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsxs("h3",{className:"font-bold text-gray-700 mb-3 flex items-center gap-2",children:[c.jsx("span",{children:""})," Analcolici"]}),c.jsx("div",{className:"grid grid-cols-2 gap-3",children:l.map(h=>c.jsx(p,{beverage:h},h.id))})]}),a.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsxs("h3",{className:"font-bold text-gray-700 mb-3 flex items-center gap-2",children:[c.jsx("span",{children:""})," Alcolici"]}),c.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.map(h=>c.jsx(p,{beverage:h},h.id))})]}),f>0&&c.jsx("div",{className:"p-4 bg-green-50 rounded-xl mb-6",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("p",{className:"text-green-700",children:[f," bevand",f===1?"a":"e"," selezionat",f===1?"a":"e"]}),c.jsxs("p",{className:"font-bold text-green-700",children:["+",d.toFixed(2)]})]})}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:s,className:"flex-1 py-4 rounded-xl font-bold text-lg bg-gray-200 text-gray-700 hover:bg-gray-300 transition-all",children:"Salta"}),c.jsx("button",{onClick:s,className:"flex-1 py-4 rounded-xl font-bold text-lg bg-orange-500 text-white hover:bg-orange-600 transition-all",children:"Continua "})]})]})}function aM({categories:e,ingredients:t,backupOption:n,setBackupOption:r,backupIngredient:s,setBackupIngredient:i,nextStep:o}){const l=e.find(u=>u.code==="ingredienti"),a=t.filter(u=>u.category_id===(l==null?void 0:l.id));return c.jsxs("div",{className:"p-6 min-h-screen pb-48 animate-fadeIn",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Ingrediente di riserva"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Se un ingrediente non fosse disponibile, come preferisci procedere?"}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:()=>{r("chef_choice"),i(null)},className:`w-full p-4 rounded-xl border-2 text-left transition-all ${n==="chef_choice"?"border-orange-500 bg-orange-50":"border-gray-200 bg-white hover:border-orange-300"}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-2xl",children:""}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-800",children:"Sostituire a discrezione dello chef"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Lo chef sceglier un ingrediente simile"})]})]})}),c.jsx("button",{onClick:()=>{r("contact_me"),i(null)},className:`w-full p-4 rounded-xl border-2 text-left transition-all ${n==="contact_me"?"border-orange-500 bg-orange-50":"border-gray-200 bg-white hover:border-orange-300"}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-2xl",children:""}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-800",children:"Contattarmi prima di procedere"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Ti chiameremo per decidere insieme"})]})]})}),c.jsx("button",{onClick:()=>r("specific"),className:`w-full p-4 rounded-xl border-2 text-left transition-all ${n==="specific"?"border-orange-500 bg-orange-50":"border-gray-200 bg-white hover:border-orange-300"}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-2xl",children:""}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-800",children:"Usa questo ingrediente riserva"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Scegli tu l'alternativa"})]})]})}),n==="specific"&&c.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-xl animate-fadeIn",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seleziona ingrediente riserva:"}),c.jsxs("select",{value:(s==null?void 0:s.id)||"",onChange:u=>{const f=a.find(d=>d.id===parseInt(u.target.value));i(f||null)},className:"w-full p-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none",children:[c.jsx("option",{value:"",children:"Seleziona..."}),a.map(u=>c.jsx("option",{value:u.id,children:u.name},u.id))]})]})]}),c.jsx("button",{onClick:o,disabled:n==="specific"&&!s,className:`w-full mt-8 py-4 rounded-xl font-bold text-lg transition-all ${n&&(n!=="specific"||s)?"bg-orange-500 text-white hover:bg-orange-600":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:"Continua "})]})}function lM({selectedAllergies:e,setSelectedAllergies:t,customAllergy:n,setCustomAllergy:r,ingredients:s,specificIngredient1:i,setSpecificIngredient1:o,specificIngredient2:l,setSpecificIngredient2:a,nextStep:u}){const[f,d]=C.useState(null),[p,h]=C.useState(!1),m=[{id:"crostacei",name:"Crostacei",icon:""},{id:"pesce",name:"Pesce",icon:""},{id:"soia",name:"Soia",icon:""},{id:"glutine",name:"Glutine",icon:""},{id:"lattosio",name:"Lattosio",icon:""},{id:"frutta_guscio",name:"Frutta a guscio",icon:""},{id:"sesamo",name:"Sesamo",icon:""},{id:"uova",name:"Uova",icon:""}],x=v=>{e.includes(v)?t(e.filter(w=>w!==v)):t([...e,v])},S=()=>f===null?!1:f===!1?p:f===!0?e.length>0||i||l||n:!1,y=()=>{const v=[...e];i&&v.push(i),l&&v.push(l),n&&v.push(n),t(v),u()},g=[...new Set(s.map(v=>v.name))].sort();return c.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen animate-fadeIn",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Allergie o intolleranze"}),c.jsx("p",{className:"text-gray-700 mb-6 font-medium",children:"Per la tua sicurezza alimentare"}),c.jsxs("div",{className:"bg-white p-5 rounded-xl border-2 border-red-500 shadow-lg mb-6",children:[c.jsx("p",{className:"font-bold text-lg text-gray-800 mb-4",children:" Sei allergico o intollerante a qualche ingrediente?"}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:()=>{d(!0),h(!1)},className:`flex-1 p-4 rounded-xl border-3 font-bold text-lg transition-all ${f===!0?"border-red-500 bg-red-50 text-red-700":"border-gray-300 bg-white text-gray-600 hover:border-red-300"}`,children:" S"}),c.jsx("button",{onClick:()=>{d(!1),t([]),o(""),a(""),r("")},className:`flex-1 p-4 rounded-xl border-3 font-bold text-lg transition-all ${f===!1?"border-green-500 bg-green-50 text-green-700":"border-gray-300 bg-white text-gray-600 hover:border-green-300"}`,children:" NO"})]})]}),f===!1&&c.jsx("div",{className:"bg-green-50 p-5 rounded-xl border-2 border-green-500 mb-6 animate-fadeIn",children:c.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:p,onChange:v=>h(v.target.checked),className:"w-6 h-6 mt-1 accent-green-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-gray-800 mb-1",children:" Confermo di NON avere allergie o intolleranze"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Dichiaro sotto la mia responsabilit di non essere allergico o intollerante ad alcun ingrediente"})]})]})}),f===!0&&c.jsxs("div",{className:"animate-fadeIn space-y-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-800 mb-3",children:" Allergie comuni:"}),c.jsx("div",{className:"grid grid-cols-2 gap-3",children:m.map(v=>{const w=e.includes(v.id);return c.jsx("button",{onClick:()=>x(v.id),className:`p-3 rounded-xl border-2 text-left transition-all ${w?"border-red-500 bg-red-50":"border-gray-300 bg-white hover:border-red-300"}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xl",children:v.icon}),c.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:v.name})]})},v.id)})})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-800 mb-3",children:" Ingredienti specifici del locale:"}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Ingrediente specifico #1:"}),c.jsxs("select",{value:i,onChange:v=>o(v.target.value),className:"w-full p-3 border-2 border-gray-300 rounded-xl bg-white focus:border-red-500 focus:outline-none font-medium",children:[c.jsx("option",{value:"",children:"-- Seleziona ingrediente --"}),g.map(v=>c.jsx("option",{value:v,children:v},v))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Ingrediente specifico #2:"}),c.jsxs("select",{value:l,onChange:v=>a(v.target.value),className:"w-full p-3 border-2 border-gray-300 rounded-xl bg-white focus:border-red-500 focus:outline-none font-medium",children:[c.jsx("option",{value:"",children:"-- Seleziona ingrediente --"}),g.map(v=>c.jsx("option",{value:v,children:v},v))]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" Altra allergia o intolleranza:"}),c.jsx("input",{type:"text",value:n,onChange:v=>r(v.target.value),placeholder:"Es: Sedano, Senape, Ananas...",className:"w-full p-3 border-2 border-gray-300 rounded-xl focus:border-red-500 focus:outline-none"})]})]}),c.jsxs("button",{onClick:y,disabled:!S(),className:`w-full mt-8 py-4 rounded-xl font-bold text-lg transition-all ${S()?"bg-orange-500 text-white hover:bg-orange-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[!S()&&f===null&&" Rispondi alla domanda per continuare",!S()&&f===!1&&" Conferma assenza allergie",!S()&&f===!0&&" Seleziona almeno una allergia",S()&&"Continua "]})]})}function cM({openingHours:e,specialClosures:t,slotAvailability:n,selectedSlot:r,setSelectedSlot:s,nextStep:i}){const[o,l]=C.useState([]),[a,u]=C.useState(null),[f,d]=C.useState(!1),p=6,h=_=>{const E=new Date(_),O=E.getFullYear(),k=String(E.getMonth()+1).padStart(2,"0"),M=String(E.getDate()).padStart(2,"0");return`${O}-${k}-${M}`},m=_=>Array.isArray(_)?_:[],x=_=>{const E=String(_||"").trim(),[O,k]=E.split(":").map(M=>Number(M));return!Number.isFinite(O)||!Number.isFinite(k)?null:{h:O,m:k}},S=_=>{const E=x(_);return E?E.h*60+E.m:null},y=(_,E)=>{const O=S(_),k=S(E);if(O==null||k==null)return[];let M=k;M<=O&&(M+=24*60);const D=[];let H=O;const B=O+24*60,pe=Math.min(M,B);for(;H+30<=pe;){const q=H+30,Z=I=>{const $=(I%1440+1440)%1440,L=String(Math.floor($/60)).padStart(2,"0"),ne=String($%60).padStart(2,"0");return`${L}:${ne}`},b=Z(H),j=Z(q);D.push({start:b,end:j,value:`${b}-${j}`,label:`${b} - ${j}`,startMinutes:H}),H=q}return D},g=C.useMemo(()=>{const _=m(e),E=new Date,O=E.getDay()===0?7:E.getDay(),k=_.filter(M=>M.day_of_week===O&&M.is_active);return{date:E,dateKey:h(E),dateString:E.toLocaleDateString("it-IT"),dayName:E.toLocaleDateString("it-IT",{weekday:"long"}),hours:k,isToday:!0}},[e]);C.useEffect(()=>{if(!g.hours||g.hours.length===0){l([]);return}const _=[],E=new Date,O=E.getHours()*60+E.getMinutes();g.hours.forEach(k=>{const M=k.period||"lunch",D=M==="lunch"?"Pranzo":"Cena",H=k.opens_at,B=k.closes_at;y(H,B).forEach(q=>{var b,j,I;if(q.startMinutes<=O+30)return;const Z=`${g.dateKey}_${q.value}`;_.push({...q,period:M,periodLabel:D,available:((b=n==null?void 0:n[q.value])==null?void 0:b.available)??!0,orderCount:((j=n==null?void 0:n[q.value])==null?void 0:j.count)??0,maxOrders:((I=n==null?void 0:n[q.value])==null?void 0:I.limit)??p,slotKey:Z})})}),l(_)},[g,n]),C.useEffect(()=>{if(!(r!=null&&r.time))return;const _=o.find(E=>E.value===r.time);_&&u(_)},[o,r==null?void 0:r.time]);const v=C.useMemo(()=>o.filter(_=>_.period==="lunch"),[o]),w=C.useMemo(()=>o.filter(_=>_.period==="dinner"),[o]),N=()=>{if(!a)return;const _={dateKey:g.dateKey,dateString:g.dateString,dayName:g.dayName,time:a.value,timeLabel:a.label,period:a.period};s(_),d(!0)},T=()=>{d(!1),i()};if(f){const _=g.date.toLocaleDateString("it-IT",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),E=_.charAt(0).toUpperCase()+_.slice(1);return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[c.jsx("div",{className:"flex items-center justify-center mb-4",children:c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-3xl",children:""})})}),c.jsx("h3",{className:"text-xl font-bold text-center mb-4",children:"Conferma Orario"}),c.jsx("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-700 mb-2",children:"Oggi"}),c.jsx("div",{className:"text-xl text-gray-800 font-semibold mb-1",children:E}),c.jsxs("div",{className:"text-lg font-semibold text-blue-600 mt-3",children:[a==null?void 0:a.periodLabel,": ",a==null?void 0:a.label]})]})}),c.jsx("div",{className:"space-y-3 mb-6",children:c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-3",children:c.jsxs("p",{className:"text-sm text-gray-700",children:[c.jsx("span",{className:"font-semibold",children:" Nota:"})," L'orario  indicativo con un margine di"," ",c.jsx("strong",{children:"10 minuti"}),"."]})})}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:T,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white font-bold py-4 rounded-lg hover:from-blue-600 hover:to-blue-700 transition shadow-lg",children:" CONFERMO"}),c.jsx("button",{onClick:()=>d(!1),className:"w-full bg-gray-200 text-gray-700 font-semibold py-3 rounded-lg hover:bg-gray-300 transition",children:" Torna Indietro"})]})]})})}return c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Scegli l'orario di consegna"}),c.jsxs("p",{className:"text-gray-600 mb-6",children:["Oggi, ",g.dateString]}),o.length===0&&c.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:c.jsx("p",{className:"text-yellow-800",children:"Non ci sono fasce orarie disponibili per oggi. Il ristorante potrebbe essere chiuso o tutti gli slot sono passati."})}),v.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-3",children:" Pranzo"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:v.map(_=>c.jsxs("button",{onClick:()=>u(_),className:`p-3 rounded-lg border-2 transition ${(a==null?void 0:a.value)===_.value?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-orange-200"}`,children:[c.jsx("div",{className:"font-semibold text-sm text-gray-900",children:_.label}),c.jsx("div",{className:"text-xs text-green-600 mt-1",children:"Disponibile"})]},_.slotKey))})]}),w.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-3",children:" Cena"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:w.map(_=>c.jsxs("button",{onClick:()=>u(_),className:`p-3 rounded-lg border-2 transition ${(a==null?void 0:a.value)===_.value?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-orange-200"}`,children:[c.jsx("div",{className:"font-semibold text-sm text-gray-900",children:_.label}),c.jsx("div",{className:"text-xs text-green-600 mt-1",children:"Disponibile"})]},_.slotKey))})]}),c.jsx("button",{onClick:N,disabled:!a,className:`w-full p-4 rounded-lg font-bold text-lg ${a?"bg-orange-500 text-white hover:bg-orange-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:a?"Continua":"Seleziona un orario"})]})}const ns=({label:e,field:t,value:n,onChange:r,error:s,type:i="text",placeholder:o,required:l=!0})=>c.jsxs("div",{className:"mb-4",children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e," ",l&&c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:i,value:n||"",onChange:a=>r(t,a.target.value),placeholder:o,className:`w-full p-3 border-2 rounded-xl focus:outline-none transition-colors ${s?"border-red-500 focus:border-red-500":"border-gray-200 focus:border-orange-500"}`}),s&&c.jsx("p",{className:"mt-1 text-sm text-red-500",children:s})]});function uM({orderType:e,locations:t,customerData:n,setCustomerData:r,previousCustomer:s,nextStep:i}){const[o,l]=C.useState({}),a=(h,m)=>{r(x=>({...x,[h]:m})),o[h]&&l(x=>({...x,[h]:null}))},u=h=>{const m=h.replace(/\D/g,"");return!(m.length<10||m.length>13)},f=()=>{var m,x,S,y,g,v,w;const h={};return(m=n.name)!=null&&m.trim()||(h.name="Inserisci il nome"),(x=n.surname)!=null&&x.trim()||(h.surname="Inserisci il cognome"),(S=n.phone)!=null&&S.trim()?u(n.phone)||(h.phone="Numero non valido"):h.phone="Inserisci il numero di telefono",e==="delivery"&&((y=n.address)!=null&&y.trim()||(h.address="Inserisci la via"),(g=n.civic)!=null&&g.trim()||(h.civic="Inserisci il numero civico"),(v=n.city)!=null&&v.trim()||(h.city="Seleziona la citt"),(w=n.doorbell)!=null&&w.trim()||(h.doorbell="Inserisci il nome sul citofono")),l(h),Object.keys(h).length===0},d=()=>{f()&&i()},p=()=>{s&&r(h=>({...h,name:s.name||"",surname:s.surname||"",phone:s.phone||"",address:s.default_address||"",civic:s.default_civic||"",city:s.default_city||"",doorbell:s.default_doorbell||""}))};return c.jsxs("div",{className:"p-6 animate-fadeIn",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" I tuoi dati"}),c.jsx("p",{className:"text-gray-500 mb-6",children:e==="delivery"?"Dove ti portiamo l'ordine?":"Come ti chiamiamo quando  pronto?"}),s&&c.jsx("button",{onClick:p,className:"w-full p-3 mb-6 bg-blue-50 text-blue-700 rounded-xl text-sm font-medium hover:bg-blue-100 transition-colors border border-blue-200",children:" Usa i dati dell'ultimo ordine"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx(ns,{label:"Nome",field:"name",value:n.name,onChange:a,error:o.name,placeholder:"Mario"}),c.jsx(ns,{label:"Cognome",field:"surname",value:n.surname,onChange:a,error:o.surname,placeholder:"Rossi"})]}),c.jsx(ns,{label:"Telefono (WhatsApp)",field:"phone",type:"tel",value:n.phone,onChange:a,error:o.phone,placeholder:"333 1234567"}),e==="delivery"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[c.jsx("div",{className:"col-span-2",children:c.jsx(ns,{label:"Via/Piazza",field:"address",value:n.address,onChange:a,error:o.address,placeholder:"Via Roma"})}),c.jsx(ns,{label:"N",field:"civic",value:n.civic,onChange:a,error:o.civic,placeholder:"25"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Citt ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{value:n.city||"",onChange:h=>a("city",h.target.value),className:`w-full p-3 border-2 rounded-xl focus:outline-none transition-colors bg-white ${o.city?"border-red-500 focus:border-red-500":"border-gray-200 focus:border-orange-500"}`,children:[c.jsx("option",{value:"",children:"Seleziona zona..."}),t.map(h=>c.jsx("option",{value:h.name,children:h.name},h.id))]}),o.city&&c.jsx("p",{className:"mt-1 text-sm text-red-500",children:o.city})]}),c.jsx(ns,{label:"Nome sul citofono",field:"doorbell",value:n.doorbell,onChange:a,error:o.doorbell,placeholder:"Es: Rossi M."}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Note per il rider (Opzionale)"}),c.jsx("input",{type:"text",value:n.notesAddress||"",onChange:h=>a("notesAddress",h.target.value),placeholder:"Es: 2 piano, scala B",className:"w-full p-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none"})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Note per l'ordine (Opzionale)"}),c.jsx("textarea",{value:n.notesOrder||"",onChange:h=>a("notesOrder",h.target.value),placeholder:"Es: Poco piccante, senza cipolla...",rows:2,className:"w-full p-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none resize-none"})]}),c.jsx("button",{onClick:d,className:"w-full mt-4 py-4 rounded-xl font-bold text-lg bg-orange-500 text-white hover:bg-orange-600 transition-all shadow-md",children:"Continua "})]})}function dM({orderType:e,settings:t,wantsCutlery:n,setWantsCutlery:r,wantsFloorDelivery:s,setWantsFloorDelivery:i,tipAmount:o,setTipAmount:l,nextStep:a}){const u=(t==null?void 0:t.tip_amounts)||[1,2,3,5],[f,d]=C.useState(""),p=m=>{const x=parseFloat(m)||0;d(m),l(x)},h=m=>{l(m),d("")};return c.jsxs("div",{className:"p-6 animate-fadeIn",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:" Extra"}),(t==null?void 0:t.enable_cutlery)!==!1&&c.jsx("div",{className:"p-4 bg-white rounded-xl border-2 border-gray-200 mb-4",children:c.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-2xl",children:""}),c.jsx("p",{className:"font-medium text-gray-800",children:"Desidero le posate"})]}),c.jsx("input",{type:"checkbox",checked:n,onChange:m=>r(m.target.checked),className:"w-5 h-5 text-orange-500 rounded focus:ring-orange-500"})]})}),e==="delivery"&&(t==null?void 0:t.enable_floor_delivery)&&c.jsx("div",{className:`p-4 rounded-xl border-2 mb-4 transition-all ${s?"border-orange-500 bg-orange-50":"border-gray-200 bg-white"}`,children:c.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-2xl",children:""}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-800",children:t.floor_delivery_label||"Consegna al piano"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Il rider porta l'ordine alla tua porta"})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"font-bold text-orange-500",children:["+",parseFloat(t.floor_delivery_price||1.5).toFixed(2)]}),c.jsx("input",{type:"checkbox",checked:s,onChange:m=>i(m.target.checked),className:"w-5 h-5 text-orange-500 rounded focus:ring-orange-500"})]})]})}),e==="delivery"&&(t==null?void 0:t.enable_tips)!==!1&&c.jsxs("div",{className:"p-4 bg-green-50 rounded-xl border-2 border-green-200 mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("span",{className:"text-2xl",children:""}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-green-800",children:"Ti va di offrire un caff?"}),c.jsx("p",{className:"text-sm text-green-700",children:"Il tuo rider affronta traffico e meteo per portarti il pok ancora fresco. Se ti fa piacere, un piccolo pensiero lo far sorridere! "})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[u.map(m=>c.jsxs("button",{onClick:()=>h(m),className:`px-4 py-2 rounded-full font-bold transition-all ${o===m&&!f?"bg-green-500 text-white":"bg-white text-green-700 border border-green-300 hover:bg-green-100"}`,children:["",m]},m)),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"text-green-700 mr-1",children:""}),c.jsx("input",{type:"number",value:f,onChange:m=>p(m.target.value),placeholder:"Altro",className:"w-20 px-2 py-2 rounded-full border border-green-300 text-center focus:outline-none focus:border-green-500",min:"0",step:"0.50"})]})]}),o>0&&c.jsxs("p",{className:"text-sm text-green-700",children:[" Mancia: ",o.toFixed(2)]}),c.jsx("button",{onClick:()=>{l(0),d("")},className:"text-sm text-gray-500 hover:text-gray-700 mt-2",children:"No grazie"})]}),c.jsx("button",{onClick:a,className:"w-full mt-4 py-4 rounded-xl font-bold text-lg bg-orange-500 text-white hover:bg-orange-600 transition-all",children:"Continua "})]})}function fM({discountCodes:e,appliedDiscount:t,setAppliedDiscount:n,calculateSubtotal:r,nextStep:s}){const[i,o]=C.useState(""),[l,a]=C.useState(""),[u,f]=C.useState(!1),d=()=>{a(""),f(!0);const m=i.toUpperCase().trim(),x=e.find(S=>S.code.toUpperCase()===m&&S.is_active);setTimeout(()=>{if(f(!1),!x){a("Codice non valido");return}if(x.valid_until&&new Date(x.valid_until)<new Date){a("Codice scaduto");return}if(x.valid_from&&new Date(x.valid_from)>new Date){a("Codice non ancora valido");return}if(x.max_uses&&x.current_uses>=x.max_uses){a("Codice esaurito");return}const S=r();if(x.min_order&&S<x.min_order){a(`Ordine minimo ${x.min_order.toFixed(2)} per questo codice`);return}n(x)},500)},p=()=>{n(null),o(""),a("")},h=()=>{if(!t)return 0;const m=r();return t.discount_type==="percentage"?m*(t.discount_value/100):Math.min(t.discount_value,m)};return c.jsxs("div",{className:"p-6 animate-fadeIn",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Hai un codice sconto?"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Inserisci il codice per applicare lo sconto"}),t?c.jsx("div",{className:"p-4 bg-green-50 rounded-xl border-2 border-green-200 mb-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-bold text-green-700",children:[" ",t.code]}),c.jsx("p",{className:"text-sm text-green-600",children:t.discount_type==="percentage"?`${t.discount_value}% di sconto`:`${t.discount_value.toFixed(2)} di sconto`}),c.jsxs("p",{className:"text-sm font-bold text-green-700 mt-1",children:["Risparmi: ",h().toFixed(2)]})]}),c.jsx("button",{onClick:p,className:"text-red-500 hover:text-red-700 p-2",children:""})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("input",{type:"text",value:i,onChange:m=>{o(m.target.value.toUpperCase()),a("")},placeholder:"CODICE2025",className:`flex-1 p-3 border-2 rounded-xl uppercase focus:outline-none ${l?"border-red-500":"border-gray-200 focus:border-orange-500"}`}),c.jsx("button",{onClick:d,disabled:!i.trim()||u,className:`px-6 py-3 rounded-xl font-bold transition-all ${i.trim()&&!u?"bg-orange-500 text-white hover:bg-orange-600":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:u?"...":"Applica"})]}),l&&c.jsxs("p",{className:"text-sm text-red-500 mb-4",children:[" ",l]})]}),c.jsxs("div",{className:"flex gap-3 mt-6",children:[c.jsx("button",{onClick:s,className:"flex-1 py-4 rounded-xl font-bold text-lg bg-gray-200 text-gray-700 hover:bg-gray-300 transition-all",children:"Salta"}),c.jsx("button",{onClick:s,className:"flex-1 py-4 rounded-xl font-bold text-lg bg-orange-500 text-white hover:bg-orange-600 transition-all",children:"Continua "})]})]})}function pM({settings:e,paymentMethod:t,setPaymentMethod:n,nextStep:r}){const s=l=>{n(l),r()},o=[{id:"cash",name:"Contanti alla consegna",icon:"",description:"Paga in contanti al rider",enabled:(e==null?void 0:e.enable_cash)!==!1},{id:"card",name:"Carta alla consegna (POS)",icon:"",description:"Paga con carta al rider",enabled:(e==null?void 0:e.enable_card)!==!1},{id:"prepaid",name:"Gi pagato",icon:"",description:"Satispay, bonifico o altro",enabled:(e==null?void 0:e.enable_prepaid)!==!1}].filter(l=>l.enabled);return c.jsxs("div",{className:"p-6 animate-fadeIn",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Come preferisci pagare?"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Seleziona il metodo di pagamento"}),c.jsx("div",{className:"space-y-3",children:o.map(l=>c.jsx("button",{onClick:()=>s(l.id),className:`w-full p-4 rounded-xl border-2 text-left transition-all ${t===l.id?"border-orange-500 bg-orange-50":"border-gray-200 bg-white hover:border-orange-300"}`,children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-3xl",children:l.icon}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-800",children:l.name}),c.jsx("p",{className:"text-sm text-gray-500",children:l.description})]})]})},l.id))}),o.length===0&&c.jsx("div",{className:"text-center py-8 text-gray-500",children:c.jsx("p",{children:"Nessun metodo di pagamento disponibile"})})]})}function hM({restaurant:e,settings:t,orderType:n,selectedZone:r,bowls:s,currentBowlIndex:i,selectedBowlType:o,selectedBases:l,isHalfHalf:a,selectedProteins:u,selectedIngredients:f,selectedSauces:d,selectedToppings:p,selectedBeverages:h,ingredients:m,categories:x,backupOption:S,backupIngredient:y,selectedAllergies:g,customAllergy:v,selectedSlot:w,customerData:N,wantsCutlery:T,wantsFloorDelivery:_,tipAmount:E,appliedDiscount:O,paymentMethod:k,calculateBowlPrice:M,calculateTotal:D,addNewBowl:H,editBowl:B,deleteBowl:pe,goToStep:q,activeSteps:Z,setShowUnifiedCheckout:b}){const j=[...s];i>=s.length&&o&&j.push({bowlType:o,bases:l,isHalfHalf:a,proteins:u,ingredients:f,sauces:d,toppings:p});const I=Object.entries(h).filter(([X,W])=>W>0),$=I.reduce((X,[W,se])=>{const be=m.find(Be=>Be.id===parseInt(W));return X+((be==null?void 0:be.price)||0)*se},0),L=X=>{const W=Z.findIndex(se=>se.id===X);W>=0&&q(W)},ne={cash:"Contanti alla consegna",card:"Carta alla consegna (POS)",prepaid:"Gi pagato"},de=()=>{if(!w)return"";if(typeof w=="object"){const X=new Date,W=new Date(X);W.setDate(W.getDate()+1);const se=(w==null?void 0:w.dateString)||X.toDateString()==="",be=(w==null?void 0:w.dateString)||W.toDateString()==="";let Be=w.dayName;return se&&(Be="Oggi"),be&&(Be="Domani"),`${Be}, ${w==null?void 0:w.dateStringString} - ${w.timeLabel}`}return w};return c.jsxs("div",{className:"p-6 animate-fadeIn pb-32",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:" Riepilogo ordine"}),c.jsx("div",{className:"p-4 bg-gray-50 rounded-xl mb-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>L("order-type"),children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-2xl",children:n==="delivery"?"":""}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-gray-800",children:n==="delivery"?"Consegna a domicilio":"Ritiro al locale"}),n==="delivery"&&r&&c.jsx("p",{className:"text-sm text-gray-500",children:r.name})]})]}),c.jsx("span",{className:"text-gray-400",children:""})]})}),c.jsx("div",{className:"p-4 bg-gray-50 rounded-xl mb-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>L("time-slot"),children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-2xl",children:""}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-gray-800",children:"Fascia oraria"}),c.jsx("p",{className:"text-sm text-gray-500",children:de()})]})]}),c.jsx("span",{className:"text-gray-400",children:""})]})}),j.map((X,W)=>{var se,be,Be,bt,ln,dt;return c.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl mb-4 border-2 border-orange-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("h3",{className:"font-bold text-orange-800",children:[" Bowl ",j.length>1?W+1:""," - ",(se=X.bowlType)==null?void 0:se.name]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>B(W),className:"text-orange-600 hover:text-orange-800",children:""}),j.length>1&&c.jsx("button",{onClick:()=>pe(W),className:"text-red-500 hover:text-red-700",children:""})]})]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:" Base:"}),c.jsxs("p",{className:"text-sm text-gray-800",children:[(be=X.bases)==null?void 0:be.map(Ae=>Ae.name).join(X.isHalfHalf?" + ":", "),X.isHalfHalf&&" (50/50)"]})]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:" Proteine:"}),c.jsx("p",{className:"text-sm text-gray-800",children:(Be=X.proteins)==null?void 0:Be.map(Ae=>`${Ae.name}${Ae.isDouble?" 2":""}`).join(", ")})]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:" Ingredienti:"}),c.jsx("p",{className:"text-sm text-gray-800",children:(bt=X.ingredients)==null?void 0:bt.map(Ae=>`${Ae.name}${Ae.isDouble?" 2":""}`).join(", ")})]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:" Salse:"}),c.jsx("p",{className:"text-sm text-gray-800",children:(ln=X.sauces)==null?void 0:ln.map(Ae=>Ae.name).join(", ")})]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:" Topping:"}),c.jsx("p",{className:"text-sm text-gray-800",children:(dt=X.toppings)==null?void 0:dt.map(Ae=>`${Ae.name}${Ae.isDouble?" 2":""}`).join(", ")})]}),c.jsx("div",{className:"mt-3 pt-3 border-t border-orange-200",children:c.jsxs("p",{className:"text-right font-bold text-orange-700",children:["",M(X).toFixed(2)]})})]},W)}),c.jsx("button",{onClick:H,className:"w-full p-4 border-2 border-dashed border-orange-300 rounded-xl text-orange-500 font-medium hover:bg-orange-50 transition-colors mb-4",children:"+ Aggiungi altra bowl"}),I.length>0&&c.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl mb-4 cursor-pointer hover:bg-blue-100 transition-colors",onClick:()=>L("beverages"),children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("p",{className:"font-bold text-blue-800",children:" Bevande"}),c.jsx("span",{className:"text-gray-400",children:""})]}),I.map(([X,W])=>{const se=m.find(be=>be.id===parseInt(X));return se?c.jsxs("p",{className:"text-sm text-gray-700",children:[" ",se.name," ",W," - ",(se.price*W).toFixed(2)]},X):null}),c.jsxs("p",{className:"text-right font-bold text-blue-700 mt-2",children:["",$.toFixed(2)]})]}),(g.length>0||v)&&c.jsxs("div",{className:"p-4 bg-red-50 rounded-xl mb-4",children:[c.jsx("p",{className:"font-bold text-red-800",children:" Allergie"}),c.jsx("p",{className:"text-sm text-gray-700",children:[...g,v].filter(Boolean).join(", ")})]}),S&&c.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl mb-4",children:[c.jsx("p",{className:"font-bold text-gray-800",children:" Ingrediente riserva"}),c.jsxs("p",{className:"text-sm text-gray-700",children:[S==="chef_choice"&&"Sostituire a discrezione dello chef",S==="contact_me"&&"Contattarmi prima di procedere",S==="specific"&&(y==null?void 0:y.name)]})]}),(T||_)&&c.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl mb-4",children:[c.jsx("p",{className:"font-bold text-gray-800",children:" Extra"}),T&&c.jsx("p",{className:"text-sm text-gray-700",children:" Posate: S"}),_&&c.jsxs("p",{className:"text-sm text-gray-700",children:[" Consegna al piano: +",parseFloat((t==null?void 0:t.floor_delivery_price)||1.5).toFixed(2)]})]}),c.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl mb-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>L("customer"),children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("p",{className:"font-bold text-gray-800",children:" Dati cliente"}),c.jsx("span",{className:"text-gray-400",children:""})]}),c.jsxs("p",{className:"text-sm text-gray-700",children:[N.name," ",N.surname]}),c.jsx("p",{className:"text-sm text-gray-700",children:N.phone}),n==="delivery"&&c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-sm text-gray-700",children:[N.address," ",N.civic,", ",N.city]}),c.jsxs("p",{className:"text-sm text-gray-700",children:["Citofono: ",N.doorbell]})]})]}),c.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl mb-4",children:[c.jsx("p",{className:"font-bold text-gray-800",children:" Pagamento"}),c.jsx("p",{className:"text-sm text-gray-700",children:ne[k]})]}),c.jsxs("div",{className:"p-4 bg-green-50 rounded-xl border-2 border-green-200 mb-6",children:[c.jsx("h3",{className:"font-bold text-green-800 mb-3",children:" Riepilogo prezzo"}),j.map((X,W)=>{var se;return c.jsxs("div",{className:"flex justify-between text-sm text-gray-700 mb-1",children:[c.jsxs("span",{children:["Bowl ",j.length>1?W+1:""," ",(se=X.bowlType)==null?void 0:se.name]}),c.jsxs("span",{children:["",M(X).toFixed(2)]})]},W)}),$>0&&c.jsxs("div",{className:"flex justify-between text-sm text-gray-700 mb-1",children:[c.jsx("span",{children:"Bevande"}),c.jsxs("span",{children:["",$.toFixed(2)]})]}),n==="delivery"&&r&&parseFloat(r.delivery_fee)>0&&c.jsxs("div",{className:"flex justify-between text-sm text-gray-700 mb-1",children:[c.jsx("span",{children:"Consegna"}),c.jsxs("span",{children:["",parseFloat(r.delivery_fee).toFixed(2)]})]}),_&&c.jsxs("div",{className:"flex justify-between text-sm text-gray-700 mb-1",children:[c.jsx("span",{children:"Consegna al piano"}),c.jsxs("span",{children:["",parseFloat((t==null?void 0:t.floor_delivery_price)||1.5).toFixed(2)]})]}),O&&c.jsxs("div",{className:"flex justify-between text-sm text-green-600 mb-1",children:[c.jsxs("span",{children:["Sconto ",O.code]}),c.jsxs("span",{children:["-",O.discount_type==="percentage"?`${O.discount_value}%`:`${O.discount_value.toFixed(2)}`]})]}),E>0&&c.jsxs("div",{className:"flex justify-between text-sm text-gray-700 mb-1",children:[c.jsx("span",{children:"Mancia rider"}),c.jsxs("span",{children:["",E.toFixed(2)]})]}),c.jsxs("div",{className:"border-t border-green-300 mt-2 pt-2",children:[c.jsxs("div",{className:"flex justify-between font-bold text-lg text-green-800",children:[c.jsx("span",{children:"TOTALE"}),c.jsxs("span",{children:["",D().toFixed(2)]})]}),E>0&&c.jsxs("p",{className:"text-xs text-gray-500 text-right",children:["(di cui ",E.toFixed(2)," mancia rider)"]}),n==="delivery"&&(e==null?void 0:e.show_rider_compensation)&&(e==null?void 0:e.rider_compensation_amount)>0&&c.jsxs("div",{className:"mt-3 pt-3 border-t border-green-200",children:[c.jsx("p",{className:"text-xs text-gray-600 mb-1",children:" Nota trasparenza:"}),c.jsxs("p",{className:"text-xs text-green-600",children:[" Compenso Rider dichiarato: ",parseFloat(e.rider_compensation_amount).toFixed(2)]})]})]})]}),c.jsx("button",{onClick:()=>b(!0),className:"w-full py-4 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transform hover:scale-[1.02] transition-all",children:"Conferma ordine "})]})}function mM({customerData:e,orderType:t,restaurant:n,onConfirm:r,onCancel:s}){const[i,o]=C.useState(!1),[l,a]=C.useState(!1),[u,f]=C.useState(null),[d,p]=C.useState(""),h=i&&l&&u,m=async()=>{if(!h){alert(" Completa tutti i passaggi obbligatori!");return}if(u&&d.trim()){const S={restaurant:(n==null?void 0:n.name)||"Sconosciuto",rating:u===1?"Scontento ":u===2?"Contento ":"Felice ",comment:d.trim(),timestamp:new Date().toISOString()};try{await fetch("https://formspree.io/f/YOUR_FORM_ID",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:"ordini-lampo@proton.me",subject:`Feedback Ordini-Lampo - ${S.restaurant}`,message:`
Ristorante: ${S.restaurant}
Gradimento: ${S.rating}
Commento: ${S.comment}
Data: ${new Date(S.timestamp).toLocaleString("it-IT")}
            `})})}catch(y){console.error("Errore invio feedback:",y)}}r()},x=()=>{const S=`Ho appena ordinato da ${n==null?void 0:n.name} con Ordini-Lampo!  Commissioni zero, solo buon cibo! Prova: ${window.location.origin}?r=${n==null?void 0:n.slug}`;navigator.share?navigator.share({title:"Ordini-Lampo",text:S,url:`${window.location.origin}?r=${n==null?void 0:n.slug}`}):(navigator.clipboard.writeText(S),alert(" Link copiato! Condividilo con i tuoi amici!"))};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl animate-fadeIn",children:[c.jsxs("div",{className:"bg-gradient-to-br from-orange-400 via-orange-500 to-red-500 p-8 text-white text-center rounded-t-2xl",children:[c.jsx("div",{className:"w-20 h-20 bg-white bg-opacity-20 backdrop-blur-md rounded-full mx-auto mb-4 flex items-center justify-center",children:c.jsx("span",{className:"text-5xl",children:""})}),c.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Ultimo Passo!"}),c.jsx("p",{className:"text-orange-100",children:"Conferma e il tuo ordine sar pronto "})]}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-5 border-l-4 border-blue-500",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("input",{type:"checkbox",checked:i,onChange:S=>o(S.target.checked),className:"mt-1 w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx("span",{className:"text-2xl",children:""}),c.jsx("h3",{className:"text-lg font-bold text-blue-900",children:"1. Verifica i tuoi dati"})]}),c.jsxs("div",{className:"bg-white bg-opacity-60 rounded-lg p-3 text-sm space-y-1",children:[c.jsxs("p",{className:"text-gray-800",children:[c.jsx("strong",{children:""})," ",e.phone]}),c.jsxs("p",{className:"text-gray-800",children:[c.jsx("strong",{children:""})," ",e.name," ",e.surname]}),t==="delivery"&&c.jsxs("p",{className:"text-gray-800",children:[c.jsx("strong",{children:""})," ",e.address," ",e.civic,", ",e.city]})]})]})]})}),c.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 rounded-xl p-5 border-l-4 border-yellow-500",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("input",{type:"checkbox",checked:l,onChange:S=>a(S.target.checked),className:"mt-1 w-5 h-5 text-yellow-600 rounded focus:ring-yellow-500"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx("span",{className:"text-2xl",children:""}),c.jsx("h3",{className:"text-lg font-bold text-yellow-900",children:"2. Importante: Conferma su WhatsApp"})]}),c.jsxs("div",{className:"bg-yellow-200 bg-opacity-50 rounded-lg p-3",children:[c.jsx("p",{className:"text-yellow-900 font-semibold mb-2",children:" Quando si apre WhatsApp:"}),c.jsx("p",{className:"text-yellow-800 text-lg font-bold",children:`PREMI "INVIO" per completare l'ordine!`}),c.jsx("p",{className:"text-xs text-yellow-700 mt-2",children:"Senza questo il locale non ricever il tuo ordine"})]})]})]})}),c.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 rounded-xl p-5 border-l-4 border-green-500",children:[c.jsx("div",{className:"mb-3",children:c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx("span",{className:"text-2xl",children:""}),c.jsx("h3",{className:"text-lg font-bold text-green-900",children:"3. Come  stata l'esperienza? *"})]})}),c.jsxs("div",{className:"flex justify-center gap-4",children:[c.jsxs("button",{onClick:()=>f(1),className:`flex flex-col items-center p-4 rounded-xl transition-all transform hover:scale-105 ${u===1?"bg-white shadow-lg ring-2 ring-green-500":"bg-white bg-opacity-60 hover:bg-white"}`,children:[c.jsx("span",{className:"text-5xl mb-2",children:""}),c.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Scontento"})]}),c.jsxs("button",{onClick:()=>f(2),className:`flex flex-col items-center p-4 rounded-xl transition-all transform hover:scale-105 ${u===2?"bg-white shadow-lg ring-2 ring-green-500":"bg-white bg-opacity-60 hover:bg-white"}`,children:[c.jsx("span",{className:"text-5xl mb-2",children:""}),c.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Contento"})]}),c.jsxs("button",{onClick:()=>f(3),className:`flex flex-col items-center p-4 rounded-xl transition-all transform hover:scale-105 ${u===3?"bg-white shadow-lg ring-2 ring-green-500":"bg-white bg-opacity-60 hover:bg-white"}`,children:[c.jsx("span",{className:"text-5xl mb-2",children:""}),c.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Felice"})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 rounded-xl p-5 border-l-4 border-purple-500",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx("span",{className:"text-2xl",children:""}),c.jsx("h3",{className:"text-lg font-bold text-purple-900",children:"4. Vuoi dirci qualcosa? (opzionale)"})]}),c.jsx("textarea",{value:d,onChange:S=>p(S.target.value.slice(0,100)),placeholder:"Il tuo feedback ci aiuta a migliorare...",className:"w-full p-3 border-2 border-purple-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none bg-white",rows:"3",maxLength:"100"}),c.jsxs("p",{className:"text-xs text-purple-600 text-right mt-1",children:[d.length,"/100 caratteri"]})]}),c.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-pink-100 rounded-xl p-5 border-l-4 border-pink-500",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx("span",{className:"text-2xl",children:""}),c.jsx("h3",{className:"text-lg font-bold text-pink-900",children:"5. Condividi con gli amici!"})]}),c.jsx("button",{onClick:x,className:"w-full bg-gradient-to-r from-pink-500 to-pink-600 text-white font-semibold py-3 rounded-lg hover:from-pink-600 hover:to-pink-700 transition-all shadow-md hover:shadow-lg transform hover:scale-[1.02]",children:" Condividi Ordini-Lampo"}),c.jsx("p",{className:"text-xs text-pink-700 text-center mt-2",children:"Aiuta i tuoi amici a scoprire ordini senza commissioni!"})]})]}),c.jsxs("div",{className:"p-6 bg-gray-50 rounded-b-2xl space-y-3",children:[c.jsx("button",{onClick:m,disabled:!h,className:`w-full py-5 rounded-xl font-bold text-lg shadow-lg transition-all transform ${h?"bg-gradient-to-r from-green-500 to-green-600 text-white hover:from-green-600 hover:to-green-700 hover:shadow-xl hover:scale-[1.02]":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:h?" CONFERMA E APRI WHATSAPP":" Completa i passaggi obbligatori"}),c.jsx("button",{onClick:s,className:"w-full bg-white border-2 border-gray-300 text-gray-700 font-semibold py-3 rounded-lg hover:bg-gray-50 transition",children:" Torna al riepilogo"})]})]})})}function gM({bowls:e,currentBowl:t,selectedBeverages:n,ingredients:r,categories:s,orderType:i,selectedZone:o,wantsFloorDelivery:l,settings:a,tipAmount:u,appliedDiscount:f,calculateTotal:d}){const[p,h]=C.useState(!1),m=v=>{var w,N,T,_,E;return v?(((w=v.bases)==null?void 0:w.length)||0)+(((N=v.proteins)==null?void 0:N.length)||0)+(((T=v.ingredients)==null?void 0:T.length)||0)+(((_=v.sauces)==null?void 0:_.length)||0)+(((E=v.toppings)==null?void 0:E.length)||0):0},x=e.reduce((v,w)=>v+m(w),0)+(t!=null&&t.bowlType?m(t):0),S=Object.values(n).reduce((v,w)=>v+w,0),y=x+S,g=e.length+(t!=null&&t.bowlType?1:0);return c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-50 max-w-lg mx-auto bg-gradient-to-r from-orange-600 via-red-600 to-pink-600 border-t-4 border-yellow-500 shadow-2xl",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-400/20 via-red-400/20 to-pink-400/20 blur-xl -z-10"}),c.jsxs("button",{onClick:()=>h(!p),className:"w-full p-3 flex items-center justify-between relative z-10 transition-all active:scale-95",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg border-2 border-white/40",children:c.jsx("span",{className:"text-xl drop-shadow-lg",children:""})}),c.jsxs("div",{className:"text-left",children:[c.jsxs("p",{className:"font-bold text-white text-base drop-shadow-md",children:[g," bowl",g!==1?"s":"",S>0&&` + ${S} bev.`]}),c.jsxs("p",{className:"text-xs text-white/90 font-medium drop-shadow",children:[" ",y," element",y===1?"o":"i"]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-xs text-white/80 font-semibold uppercase tracking-wider drop-shadow",children:"Totale"}),c.jsxs("p",{className:"font-black text-2xl text-yellow-300 drop-shadow-[0_2px_8px_rgba(255,215,0,0.5)] tracking-tight",children:["",d().toFixed(2)]})]}),c.jsx("div",{className:`w-7 h-7 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center transition-transform ${p?"rotate-180":""}`,children:c.jsx("span",{className:"text-white text-sm font-bold drop-shadow",children:""})})]})]}),p&&c.jsxs("div",{className:"px-4 pb-3 max-h-60 overflow-y-auto border-t-2 border-white/20 animate-fadeIn backdrop-blur-sm bg-white/10",children:[[...e,t!=null&&t.bowlType?t:null].filter(Boolean).map((v,w)=>{var N,T,_;return c.jsxs("div",{className:"py-2 border-b border-white/10",children:[c.jsxs("p",{className:"font-bold text-white text-sm drop-shadow",children:[" Bowl ",(N=v.bowlType)==null?void 0:N.name]}),c.jsxs("p",{className:"text-xs text-white/80 drop-shadow",children:[(T=v.bases)==null?void 0:T.map(E=>E.name).join(", "),((_=v.proteins)==null?void 0:_.length)>0&&`  ${v.proteins.map(E=>E.name).join(", ")}`]})]},w)}),S>0&&c.jsxs("div",{className:"py-2 border-b border-white/10",children:[c.jsx("p",{className:"font-bold text-white text-sm drop-shadow",children:" Bevande"}),c.jsx("p",{className:"text-xs text-white/80 drop-shadow",children:Object.entries(n).filter(([v,w])=>w>0).map(([v,w])=>{const N=r.find(T=>T.id===parseInt(v));return N?`${N.name} ${w}`:null}).filter(Boolean).join(", ")})]}),i==="delivery"&&o&&parseFloat(o.delivery_fee)>0&&c.jsxs("div",{className:"py-2 flex justify-between text-xs",children:[c.jsxs("span",{className:"text-white/90 font-medium drop-shadow",children:["Consegna (",o.name,")"]}),c.jsxs("span",{className:"text-white font-bold drop-shadow",children:["",parseFloat(o.delivery_fee).toFixed(2)]})]}),l&&c.jsxs("div",{className:"py-2 flex justify-between text-xs",children:[c.jsx("span",{className:"text-white/90 font-medium drop-shadow",children:"Consegna al piano"}),c.jsxs("span",{className:"text-white font-bold drop-shadow",children:["",parseFloat((a==null?void 0:a.floor_delivery_price)||1.5).toFixed(2)]})]}),f&&c.jsxs("div",{className:"py-2 flex justify-between text-xs",children:[c.jsxs("span",{className:"text-green-300 font-bold drop-shadow",children:["Sconto ",f.code]}),c.jsxs("span",{className:"text-green-300 font-bold drop-shadow",children:["-",f.discount_type==="percentage"?`${f.discount_value}%`:`${f.discount_value.toFixed(2)}`]})]}),u>0&&c.jsxs("div",{className:"py-2 flex justify-between text-xs",children:[c.jsx("span",{className:"text-white/90 font-medium drop-shadow",children:" Mancia rider"}),c.jsxs("span",{className:"text-white font-bold drop-shadow",children:["",u.toFixed(2)]})]})]})]})}function yM({steps:e,currentStep:t}){return c.jsx("div",{className:"flex justify-center gap-1 py-2 bg-gray-50",children:e.map((n,r)=>c.jsx("div",{className:`step-dot ${r===t?"active":r<t?"completed":"pending"}`},n.id))})}function vM(){return c.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-orange-50 to-pink-50",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-20 h-20 border-4 border-orange-200 rounded-full animate-spin border-t-orange-500"}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("span",{className:"text-3xl",children:""})})]}),c.jsx("p",{className:"mt-6 text-gray-600 font-medium",children:"Caricamento menu..."})]})}function xM({message:e}){return c.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("span",{className:"text-6xl mb-6 block",children:""}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Oops! Qualcosa  andato storto"}),c.jsx("p",{className:"text-gray-500 mb-6",children:e||"Si  verificato un errore durante il caricamento."}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-orange-500 text-white rounded-xl font-bold hover:bg-orange-600 transition-colors",children:"Riprova"})]})})}function _M({message:e,restaurant:t}){return c.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-gray-50",children:c.jsxs("div",{className:"text-center max-w-sm",children:[t!=null&&t.logo_url?c.jsx("img",{src:t.logo_url,alt:t.name,className:"w-24 h-24 object-contain mx-auto mb-6"}):c.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-orange-400 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx("span",{className:"text-4xl",children:""})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:(t==null?void 0:t.name)||"Ristorante"}),c.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4 mb-6",children:[c.jsx("span",{className:"text-4xl mb-2 block",children:""}),c.jsx("p",{className:"text-yellow-800 font-medium",children:e||"Al momento non accettiamo ordini"})]}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Torna a trovarci pi tardi!"}),(t==null?void 0:t.phone)&&c.jsxs("a",{href:`tel:${t.phone}`,className:"mt-6 inline-flex items-center gap-2 text-orange-500 font-medium",children:[" Chiamaci: ",t.phone]})]})})}const la="https://ordini-lampo-api.ordini-lampo.workers.dev";function SM(){return"chk_"+Date.now()+"_"+Math.random().toString(16).slice(2)}function wM(){var cp,up;const[e,t]=C.useState(null),[n,r]=C.useState(null),[s,i]=C.useState([]),[o,l]=C.useState([]),[a,u]=C.useState([]),[f,d]=C.useState([]),[p,h]=C.useState([]),[m,x]=C.useState([]),[S,y]=C.useState([]),[g,v]=C.useState({}),[w,N]=C.useState(!0),[T,_]=C.useState(null),[E,O]=C.useState(!1),[k,M]=C.useState(""),[D,H]=C.useState(0),[B,pe]=C.useState(!1),[q,Z]=C.useState(null),[b,j]=C.useState(null),[I,$]=C.useState(null),[L,ne]=C.useState([]),[de,X]=C.useState(0),[W,se]=C.useState(null),[be,Be]=C.useState([]),[bt,ln]=C.useState(!1),[dt,Ae]=C.useState([]),[qe,Lt]=C.useState([]),[Et,Un]=C.useState([]),[ft,Hn]=C.useState([]),[ee,pt]=C.useState({}),[Q,Ke]=C.useState("chef_choice"),[Ge,fe]=C.useState(null),[xn,Jf]=C.useState([]),[Qf,zx]=C.useState(""),[jo,Zf]=C.useState(""),[Mo,ep]=C.useState(""),[cn,tp]=C.useState(null),[Ye,np]=C.useState({name:"",surname:"",phone:"",address:"",civic:"",city:"",doorbell:"",notesOrder:"",notesAddress:""}),[rp,Bx]=C.useState(!1),[si,Ux]=C.useState(!1),[ii,Hx]=C.useState(0),[wr,Wx]=C.useState(null),[oi,sp]=C.useState(null),[Vx,qx]=C.useState(null),[Kx,Gx]=C.useState(null),At=[{id:"welcome",name:"Benvenuto",component:Jj},{id:"order-type",name:"Tipo Ordine",component:Qj},{id:"delivery-zone",name:"Zona",component:Zj,condition:()=>b==="delivery"},...de===0?[{id:"time-slot",name:"Orario",component:cM}]:[],{id:"allergies",name:" Allergie",component:lM,condition:()=>(n==null?void 0:n.enable_allergies)&&de===0},{id:"bowl-size",name:"Taglia",component:eM},{id:"base",name:"Base",component:tM},{id:"proteins",name:"Proteine",component:nM},{id:"ingredients",name:"Ingredienti",component:rM},{id:"sauces",name:"Salse",component:sM},{id:"toppings",name:"Topping",component:iM},{id:"beverages",name:"Bevande",component:oM},{id:"backup",name:"Riserva",component:aM,condition:()=>n==null?void 0:n.enable_backup_ingredient},{id:"customer",name:"Dati",component:uM},{id:"extras",name:"Extra",component:dM},{id:"discount",name:"Sconto",component:fM},{id:"payment",name:"Pagamento",component:pM},{id:"summary",name:"Riepilogo",component:hM}].filter(F=>!F.condition||F.condition());C.useEffect(()=>{},[]),C.useEffect(()=>{(D<0||D>=At.length)&&H(0)},[At.length,D]),C.useEffect(()=>{B&&!q&&Z(SM()),B||Z(null)},[B,q]),C.useEffect(()=>{Yx()},[]),C.useEffect(()=>{L.length>0&&localStorage.setItem("ordinlampo_bowls",JSON.stringify(L))},[L]),C.useEffect(()=>{dt.length>0&&localStorage.setItem("ordinlampo_proteins",JSON.stringify(dt))},[dt]),C.useEffect(()=>{qe.length>0&&localStorage.setItem("ordinlampo_ingredients",JSON.stringify(qe))},[qe]),C.useEffect(()=>{Et.length>0&&localStorage.setItem("ordinlampo_sauces",JSON.stringify(Et))},[Et]),C.useEffect(()=>{ft.length>0&&localStorage.setItem("ordinlampo_toppings",JSON.stringify(ft))},[ft]),C.useEffect(()=>{W&&localStorage.setItem("ordinlampo_bowltype",JSON.stringify(W))},[W]),C.useEffect(()=>{be.length>0&&localStorage.setItem("ordinlampo_bases",JSON.stringify(be))},[be]),C.useEffect(()=>{localStorage.setItem("ordinlampo_halfhalf",JSON.stringify(bt))},[bt]),C.useEffect(()=>{xn.length>0&&localStorage.setItem("ordinlampo_allergies",JSON.stringify(xn))},[xn]),C.useEffect(()=>{jo&&localStorage.setItem("ordinlampo_specific1",jo)},[jo]),C.useEffect(()=>{Mo&&localStorage.setItem("ordinlampo_specific2",Mo)},[Mo]),C.useEffect(()=>{b&&localStorage.setItem("ordinlampo_ordertype",b)},[b]),C.useEffect(()=>{I&&localStorage.setItem("ordinlampo_zone",JSON.stringify(I))},[I]),C.useEffect(()=>{D>0&&localStorage.setItem("ordinlampo_step",D.toString())},[D]),C.useEffect(()=>{Q&&localStorage.setItem("ordinlampo_backup",Q)},[Q]),C.useEffect(()=>{cn&&localStorage.setItem("ordinlampo_slot",JSON.stringify(cn))},[cn]),C.useEffect(()=>{oi&&localStorage.setItem("ordinlampo_payment",oi)},[oi]),C.useEffect(()=>{Object.keys(ee).length>0&&localStorage.setItem("ordinlampo_beverages",JSON.stringify(ee))},[ee]),C.useEffect(()=>{(Ye.phone||Ye.name)&&localStorage.setItem("ordinlampo_customer",JSON.stringify(Ye))},[Ye]),C.useEffect(()=>{const F=localStorage.getItem("ordinlampo_bowls"),V=localStorage.getItem("ordinlampo_beverages"),ve=localStorage.getItem("ordinlampo_customer"),ye=localStorage.getItem("ordinlampo_proteins"),he=localStorage.getItem("ordinlampo_ingredients"),Ue=localStorage.getItem("ordinlampo_sauces"),Kt=localStorage.getItem("ordinlampo_toppings"),kt=localStorage.getItem("ordinlampo_bowltype"),br=localStorage.getItem("ordinlampo_bases"),_n=localStorage.getItem("ordinlampo_halfhalf"),Wn=localStorage.getItem("ordinlampo_allergies"),xe=localStorage.getItem("ordinlampo_specific1"),un=localStorage.getItem("ordinlampo_specific2"),li=localStorage.getItem("ordinlampo_ordertype"),ci=localStorage.getItem("ordinlampo_zone"),ui=localStorage.getItem("ordinlampo_step"),di=localStorage.getItem("ordinlampo_backup"),fi=localStorage.getItem("ordinlampo_slot"),pi=localStorage.getItem("ordinlampo_payment");if(F)try{ne(JSON.parse(F))}catch{}if(V)try{pt(JSON.parse(V))}catch{}if(ve)try{np(U=>({...U,...JSON.parse(ve)}))}catch{}if(ye)try{Ae(JSON.parse(ye))}catch{}if(he)try{Lt(JSON.parse(he))}catch{}if(Ue)try{Un(JSON.parse(Ue))}catch{}if(Kt)try{Hn(JSON.parse(Kt))}catch{}if(kt)try{se(JSON.parse(kt))}catch{}if(br)try{Be(JSON.parse(br))}catch{}if(_n)try{ln(JSON.parse(_n))}catch{}if(Wn)try{Jf(JSON.parse(Wn))}catch{}if(xe&&Zf(xe),un&&ep(un),li&&j(li),ci)try{$(JSON.parse(ci))}catch{}if(ui)try{H(parseInt(ui))}catch{}if(di&&Ke(di),fi)try{tp(JSON.parse(fi))}catch{}pi&&sp(pi)},[]);const Yx=async()=>{var F;try{N(!0);const ve=(F=new URLSearchParams(window.location.search).get("r"))==null?void 0:F.trim();if(!ve)throw new Error("URL non valido. Usa ?r=nome-ristorante");const ye=await fetch(la+"/poke/"+encodeURIComponent(ve)+"/bundle",{method:"GET",headers:{}}),he=await ye.json();if(!ye.ok)throw console.error("Bundle load failed:",he),new Error((he==null?void 0:he.error)||"Errore caricamento ristorante");t(he.data.restaurant),r(he.data.settings||{}),i(he.data.locations||[]),l(he.data.bowl_types||[]),u(he.data.categories||[]),d(he.data.ingredients||[]),h(he.data.opening_hours||[]),x(he.data.special_closures||[]),y(he.data.discount_codes||[]),Yj(he.data.restaurant.id);try{const Ue=new Date().toISOString().slice(0,10),kt=await(await fetch(la+"/poke/"+ve+"/slots?date="+Ue)).json();kt!=null&&kt.availability&&v(kt.availability)}catch(Ue){console.log("Slot availability non disponibile:",Ue)}Xx(he.data.restaurant.id)}catch(V){console.error("Errore caricamento:",V),_(V.message)}finally{N(!1)}},Xx=async F=>{try{const V=localStorage.getItem("ordinlampo_phone_"+F),ve=localStorage.getItem("ordinlampo_phonehash_"+F);if(!V&&!ve)return;const ye={restaurant_id:F,...ve?{phone_hash:ve}:{phone:V}},he=await fetch(la+"/poke/"+slug+"/customer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ye)}),Ue=await he.json();if(!he.ok)return;qx(Ue.customer||null),Gx(Ue.last_order_data||null),Ue.phone_hash&&localStorage.setItem("ordinlampo_phonehash_"+F,Ue.phone_hash)}catch{}},ai=F=>{F>=0&&F<At.length&&(H(F),window.scrollTo({top:0,behavior:"smooth"}))},Jx=()=>ai(D+1),ip=()=>ai(D-1),Po=C.useCallback(F=>{var Wn,xe,un,li,ci,ui,di,fi,pi;if(!F)return 0;let V=((Wn=F.bowlType)==null?void 0:Wn.price)||0;const ve=2.5;(xe=F.proteins)==null||xe.forEach(U=>{if(U.extraPortions&&U.extraPortions>0&&(V+=U.extraPortions*ve),U.isDouble){const Gt=a.find(hi=>hi.name==="proteine");V+=(Gt==null?void 0:Gt.double_portion_price)||0}});const ye=a.find(U=>U.name==="proteine");if(ye){const U=(((un=F.proteins)==null?void 0:un.length)||0)-ye.max_selections;U>0&&(V+=U*(ye.extra_price||0))}const he=1.5;(li=F.ingredients)==null||li.forEach(U=>{if(U.extraPortions&&U.extraPortions>0&&(V+=U.extraPortions*he),U.isDouble){const Gt=a.find(hi=>hi.name==="ingredienti");V+=(Gt==null?void 0:Gt.double_portion_price)||0}});const Ue=a.find(U=>U.name==="ingredienti");if(Ue){const U=(((ci=F.ingredients)==null?void 0:ci.length)||0)-Ue.max_selections;U>0&&(V+=U*(Ue.extra_price||0))}const Kt=.8;(ui=F.sauces)==null||ui.forEach(U=>{U.extraPortions&&U.extraPortions>0&&(V+=U.extraPortions*Kt)});const kt=a.find(U=>U.name==="salse");if(kt){const U=(((di=F.sauces)==null?void 0:di.length)||0)-kt.max_selections;U>0&&(V+=U*(kt.extra_price||0))}const br=2;(fi=F.toppings)==null||fi.forEach(U=>{if(U.extraPortions&&U.extraPortions>0&&(V+=U.extraPortions*br),U.isDouble){const Gt=a.find(hi=>hi.name==="topping");V+=(Gt==null?void 0:Gt.double_portion_price)||0}});const _n=a.find(U=>U.name==="topping");if(_n){const U=(((pi=F.toppings)==null?void 0:pi.length)||0)-_n.max_selections;U>0&&(V+=U*(_n.extra_price||0))}return V},[a]),op=C.useCallback(()=>{let F=0;return Object.entries(ee).forEach(([V,ve])=>{const ye=f.find(he=>he.id===V);ye&&(F+=ye.price*ve)}),F},[ee,f]),Kl=C.useCallback(()=>{const F=de>=L.length?Po({bowlType:W,proteins:dt,ingredients:qe,sauces:Et,toppings:ft}):0,V=L.reduce((ye,he)=>ye+Po(he),0),ve=op();return F+V+ve},[L,de,W,dt,qe,Et,ft,Po,op]),Gl=C.useCallback(()=>{let F=Kl();return b==="delivery"&&I&&(F+=parseFloat(I.delivery_fee)||0),si&&(n!=null&&n.floor_delivery_price)&&(F+=parseFloat(n.floor_delivery_price)||0),wr&&(wr.discount_type==="percentage"?F-=F*(wr.discount_value/100):F-=wr.discount_value),F+=ii,Math.max(0,F)},[Kl,b,I,si,n,wr,ii]),ap=()=>{const F={bowlType:W,bases:be,isHalfHalf:bt,proteins:dt,ingredients:qe,sauces:Et,toppings:ft};if(de>=L.length)ne([...L,F]);else{const V=[...L];V[de]=F,ne(V)}},Qx=()=>{ap(),X(L.length+1),t_(),ai(At.findIndex(F=>F.id==="bowl-size"))},Zx=F=>{ap();const V=L[F];se(V.bowlType),Be(V.bases),ln(V.isHalfHalf),Ae(V.proteins),Lt(V.ingredients),Un(V.sauces),Hn(V.toppings),X(F),ai(At.findIndex(ve=>ve.id==="bowl-size"))},e_=F=>{const V=L.filter((ve,ye)=>ye!==F);ne(V),de>=V.length&&X(Math.max(0,V.length-1))},t_=()=>{se(null),Be([]),ln(!1),Ae([]),Lt([]),Un([]),Hn([])},n_=(F,V,ve,ye,he=!1)=>{V.findIndex(Kt=>Kt.id===F.id)>=0?ve(V.filter(Kt=>Kt.id!==F.id)):(V.length<ye||ye===99)&&ve([...V,{...F,isDouble:!1}])},r_=(F,V,ve)=>{ve(V.map(ye=>ye.id===F?{...ye,isDouble:!ye.isDouble}:ye))},s_=async()=>{var br,_n,Wn;const F=(br=new URLSearchParams(window.location.search).get("r"))==null?void 0:br.trim();if(!(e!=null&&e.id))return;const V=(Ye.name+" "+Ye.surname).trim(),ve=Ye.phone.startsWith("+")?Ye.phone:"+39"+Ye.phone,ye=Ye.address+" "+Ye.civic+", "+Ye.city,he=((_n=cn==null?void 0:cn.time)==null?void 0:_n.split("-")[0])||"19:00",Ue=[{bowl_type_id:W==null?void 0:W.id,bowl_type_name:(W==null?void 0:W.name)||"Regular",base:be.map(xe=>({name:xe.name})),proteine:dt.map(xe=>({name:xe.name,qty:xe.quantity||1})),verdure:qe.map(xe=>({name:xe.name,qty:xe.quantity||1})),salse:Et.map(xe=>({name:xe.name,qty:xe.quantity||1})),toppings:ft.map(xe=>({name:xe.name,qty:xe.quantity||1})),extras_total:0}],Kt=[...(xn||[]).map(xe=>xe.name),Qf].filter(Boolean),kt={customer_name:V,customer_phone:ve,delivery_address:ye,citofono:Ye.doorbell,location_id:I==null?void 0:I.id,delivery_time:he,delivery_date:cn==null?void 0:cn.dateKey,payment_method:oi||"Contanti",posate_richieste:rp,consegna_piano:si,allergie:Kt.join(", "),riserva:Q==="chef"?"Lascia decidere allo chef":(Ge==null?void 0:Ge.name)||"",mancia:ii,note:Ye.notesOrder,bowls:Ue};try{const xe=await fetch(la+"/poke/"+F+"/order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(kt)}),un=await xe.json();if(!xe.ok){console.error("Finalize order error:",un),alert("Errore durante l'invio dell'ordine. Riprova.");return}localStorage.setItem("ordinlampo_phone_"+e.id,Ye.phone),un.phone_hash&&localStorage.setItem("ordinlampo_phonehash_"+e.id,un.phone_hash),Xj(e.id,Gl()),window.open((Wn=un.whatsapp)==null?void 0:Wn.deeplink,"_blank")}catch(xe){console.error("Errore invio ordine:",xe),alert("Errore di connessione. Controlla la tua rete e riprova.")}};if(w)return c.jsx(vM,{});if(T)return c.jsx(xM,{message:T});if(E)return c.jsx(_M,{message:k,restaurant:e});const lp=(cp=At[D])==null?void 0:cp.component;return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[D>0&&c.jsxs("header",{className:"sticky top-0 z-40 bg-white shadow-sm",children:[c.jsxs("div",{className:"max-w-lg mx-auto px-4 py-3 flex items-center justify-between",children:[c.jsx("button",{onClick:ip,className:"p-2 rounded-full hover:bg-gray-100",children:""}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-sm text-gray-500",children:(up=At[D])==null?void 0:up.name}),c.jsxs("p",{className:"text-xs text-gray-400",children:[D+1," di ",At.length]})]}),c.jsx("div",{className:"w-10"})]}),c.jsx(yM,{steps:At,currentStep:D})]}),c.jsx("main",{className:"max-w-lg mx-auto "+(D>0?"pb-32":""),children:lp&&c.jsx(lp,{restaurant:e,settings:n,locations:s,bowlTypes:o,categories:a,ingredients:f,openingHours:p,specialClosures:m,discountCodes:S,slotAvailability:g,orderType:b,setOrderType:j,selectedZone:I,setSelectedZone:$,bowls:L,currentBowlIndex:de,selectedBowlType:W,setSelectedBowlType:se,selectedBases:be,setSelectedBases:Be,isHalfHalf:bt,setIsHalfHalf:ln,selectedProteins:dt,setSelectedProteins:Ae,selectedIngredients:qe,setSelectedIngredients:Lt,selectedSauces:Et,setSelectedSauces:Un,selectedToppings:ft,setSelectedToppings:Hn,selectedBeverages:ee,setSelectedBeverages:pt,backupOption:Q,setBackupOption:Ke,backupIngredient:Ge,setBackupIngredient:fe,selectedAllergies:xn,setSelectedAllergies:Jf,customAllergy:Qf,setCustomAllergy:zx,specificIngredient1:jo,setSpecificIngredient1:Zf,specificIngredient2:Mo,setSpecificIngredient2:ep,selectedSlot:cn,setSelectedSlot:tp,customerData:Ye,setCustomerData:np,previousCustomer:Vx,previousOrder:Kx,wantsCutlery:rp,setWantsCutlery:Bx,wantsFloorDelivery:si,setWantsFloorDelivery:Ux,tipAmount:ii,setTipAmount:Hx,appliedDiscount:wr,setAppliedDiscount:Wx,paymentMethod:oi,setPaymentMethod:sp,toggleIngredient:n_,toggleDoublePortions:r_,calculateBowlPrice:Po,calculateSubtotal:Kl,calculateTotal:Gl,addNewBowl:Qx,editBowl:Zx,deleteBowl:e_,nextStep:Jx,prevStep:ip,goToStep:ai,activeSteps:At,setShowUnifiedCheckout:pe})}),D>=At.findIndex(F=>F.id==="bowl-size")&&D<At.findIndex(F=>F.id==="summary")&&c.jsx(gM,{bowls:L,currentBowl:{bowlType:W,bases:be,proteins:dt,ingredients:qe,sauces:Et,toppings:ft},selectedBeverages:ee,ingredients:f,categories:a,orderType:b,selectedZone:I,wantsFloorDelivery:si,settings:n,tipAmount:ii,appliedDiscount:wr,calculateTotal:Gl}),B&&c.jsx(mM,{customerData:Ye,orderType:b,restaurant:e,onConfirm:s_,onCancel:()=>pe(!1)})]})}class bM extends C.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,n){console.error("App Error:",t,n)}render(){return this.state.hasError?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md text-center",children:[c.jsx("div",{className:"text-4xl mb-4",children:""}),c.jsx("h1",{className:"text-xl font-bold text-gray-800 mb-2",children:"Qualcosa  andato storto"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Ci scusiamo per l'inconveniente. Ricarica la pagina per riprovare."}),c.jsx("button",{onClick:()=>window.location.reload(),className:"bg-green-500 text-white px-6 py-2 rounded-lg font-medium hover:bg-green-600",children:"Ricarica Pagina"})]})}):this.props.children}}Gj({dsn:"https://772805e6b4bd292e43f225b442a38710@o4510449395171328.ingest.de.sentry.io/4510449410506832",integrations:[Hj(),Ej()],tracesSampleRate:1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1});zc.createRoot(document.getElementById("root")).render(c.jsx(S_.StrictMode,{children:c.jsx(bM,{children:c.jsx(wM,{})})}));
